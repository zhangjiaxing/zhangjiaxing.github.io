<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>cat writebug.cn/history</title><link href="/" rel="alternate"></link><link href="/feeds/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2023-08-20T15:41:53+08:00</updated><subtitle>一个开发者的技术博客。</subtitle><entry><title>在Linux下交换Ctrl与大写锁定键</title><link href="/posts/2023/08/16/remap-caps-ctrl.html" rel="alternate"></link><published>2023-08-16T22:44:54+08:00</published><updated>2023-08-16T22:44:59+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-08-16:/posts/2023/08/16/remap-caps-ctrl.html</id><summary type="html">&lt;p&gt;备注： &lt;code&gt;不要在虚拟机里交换按键&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GNOME3 用户可以使用Tweaks工具交换大写锁定和Ctrl键。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;启动 Tweaks 程序。
从左侧菜单中选择 “Keyboard &amp;amp; Mouse”。
单击 “Additional …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;备注： &lt;code&gt;不要在虚拟机里交换按键&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GNOME3 用户可以使用Tweaks工具交换大写锁定和Ctrl键。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;启动 Tweaks 程序。
从左侧菜单中选择 “Keyboard &amp;amp; Mouse”。
单击 “Additional Layout Options”。
在打开的窗口中单击 “Ctrl position”，然后选择 “Swap Ctrl and Caps Lock”。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;Xfce桌面用户使用setxkeymap命令设置。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/usr/bin/setxkbmap -option &amp;quot;ctrl:nocaps&amp;quot;
# 把命令添加到 Xfce 的自启动配置（在设置管理器中查找 “Session and Startup”）里
# 这个是基于X的，控制台（tty）或者wayland下面不起作用。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;还有一种可能性是在文件 /etc/default/keyboard 或者&lt;code&gt;~/.keyboard&lt;/code&gt;中使用相同的选项：&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # KEYBOARD CONFIGURATION FILE
    # Consult the keyboard(5) manual page.
    XKBMODEL=&amp;quot;pc105&amp;quot;
    XKBLAYOUT=&amp;quot;us&amp;quot;
    XKBVARIANT=&amp;quot;&amp;quot;
    XKBOPTIONS=&amp;quot;ctrl:swapcaps&amp;quot; #添加这行
    BACKSPACE=&amp;quot;guess&amp;quot;
# 在fedora上测试不起作用，也许在debian上能用
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在控制台tty上交换按键
方法1： 设置/etc/default/keyboard ，然后setupcon
方法2： 通过dumpkeys 和 loadkeys设置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一些有用的man帮助
setxkbmap、xkeyboard-config、keyboard、console-setup setupcon，loadkeys dumpkeys&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="linux"></category><category term="Xwindow"></category></entry><entry><title>java入门精粹</title><link href="/posts/2023/08/15/learn-java.html" rel="alternate"></link><published>2023-08-15T00:52:44+08:00</published><updated>2023-08-15T22:15:02+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-08-15:/posts/2023/08/15/learn-java.html</id><summary type="html">&lt;h2&gt;第一章 java开发入门&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;java类只支持单继承，但接口之间支持多继承。&lt;/li&gt;
&lt;li&gt;jdk包括java编译器，java运行时，java文档工具，java打包工具等。&lt;/li&gt;
&lt;li&gt;jdk安 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2&gt;第一章 java开发入门&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;java类只支持单继承，但接口之间支持多继承。&lt;/li&gt;
&lt;li&gt;jdk包括java编译器，java运行时，java文档工具，java打包工具等。&lt;/li&gt;
&lt;li&gt;jdk安装目录内的db目录，这是java实现的开源数据库javaDB,支持jdbc。&lt;/li&gt;
&lt;li&gt;java源文件扩展名是.java, 编译后的字节码文件扩展名是.class。&lt;/li&gt;
&lt;li&gt;HelloWrold.java&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelloWorld&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kd"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;out&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;hello world&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;使用javac HelloWrold.java编译。生成HelloWorld.class。javac参数是文件名。&lt;/li&gt;
&lt;li&gt;java HelloWorld运行。java参数是类名。&lt;/li&gt;
&lt;li&gt;java相关环境变量。PATH环境变量用来寻找java和javac等。CLASSPATH变量是java虚拟机用来加载字节码文件的路径。如果CLASSPATH没有设置，默认就是&lt;code&gt;.(当前目录)&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;第二章 java编程基础&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;java代码的基本格式&lt;code&gt;修饰符 class 类名 { 代码 }&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;java中一个字符串中间不能分在两行写， 需要分成两个字符串用&lt;code&gt;+&lt;/code&gt;连接起来。&lt;/li&gt;
&lt;li&gt;java中的注释包括 单行注释&lt;code&gt;//&lt;/code&gt;， 多行注释&lt;code&gt;/*注释内容*/&lt;/code&gt;，文档注释&lt;code&gt;/**注释内容*/&lt;/code&gt;。javadoc命令用来把文档注释提取来生成帮助文档。&lt;/li&gt;
&lt;li&gt;java中的标识符可以包括大小写字母，数字，下划线_，和美元符号$，不能以数字开头，且不能是java关键字。&lt;/li&gt;
&lt;li&gt;建议的java命名规范&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;包名所有字母小写&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;类名和接口名每个单词首字母大写&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="mf"&gt;3.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;常量名所有字母大写&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;单词间用下划线连接&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="mf"&gt;4.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;变量名和方法名第一个单词首字母小写&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;从第二个单词开始首字母大写&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;java关键字&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;abstract&lt;/span&gt; &lt;span class="n"&gt;boolean&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt; &lt;span class="n"&gt;byte&lt;/span&gt; &lt;span class="n"&gt;case&lt;/span&gt; 
&lt;span class="n"&gt;catch&lt;/span&gt; &lt;span class="n"&gt;char&lt;/span&gt; &lt;span class="n"&gt;const&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;continue&lt;/span&gt; 
&lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="n"&gt;do&lt;/span&gt; &lt;span class="n"&gt;double&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; 
&lt;span class="n"&gt;final&lt;/span&gt; &lt;span class="k"&gt;finally&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;goto&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;implements&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;instanceof&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;
&lt;span class="n"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;long&lt;/span&gt; &lt;span class="n"&gt;native&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;package&lt;/span&gt;
&lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;protected&lt;/span&gt; &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;short&lt;/span&gt;
&lt;span class="n"&gt;static&lt;/span&gt; &lt;span class="n"&gt;strictfp&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt; &lt;span class="n"&gt;switch&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;
&lt;span class="n"&gt;throw&lt;/span&gt; &lt;span class="n"&gt;throws&lt;/span&gt; &lt;span class="n"&gt;transient&lt;/span&gt; &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="n"&gt;void&lt;/span&gt;
&lt;span class="n"&gt;volatile&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;synchronized&lt;/span&gt;
&lt;span class="n"&gt;所有关键字都是小写的&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;java中的整形常量支持二进制八进制十进制十六进制表示，二进制八进制十六进制分别以&lt;code&gt;0b/0B，0, 0x/0X&lt;/code&gt;开头。&lt;/li&gt;
&lt;li&gt;java浮点型常量，单精度后面用F/f结尾，双精度后面用D/d结尾。d可以不写，默认是双精度。&lt;/li&gt;
&lt;li&gt;java字符常量，要用英文单引号引起来，java使用unicode字符集，支持转义字符，支持 '\u0000'。&lt;/li&gt;
&lt;li&gt;java布尔常量包括true 和false。&lt;/li&gt;
&lt;li&gt;null类型常量只有一个值null,表示对象的引用是空。&lt;/li&gt;
&lt;li&gt;十进制转二进制是一个不断除以2区余数的过程。把要转换的数除以2,得到商和余数，把商继续除以2,直到商为0.&lt;/li&gt;
&lt;li&gt;二进制转十进制要从右到左用二进制位上的每个数乘以2的相应次方。&lt;/li&gt;
&lt;li&gt;java是强类型的语言。数据类型分成基本数据类型和引用数据类型。基本数据类型包括数值型（byte short int long float double）和字符型char，布尔型boolean。引用数据类型包括类class, 接口interface,数组，枚举enum,注解annotation。&lt;/li&gt;
&lt;li&gt;占用空间，（单位字节）byte类型 1，short 2, int 4, long 8. &lt;/li&gt;
&lt;li&gt;long型变量赋值时候右面的常量需要用L结尾。&lt;/li&gt;
&lt;li&gt;char类型变量占用2个字节。也可以把char赋值为0-65535之间的整数。&lt;/li&gt;
&lt;li&gt;boolean类型变量取值是true或false。&lt;/li&gt;
&lt;li&gt;强制类型转换&lt;code&gt;目标类型 变量 = (目标类型)值&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;变量在表达式中进行运算时，可能会发生自动类型转换，比如byte自动转换为int.&lt;/li&gt;
&lt;li&gt;java中的算术运算符包括&lt;code&gt;+（正号） -（负号）+ - * / % ++（前） ++（后）--（前）--（后）&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;在进行除法运算时，当除数和被除数都是整数时，得到的结果也是整数，如果除法运算有小数参与，得到的结果是小数。&lt;/li&gt;
&lt;li&gt;在进行取模运算时，运算结果的正负取决于被模数（左边的数）的负号，与模数（右边的数）的符号无关。&lt;/li&gt;
&lt;li&gt;赋值运算符包括&lt;code&gt;= += -= *= /= %=&lt;/code&gt;。赋值运算符是有返回值的，可以用一条语句为多个变量赋值，比如&lt;code&gt;a=b=c=5;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;用=为变量赋值时，在目标类型取值范围小于源类型时，比如将int变量赋值给short类型变量，需要显示的强制类型转换。用&lt;code&gt;+= -= *= /= %=&lt;/code&gt;为变量赋值时，强制类型转换会自动完成。&lt;/li&gt;
&lt;li&gt;比较运算符包括&lt;code&gt;== != &amp;lt; &amp;gt; &amp;lt;= &amp;gt;=&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;逻辑运算符用于对布尔类型的数据运算，结果也是布尔类型数据。包括&lt;code&gt;&amp;amp;  |  ^异或  !非  &amp;amp;&amp;amp;  ||&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&amp;amp;&amp;amp;是短路与，&amp;amp;不短路。||是短路或，|不短路。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt;表示异或。&lt;/li&gt;
&lt;li&gt;位运算符包括&lt;code&gt;&amp;amp;按位与  |按位或  ~去反  ^按位异或  &amp;lt;&amp;lt;左移  &amp;gt;&amp;gt;右移  &amp;gt;&amp;gt;&amp;gt;无符号右移&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;运算符优先级，&lt;code&gt;. []  ()&lt;/code&gt;优先级最高，赋值运算符优先级最低。&lt;/li&gt;
&lt;li&gt;选择结构语句支持&lt;code&gt;if(){}else{}&lt;/code&gt;，和C一样。支持&lt;code&gt;判断条件?表达式1:表达式2&lt;/code&gt;三元运算符。&lt;/li&gt;
&lt;li&gt;switch语句用法和C里面一样，但支持了String。&lt;/li&gt;
&lt;li&gt;while,do...while,for,break,continue用法和C中一样，但break和continue额外支持标记，多层循环时，用来跳出外层循环。用法是&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;itcast&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++){&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;++){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;itcast&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;//跳出外层循环&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;已经读完了page58/426。
后面的内容有机会补充&lt;/p&gt;</content><category term="programming"></category><category term="programming-language"></category><category term="java"></category></entry><entry><title>Tcl 和 expect教程</title><link href="/posts/2023/08/04/tcl-expect.html" rel="alternate"></link><published>2023-08-04T22:08:51+08:00</published><updated>2023-08-12T23:41:51+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-08-04:/posts/2023/08/04/tcl-expect.html</id><summary type="html">&lt;h1&gt;expect&lt;/h1&gt;
&lt;p&gt;expect是用于命令行自动化交互的程序，相当于命令行版本的按键精灵。可以用来输入密码，操作程序。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;expect基于Tcl/Tk实现，在expect …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h1&gt;expect&lt;/h1&gt;
&lt;p&gt;expect是用于命令行自动化交互的程序，相当于命令行版本的按键精灵。可以用来输入密码，操作程序。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;expect基于Tcl/Tk实现，在expect脚本中使用Tcl语法和支持Tcl命令。&lt;/li&gt;
&lt;li&gt;通过添加Tk,你可以把命令行程序封装在Gui中。&lt;/li&gt;
&lt;li&gt;O'Reilly提供了一本关于Expect的书，书名为"Exploring Expect: A Tcl-Based Toolkit for Automating Interactive Applications", ISBN 1-56592-090-2.&lt;/li&gt;
&lt;li&gt;autoexpect 这是expect安装包提供的命令，支持录制expect脚本，录制好后稍微修改就能运行。&lt;/li&gt;
&lt;li&gt;shebang里面写&lt;code&gt;#!/usr/local/bin/expect −−&lt;/code&gt; --的作用是给脚本传递用户参数时避免被当成expect自身的参数。脚本可以从argv里面读取用户传递的参数。&lt;/li&gt;
&lt;li&gt;脚本参数在Tcl里面是&lt;code&gt;$argc $argv0 $argv&lt;/code&gt; $argc表示参数个数，$argv0相当于C语言中的argv[0], $argv是一个Tcl list, 使用&lt;code&gt;[lindex $argv index]&lt;/code&gt;来访问。&lt;/li&gt;
&lt;li&gt;Tcl 变量用&lt;code&gt;set 变量名 变量值&lt;/code&gt;定义。变量用&lt;code&gt;$变量名&lt;/code&gt;访问。&lt;/li&gt;
&lt;li&gt;Tcl if语句通常写法为 if { 条件 } { 条件执行内容 } elseif {条件} {执行内容} else {执行内容}&lt;/li&gt;
&lt;li&gt;Tcl while语句通常写法为 while { 条件} { 循环体 }&lt;/li&gt;
&lt;li&gt;Tcl foreach语句通常写法为 &lt;code&gt;foreach 变量名 列表 { 执行内容 }&lt;/code&gt;。 while循环和foreach循环支持continue 和break。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;常用命令&lt;/span&gt;
&lt;span class="n"&gt;spawn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;启动要交互的应用程序&lt;/span&gt;
&lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;用于向进程发送字符串&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;换行符或者回车符&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;确认输入&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;send_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;用来打印输出&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;和tcl中puts差不多&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;interact&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;允许用户交互&lt;/span&gt;
&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;退出expect脚本&lt;/span&gt;
&lt;span class="n"&gt;eof&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;expect执行结束&lt;/span&gt;
&lt;span class="n"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;执行程序&lt;/span&gt;
&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;暂停5秒&lt;/span&gt;


&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;命令作用&lt;/span&gt;&lt;span class="err"&gt;：&lt;/span&gt;&lt;span class="n"&gt;等待&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;直到其中一个模式与派生进程的输出匹配&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;超时&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;或者遇到文件结尾&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;expect支持多分支匹配&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;用法如下&lt;/span&gt;
&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;pat1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;body1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;patn&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;bodyn&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;exp_continue&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;在expect中多模式匹配就需要用到&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;允许expect本身继续执行&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;而不是按原样返回&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;定义expect超时的时间&lt;/span&gt;

&lt;span class="n"&gt;一个例子&lt;/span&gt;&lt;span class="err"&gt;：&lt;/span&gt;
&lt;span class="cp"&gt;#!/usr/bin/expect&lt;/span&gt;
&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;

&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nl"&gt;Password&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;send_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;password (for $user) on $host: &amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;expect_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;(.*)&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;send_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;$expect_out(1,string)&lt;/span&gt;&lt;span class="se"&gt;\r&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;exp_continue&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;incorrect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;send_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;invalid password or account&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;send_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;connection to $host timed out&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;eof&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="n"&gt;send_user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;\
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;connection to host failed: $expect_out(buffer)&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;$prompt&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Tcl语言学习&lt;/h1&gt;
&lt;h2&gt;Tcl语言介绍&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;最早称为“工具命令语言” Tool Command Language&lt;/li&gt;
&lt;li&gt;跨平台&lt;/li&gt;
&lt;li&gt;容易学习&lt;/li&gt;
&lt;li&gt;方便图形界面编程（Tk）&lt;/li&gt;
&lt;li&gt;既可以交互式执行脚本，也可以内嵌到其他程序中&lt;/li&gt;
&lt;li&gt;支持事件循环&lt;/li&gt;
&lt;li&gt;支持package&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;语法（man Tcl）&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;分号和换行分隔命令，命令和参数之间用空格/tab分割。&lt;code&gt;#&lt;/code&gt;是单行注释，注释字符只有出现在一个命令开始时才有意义。&lt;/li&gt;
&lt;li&gt;命令求值过程：1. 解释器把命令分解成字worlds, 完成替换。2. 第一个字是执行过程，后面的字作为执行过程的参数。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;""&lt;/code&gt;双引号内的内容表示一个“字”， 在引号之间的字符上会进行命令替换、变量替换、和反斜杠替换。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{}&lt;/code&gt;花括号内的内容表示一个“字”，花括号可以嵌套， 花括号会按照层级进行匹配。在花括号之间的字符上不进行替换，对分号、换行、右方括号、或白空格不做特殊的解释。（除了下面描述的反斜杠-换行替换之外）。字由外侧的花括号之间的字符精确的组成，不包括花括号自身。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[]&lt;/code&gt;方括号之间的内容Tcl进行命令替换。将递归调用Tcl解释器来把方括号中的字符作为一个Tcl脚本处理。脚本的结果将被替换到字方括号的位置。。在一个单一的字中可以有任意数目的命令替换。在由花括号包起来的字上不进行命令替换。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt;开始的字，Tck会进行变量替换。支持&lt;code&gt;$name&lt;/code&gt; &lt;code&gt;${name}&lt;/code&gt;, 替换数组时用&lt;code&gt;$name(index)&lt;/code&gt;。index的字符将被进行命令替换、变量替换、和反斜杠替换。&lt;code&gt;${name}&lt;/code&gt;可以包含除了右括号之外的任何字符。一个单一的字中可以有任意数目的变量替换。在由花括号包起来的字上不进行命令替换。&lt;/li&gt;
&lt;li&gt;用&lt;code&gt;\&lt;/code&gt;反斜线进行转义。支持的转义字符有&lt;code&gt;\a \b \f \n \r \t \v \{ \} \\&lt;/code&gt;。&lt;code&gt;\&amp;lt;newline&amp;gt;whiteSpace&lt;/code&gt;用来替换换行+空格的，整体会被替换为一个空格。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&lt;/code&gt;转义符号也支持unicode。&lt;code&gt;\ooo&lt;/code&gt; o是最多三个的8进制字符。&lt;code&gt;\xhh&lt;/code&gt; h是最多2个的16进制字符。&lt;code&gt;\uhhhh&lt;/code&gt; 最多4个的16进制字符。这些会被替换成unicode字符。除了&lt;code&gt;\&amp;lt;newline&amp;gt;whiteSpace&lt;/code&gt;，其他在由花括号包起来的字上不进行反斜杠替换。&lt;/li&gt;
&lt;li&gt;替换不影响一个命令的字边界。例如，即使变量的值包含空格，在变量替换期间变量的整个的值成为一个单一的字的一部分。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;备注&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;有个交互式解释器tclsh, 可以作为操作系统的shell使用&lt;/li&gt;
&lt;li&gt;没有数字类型，可以认为只有Tck中的一切都是字worlds构成。&lt;/li&gt;
&lt;li&gt;三种替换，分别是命令替换[]， 变量替换$，反斜线替换。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;自己瞎点评Tcl语言&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;函数传参和bash脚本一样，在进入函数前要把列表先展开，然后传递给命令，注定了效率低。&lt;/li&gt;
&lt;li&gt;如果没有在参数中展开的变量，比如array这种不支持直接展开的，要在函数内用upvar命令获取上层函数的变量。使用起来不太方便。&lt;/li&gt;
&lt;li&gt;不支持类型，一切都是token list，这个特点也让Tcl不能很方便的操作json等带类型的复杂数据结构。比如json里面的"100"是个字符串，转到Tcl里面类型就会丢失和100没区别。而python的json和dict互转就非常自然。&lt;/li&gt;
&lt;li&gt;从语言定位来看, Tcl 应该是介于bash script和lua/python之间的编程语言。字符串处理和数据运算比bash方便，调用系统命令方便，也带json数据库网络图形界面支持，适合用来写不太复杂，但又要操作数据或者需要gui的脚本。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;常用命令&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;查看Tcl命令帮助可以&lt;code&gt;man 3Tcl 命令&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set 变量 值&lt;/code&gt;能够设置变量的值, 无需声明变量。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unset 变量&lt;/code&gt;移除变量&lt;/li&gt;
&lt;li&gt;&lt;code&gt;puts WORLDS&lt;/code&gt; 显示，支持worlds中支持变量替换&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;条件执行和循环&lt;/h3&gt;
&lt;p&gt;if根据条件执行脚本。使用方法&lt;code&gt;if expr1 ?then? body1 elseif expr2 ?then? body2 elseif ... ?else? ?bodyN?&lt;/code&gt;。前后有问号的worlds是可以省略的。
if命令把expr1作为一个表达式来求值(用与expr求值它的参数相同的方式)。这个表达式的值必须式一个boolean值(一个数值值，这里0是假而任何其他数值都是真；或者是一个字符串值，比如true或yes是真 而false或no是假)；如果它是真通过把body1传递给Tcl解释器来执行它。
由于expr1 和 body1是一个表达式（worlds）, 所以一般要用{}或双引号引起来传递给if。不能乱换行，换行需要在&lt;code&gt;{或者"&lt;/code&gt;中。
then和else是可选的“噪音词”用来使命令易读。命令的返回值是被执行的那个脚本的返回值。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;expr命令会首先用空格连接所有参数，在命令提换和变量替换后，计算表达式的值，和C语言差不多。 详见&lt;code&gt;man 3tcl expr&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhangsan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;puts&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;nihao
&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;puts&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;hello
&lt;span class="k"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;”&lt;/span&gt;&lt;span class="nv"&gt;$age&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="err"&gt;“&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    puts &amp;gt;=14&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;    puts &amp;lt;14&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;和&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;之间要有空格&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;否则会被Tcl当作一个整体&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="nv"&gt;第一个if更易读&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="nv"&gt;这两个区别是用花括号时候&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="nv"&gt;$name&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;是在if外面被求值&lt;span class="err"&gt;。&lt;/span&gt;用双引号则&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="nv"&gt;$age&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;在if命令里面被求值&lt;span class="err"&gt;（&lt;/span&gt;替换&lt;span class="err"&gt;）。&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;while test body&lt;/code&gt;循环。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;其他流程控制&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;foreach&lt;/span&gt;
&lt;span class="nv"&gt;switch&lt;/span&gt;

&lt;span class="k"&gt;continue&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;和&lt;span class="nv"&gt;break&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;和&lt;span class="nv"&gt;C&lt;/span&gt;语言中一样。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;字符串处理&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;string命令用于字符串处理&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;list （man 3tcl list）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;list ?arg arg ...?&lt;/code&gt;这个命令返回由所有arg组成的一个列表。如果未指定arg 则返回一个空串。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;list  直接用原始参数来工作。例如，命令
    list a b {c d e} {f {g h}}
将返回
    a b {c d e} {f {g h}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;创建list变量的三种方法&lt;code&gt;set arr "1 2 3 4"&lt;/code&gt; &lt;code&gt;set arr {1 2 3 4}&lt;/code&gt; &lt;code&gt;set arr [list 1 2 3 4]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;list相关命令用l开头，可以在tclsh中输入l,查询list相关命令有哪些。&lt;code&gt;lappend lassign lindex linsert list llength lmap load lrange lrepeat lreplace lreverse lsearch lset lsort&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;llength 获取元素个数字符串&lt;/li&gt;
&lt;li&gt;lrange 截取子list&lt;/li&gt;
&lt;li&gt;lindex 根据index获取元素&lt;/li&gt;
&lt;li&gt;linsert 插入&lt;/li&gt;
&lt;li&gt;lset 修改指定位置的元素&lt;/li&gt;
&lt;li&gt;lreplace 相当于字符串的replace，可以替换为0个到多个元素。&lt;/li&gt;
&lt;li&gt;lconat 合并list&lt;/li&gt;
&lt;li&gt;lappend 追加list元素&lt;/li&gt;
&lt;li&gt;lrepeat 把value重复N次，得到一个list&lt;/li&gt;
&lt;li&gt;join 相当于字符串的join。&lt;/li&gt;
&lt;li&gt;split 把一个字符串分离成一个Tcl列表&lt;/li&gt;
&lt;li&gt;lsearch 搜索list,支持严格匹配，通配符，或者正则匹配&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;array数组变量 （man 3tcl array）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array set arrayName list&lt;/code&gt;创建array,list由偶数个元素组成，每个奇数元素被作为在array中被作为一个index对待。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;array get arrayName ?pattern?&lt;/code&gt; 成对的返回数组元素列表。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;array size arrayName&lt;/code&gt; 返回元素个数字符串&lt;/li&gt;
&lt;li&gt;&lt;code&gt;glob partten&lt;/code&gt; 用于匹配文件路径，支持通配符&lt;code&gt;*?[char]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;创建命令（函数）&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;proc name args body&lt;/code&gt;
args是一个列表，可以为空，每个元素指定一个参数。每个参数指定符也可以是有一个或两个字段个列表。如果有两个字段，则第一个是参数名而第二个是参数的默认值。&lt;/p&gt;
&lt;h3&gt;文件操作&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;常用命令介绍
open
close
file
eof
gets
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;其他重要的命令&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;format&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;按&lt;span class="nv"&gt;sprintf&lt;/span&gt;格式输出
&lt;span class="k"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;调用可执行程序
&lt;span class="nv"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;执行脚本
&lt;span class="nv"&gt;info&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;判断变量是否存在
&lt;span class="k"&gt;exit&lt;/span&gt;
&lt;span class="nv"&gt;expr&lt;/span&gt;
&lt;span class="nv"&gt;eval&lt;/span&gt;
&lt;span class="nv"&gt;incr&lt;/span&gt;
&lt;span class="nv"&gt;socket&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;tcp&lt;/span&gt;服务端客户端
&lt;span class="nv"&gt;encoding&lt;/span&gt;
&lt;span class="nv"&gt;dict&lt;/span&gt;
&lt;span class="nv"&gt;json&lt;/span&gt;


&lt;span class="nv"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="nv"&gt;tcl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;namespace&lt;/span&gt;
&lt;span class="nv"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="nv"&gt;tcl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;package&lt;/span&gt;
&lt;span class="nv"&gt;ls&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;share&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;man&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;zh_CN&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;man3&lt;/span&gt;&lt;span class="cm"&gt;/*tcl&lt;/span&gt;
&lt;span class="cm"&gt;rpm -ql tcl&lt;/span&gt;
&lt;span class="cm"&gt;rpm -ql tcllib&lt;/span&gt;
&lt;span class="cm"&gt;rpm -ql tclx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="programming"></category></entry><entry><title>armbian-config 支持自动安装的软件</title><link href="/posts/2023/08/01/armbian-config-software.html" rel="alternate"></link><published>2023-08-01T21:18:49+08:00</published><updated>2023-08-01T22:57:06+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-08-01:/posts/2023/08/01/armbian-config-software.html</id><summary type="html">&lt;h5&gt;发现armbian-config-software里面带的软件比较实用。有些工具值得尝试。在这里记录下armbian-config支持的软件列表。&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://tvheadend.org/"&gt;TV headend&lt;/a&gt; &lt;em&gt;(IPTV server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://syncthing.net/"&gt;Syncthing&lt;/a&gt; &lt;em&gt;(personal cloud)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.softether.org/"&gt;SoftEther VPN server&lt;/a&gt; &lt;em&gt;(VPN server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.plex.tv/"&gt;Plex&lt;/a&gt; &lt;em&gt;(Plex media …&lt;/em&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h5&gt;发现armbian-config-software里面带的软件比较实用。有些工具值得尝试。在这里记录下armbian-config支持的软件列表。&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://tvheadend.org/"&gt;TV headend&lt;/a&gt; &lt;em&gt;(IPTV server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://syncthing.net/"&gt;Syncthing&lt;/a&gt; &lt;em&gt;(personal cloud)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.softether.org/"&gt;SoftEther VPN server&lt;/a&gt; &lt;em&gt;(VPN server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.plex.tv/"&gt;Plex&lt;/a&gt; &lt;em&gt;(Plex media server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Emby (Emby media server)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://radarr.video/"&gt;Radarr&lt;/a&gt; &lt;em&gt;(Movie downloading server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://sonarr.tv/"&gt;Sonarr&lt;/a&gt; &lt;em&gt;(TV shows downloading server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://transmissionbt.com/"&gt;Transmission&lt;/a&gt; &lt;em&gt;(torrent server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ispconfig.org/"&gt;ISPConfig&lt;/a&gt; &lt;em&gt;(WEB &amp;amp; MAIL server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://ownyourbits.com/nextcloudpi/"&gt;NCP&lt;/a&gt; &lt;em&gt;(Nextcloud personal cloud)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.openmediavault.org/"&gt;Openmediavault NAS&lt;/a&gt; &lt;em&gt;(NAS server)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;[OpenHab2] (Smarthome suite)&lt;/li&gt;
&lt;li&gt;Home Assistant (Smarthome suite within Docker)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pi-hole.net"&gt;PI hole&lt;/a&gt; &lt;em&gt;(ad blocker)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.urbackup.org/"&gt;UrBackup&lt;/a&gt; *(client/server backup system)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.docker.com"&gt;Docker&lt;/a&gt; &lt;em&gt;(Docker CE engine)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.mayan-edms.com/"&gt;Mayan EDMS&lt;/a&gt; &lt;em&gt;(Document management system within Docker)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://minidlna.sourceforge.net/"&gt;MiniDLNA&lt;/a&gt; &lt;em&gt;(media sharing)&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cups&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;samba&lt;/li&gt;
&lt;li&gt;emby_server&lt;/li&gt;
&lt;li&gt;Jailkit&lt;/li&gt;
&lt;li&gt;pureFTPd&lt;/li&gt;
&lt;li&gt;Quota&lt;/li&gt;
&lt;li&gt;haveged&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;monitoring tools&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;create diagnostics report&lt;/li&gt;
&lt;li&gt;toggle kernel headers, RDP service, Thunderbird and LibreOffice (desktop builds)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;https://github.com/armbian/config&lt;/p&gt;</content><category term="software"></category><category term="linux"></category><category term="software"></category></entry><entry><title>rsync基本使用方法</title><link href="/posts/2023/07/31/rsync.html" rel="alternate"></link><published>2023-07-31T01:29:08+08:00</published><updated>2023-08-08T01:07:58+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-07-31:/posts/2023/07/31/rsync.html</id><summary type="html">&lt;h2&gt;rsync介绍&lt;/h2&gt;
&lt;p&gt;rsync是快速和通用的远程和本地文件同步工具。&lt;/p&gt;
&lt;p&gt;支持通过远程shell或者rsnyc守护进程进行同步。经常用作备份和镜像的 …&lt;/p&gt;</summary><content type="html">&lt;h2&gt;rsync介绍&lt;/h2&gt;
&lt;p&gt;rsync是快速和通用的远程和本地文件同步工具。&lt;/p&gt;
&lt;p&gt;支持通过远程shell或者rsnyc守护进程进行同步。经常用作备份和镜像的工具。&lt;strong&gt;使用远程shell同步时，rsync必须同时安装在源机器和目标机器上。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;rsync 默认使用文件大小和修改时间决定文件是否需要更新。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;支持拷贝连接，设备，所有者，组和权限。支持排除指定的文件进行同步。 支持匿名也支持身份认证的文件同步。&lt;/p&gt;
&lt;p&gt;rsnyc支持本地和远程之间同步，也支持本地不同目录同步。&lt;/p&gt;
&lt;h2&gt;rsync用法&lt;/h2&gt;
&lt;p&gt;一个冒号的是ssh协议
两个冒号或rsync://开头是rsync协议，两者等价&lt;/p&gt;
&lt;h3&gt;本地&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rsync [OPTION...] SRC... [DEST]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;远程push&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rsync [OPTION...] [USER@]HOST:SRC... [DEST]&lt;/li&gt;
&lt;li&gt;rsync [OPTION...] [USER@]HOST::SRC... [DEST]&lt;/li&gt;
&lt;li&gt;sync [OPTION...] rsync://[USER@]HOST[:PORT]/SRC... [DEST]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;远程pull&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rsync [OPTION...] SRC... [USER@]HOST:DEST&lt;/li&gt;
&lt;li&gt;rsync [OPTION...] SRC... [USER@]HOST::DEST&lt;/li&gt;
&lt;li&gt;rsync [OPTION...] SRC... rsync://[USER@]HOST[:PORT]/DEST&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;常见用法&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;rsync -av  --delete root@git.local:/root/repo/  ~/workspace/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;理解SRC结尾的/， 如果不带/， 则把repo目录放到workspace下面，如果带上/则吧repo目录里面的文件同步到workspace下。&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;rsync -rtNlHv  --progress --delete --block-size=8192  rsync://cdimage.debian.org/debian-cd/   ~/debian-cd/
同步debian-cd源，-rtNlHv  --progress --delete --block-size=8192 参数依次分别是：递归，同步（mtime），同步创建时间（birth），保留软连接，保留硬连接，输出细节，显示进度，在目标中删除源中没有的文件。 --block-size=8192是为了优化性能。&lt;/p&gt;
&lt;p&gt;其实也可以简写为&lt;code&gt;rsync -aNHlv  --progress --delete rsync://cdimage.debian.org/debian-cd/   ~/debian-cd/&lt;/code&gt; # 这样会多同步文件属主属组等。（看手册是这样，没验证）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;常用参数&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;-r 表示递归，即包含子目录。注意，同步目录递归是必须的。&lt;/li&gt;
&lt;li&gt;−t  这个命令告诉rsync将修改时间与文件一起传输。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-a参数可以替代-r，除了可以递归同步以外，还可以同步元信息（比如修改时间、权限等），支持设备文件，保留符号连接。由于 rsync 默认使用文件大小和修改时间决定文件是否需要更新，所以-a比-r更有用。-a是常见用法。&lt;/strong&gt; &lt;/li&gt;
&lt;li&gt;-a 相当于 -rlptgoD，分别代表递归，使用软连接同步软连接，同步权限，同步修改时间，同步文件群组， 同步文件属主，同步设备文件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-c、--checksum参数改变rsync的校验方式。默认情况下，rsync 只检查文件的大小和最后修改日期是否发生变化，如果发生变化，就重新传输；使用这个参数以后，则通过判断文件内容的校验和，决定是否重新传输。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;--delete参数删除只存在于目标目录、不存在于源目标的文件，即保证目标目录是源目标的镜像。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;−−crtimes, −N, 将目标文件的创建时间设置为与源文件相同的值。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;--exclude参数指定排除不进行同步的文件，比如--exclude="*.iso"。&lt;/li&gt;
&lt;li&gt;--exclude-from参数指定一个本地文件，里面是需要排除的文件模式，每个模式一行。&lt;/li&gt;
&lt;li&gt;--existing、--ignore-non-existing参数表示不同步目标目录中不存在的文件和目录。&lt;/li&gt;
&lt;li&gt;-h参数表示以人类可读的格式输出。&lt;/li&gt;
&lt;li&gt;--hard-links, -H 保留硬连接。&lt;/li&gt;
&lt;li&gt;--links, -l 保留符号链接&lt;/li&gt;
&lt;li&gt;--ignore-existing参数表示只要该文件在目标目录中已经存在，就跳过去，不再同步这些文件。&lt;/li&gt;
&lt;li&gt;--include参数指定同步时要包括的文件，一般与--exclude结合使用。&lt;/li&gt;
&lt;li&gt;--link-dest参数指定增量备份的基准目录。&lt;/li&gt;
&lt;li&gt;-m参数指定不同步空目录。&lt;/li&gt;
&lt;li&gt;-n参数或--dry-run参数模拟将要执行的操作，而并不真的执行。配合-v参数使用，可以看到哪些内容会被同步过去。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;--progress参数表示显示进展。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;--remove-source-files参数表示传输成功后，删除发送方的文件。&lt;/li&gt;
&lt;li&gt;--size-only参数表示只同步大小有变化的文件，不考虑文件修改时间的差异。&lt;/li&gt;
&lt;li&gt;-v参数表示输出细节。-vv表示输出更详细的信息，-vvv表示输出最详细的信息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-z参数指定同步时压缩数据。&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;防止误删文件&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;-u、--update参数表示同步时跳过目标目录中修改时间更新的文件，即不同步这些有更新的时间戳的文件。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;-b、--backup参数指定在删除或更新目标目录已经存在的文件时，将该文件更名后进行备份，默认行为是删除。更名规则是添加由--suffix参数指定的文件后缀名，默认是~。&lt;/li&gt;
&lt;li&gt;--backup-dir参数指定文件备份时存放的目录，比如--backup-dir=/path/to/backups。&lt;/li&gt;
&lt;li&gt;--ignore-existing参数表示只要该文件在目标目录中已经存在，就跳过去，不再同步这些文件。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;继续传输&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;--append参数指定文件接着上次中断的地方，继续传输。&lt;/li&gt;
&lt;li&gt;--append-verify参数跟--append参数类似，但会对传输完成后的文件进行一次校验。如果校验失败，将重新发送整个文件。&lt;/li&gt;
&lt;li&gt;-P参数是--progress和--partial这两个参数的结合。&lt;/li&gt;
&lt;li&gt;---partial参数允许恢复中断的传输。不使用该参数时，rsync会删除传输到一半被打断的文件；使用该参数后，传输到一半的文件也会同步到目标目录，下次同步时再恢复中断的传输。一般需要与--append或--append-verify配合使用。&lt;/li&gt;
&lt;li&gt;--partial-dir参数指定将传输到一半的文件保存到一个临时目录，比如--partial-dir=.rsync-partial。一般需要与--append或--append-verify配合使用。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;增量备份&lt;/h2&gt;
&lt;p&gt;rsync 的最大特点就是它可以完成增量备份，也就是默认只复制有变动的文件。&lt;/p&gt;
&lt;p&gt;除了源目录与目标目录直接比较，rsync 还支持使用基准目录，即将源目录与基准目录之间变动的部分，同步到目标目录。&lt;/p&gt;
&lt;p&gt;具体做法是，第一次同步是全量备份，所有文件在基准目录里面同步一份。以后每一次同步都是增量备份，只同步源目录与基准目录之间有变动的部分，将这部分保存在一个新的目标目录。这个新的目标目录之中，也是包含所有文件，但实际上，只有那些变动过的文件是存在于该目录，其他没有变动的文件都是指向基准目录文件的硬链接。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--link-dest参数用来指定同步时的基准目录。&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$ rsync -a --delete --link-dest /compare/path /source/path /target/path&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;上面命令中，--link-dest参数指定基准目录/compare/path，然后源目录/source/path跟基准目录进行比较，找出变动的文件，将它们拷贝到目标目录/target/path。那些没变动的文件则会生成硬链接。这个命令的第一次备份时是全量备份，后面就都是增量备份了。&lt;/p&gt;</content><category term="storage"></category><category term="storage"></category><category term="linux"></category></entry><entry><title>文件同步工具对比</title><link href="/posts/2023/07/30/file-sync-tools-compare.html" rel="alternate"></link><published>2023-07-30T23:04:24+08:00</published><updated>2023-07-31T01:28:31+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-07-30:/posts/2023/07/30/file-sync-tools-compare.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;FreeFileSync # 操作非常简单，图形化界面方式使用，支持Windows, Linux，Mac， 支持sftp,ftp协议&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Syncthing # 支持多客户端一起同步，p2p，支持大多数操作系统，支持 …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;FreeFileSync # 操作非常简单，图形化界面方式使用，支持Windows, Linux，Mac， 支持sftp,ftp协议&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Syncthing # 支持多客户端一起同步，p2p，支持大多数操作系统，支持Android。通过web操作。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rsync # 命令行操作, 支持同步远程和本地，支持rsync协议和ssh协议，功能丰富。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="storage"></category><category term="storage"></category><category term="linux"></category></entry><entry><title>gdb的基本使用方法</title><link href="/posts/2023/07/29/gdb.html" rel="alternate"></link><published>2023-07-29T00:26:32+08:00</published><updated>2023-07-30T22:41:38+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-07-29:/posts/2023/07/29/gdb.html</id><summary type="html">&lt;h1&gt;获取进程的coredump （内核转储）&lt;/h1&gt;
&lt;h2&gt;启用内核转储&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;查看coredump功能是否有效&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ulimit&lt;/code&gt;和&lt;code&gt;ulimit -c&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;开启内核转储&lt;/td&gt;
&lt;td&gt;ulimit -c unlimited&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;设置coredump大小上限&lt;/td&gt;
&lt;td&gt;ulimit …&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</summary><content type="html">&lt;h1&gt;获取进程的coredump （内核转储）&lt;/h1&gt;
&lt;h2&gt;启用内核转储&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;查看coredump功能是否有效&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ulimit&lt;/code&gt;和&lt;code&gt;ulimit -c&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;开启内核转储&lt;/td&gt;
&lt;td&gt;ulimit -c unlimited&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;设置coredump大小上限&lt;/td&gt;
&lt;td&gt;ulimit -c 大小（Byte）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gdb调试core文件&lt;/td&gt;
&lt;td&gt;gdb -c core.xxxx  ./a.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;检查是否是core文件&lt;/td&gt;
&lt;td&gt;file xxx输出core file&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;在专用目录中生成coredump&lt;/h2&gt;
&lt;p&gt;coredump保存位置的完整路径可以通过sysctl变量&lt;code&gt;kernel.core_pattern&lt;/code&gt;设置。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;临时修改使用&lt;code&gt;echo /var/core/%t-%e-%p-%c.core &amp;gt; /proc/sys/kernel/core_pattern&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;或者&lt;code&gt;/etc/sysctl.conf&lt;/code&gt;中设置&lt;code&gt;kernel.core_pattern=/var/core/%t-%e-%p-%c.core&lt;/code&gt;。然后&lt;code&gt;sysctl -p&lt;/code&gt;让配置生效。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;kernel.core_uses_pid=1 作用是在生成的core文件名字结尾添加&lt;code&gt;.PID&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;kernel.core_uses_pid=0则不添加。&lt;/p&gt;
&lt;h3&gt;kernel.core_pattern中可以设置的格式符&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;格式符&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;%%&lt;/td&gt;
&lt;td&gt;%字符本身&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%p&lt;/td&gt;
&lt;td&gt;进程PID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%u&lt;/td&gt;
&lt;td&gt;进程的真实用户ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%g&lt;/td&gt;
&lt;td&gt;进程的真实组ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%s&lt;/td&gt;
&lt;td&gt;引发coredump的信号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%t&lt;/td&gt;
&lt;td&gt;转储时间戳&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%h&lt;/td&gt;
&lt;td&gt;主机名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%e&lt;/td&gt;
&lt;td&gt;可执行文件名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;%c&lt;/td&gt;
&lt;td&gt;转储文件大小上限&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;使用用户程序辅助自动压缩coredump文件&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;kernel.core_pattern&lt;/code&gt;中可以加入管道符，管道符后面写程序名。&lt;/p&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;echo "|/usr/local/sbin/core_helper %t %e %p %c" &amp;gt; /proc/sys/kernel/core_pattern&lt;/code&gt; &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;或者 sudo sysctl -w 'kernel.core_pattern=%t-%e-%p-%c.core'&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;或者 /etc/sysctl.conf&lt;code&gt;中设置&lt;/code&gt;kernel.core_pattern=|/usr/local/sbin/core_helper %t %e %p %c&lt;code&gt;。然后sysctl -p&lt;/code&gt;让配置生效。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;core_heaper 文件内容很简单：&lt;/p&gt;
&lt;p&gt;cat core_heaper&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;gzip&lt;span class="w"&gt; &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/var/core/&lt;span class="nv"&gt;$1&lt;/span&gt;-&lt;span class="nv"&gt;$2&lt;/span&gt;-&lt;span class="nv"&gt;$3&lt;/span&gt;-&lt;span class="nv"&gt;$4&lt;/span&gt;.core
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;启用整个系统的coredump功能&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在 service 文件 &lt;code&gt;[Service]&lt;/code&gt;中添加LimitCORE=infinity， 不制service服务core文件的大小&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使SUID 程序也转储&lt;code&gt;sysctl -w 'fs.suid_dumpable=1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;systemd用户的coredumpctl&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;安装systemd-coredump &amp;amp;&amp;amp; reboot&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sudo coredumpctl list 列出当前corefile 文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sudo coredumpctl list 'smplayer' | tail -n 5&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/var/lib/systemd/coredump/ 这是corefile 默认保存位置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;coredumpctl -o core dump PID # 获得转储信息，输出到文件core 中&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;man systemd-coredump; man core 查看手册&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;利用内核转储掩码排除共享内存&lt;/h2&gt;
&lt;p&gt;有些程序会使用多个进程和几个G的共享内存，coredmp时间过长。&lt;/p&gt;
&lt;p&gt;在使用各个共享内存的进程中，共享内存的内容是相同的，没必要所有进程都转储共享内存。这种应用程序应当设置成只在某个进程中转储共享内存，其他进程无须转储。&lt;/p&gt;
&lt;p&gt;设置方法：echo 1 &amp;gt; &lt;code&gt;/proc/&amp;lt;PID&amp;gt;/coredump_filter&lt;/code&gt; （16进制）&lt;/p&gt;
&lt;p&gt;比特掩码对应的内存类型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(bit 0) anonymous private memory（匿名私有内存段）&lt;/li&gt;
&lt;li&gt;(bit 1) anonymous shared memory（匿名共享内存段）&lt;/li&gt;
&lt;li&gt;(bit 2) file-backed private memory（file-backed 私有内存段）&lt;/li&gt;
&lt;li&gt;(bit 3) file-backed shared memory（file-bakced 共享内存段）&lt;/li&gt;
&lt;li&gt;(bit 4) ELF header pages in file-backed private memory areas (ELF 文件映射, it is effective only if the bit 2 is cleared)&lt;/li&gt;
&lt;li&gt;(bit 5) hugetlb private memory（大页面私有内存）&lt;/li&gt;
&lt;li&gt;(bit 6) hugetlb shared memory（大页面共享内存）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;默认的coredump_filter 的值一般是0x33&lt;/p&gt;
&lt;p&gt;要跳过所有的共享内存，可以设置为 &lt;code&gt;echo 1 &amp;gt; /proc//coredump_filter&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;调试器的基本使用方法&lt;/h1&gt;
&lt;h3&gt;调试前的准备：修改编译参数&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;通过gcc的-g选项生成调试信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;gcc -Wall -O2 -g source.c&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;-ggdb 选项允许使用只有GDB才能使用的额外调试信息，包括gdb扩展&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-glevel | -ggdblevel `level取值范围 0 1 2 3。-g0不生成调试信息，否定-g。-g1生成调试信息最少，没有局部变量。-g2生成默认级别的调试信息。-g3包括额外的调试信息，支持宏定义。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果使用Makefile构建，一般要求给CFLAGS中指定-g选项。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;CFLAGS = -Wall -O2 -g&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果用configure脚本生成Makefile，可以这样用。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;./configure CFLAGS="-Wall -O2 -g"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;构建方法通常会写在INTALL, README等文件中。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-Wall -Werror 选项可以在警告发生时，当成错误来处理&lt;/p&gt;
&lt;p&gt;-Wl,-Map=output.map #-Wl,的意思是把后面的参数传递给连接器，传递给连接器的参数列表需要紧跟-Wl,用逗号分隔，不能有带空格。-Wl,-Map=output.map的作用是生成map文件。map文件包含函数地址入口等信息，如果gcc编译时候没有带调试信息，可以用map来定位调用栈中的函数，也可以通过函数地址入口信息通过gdb或者代码调用函数。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;如何知道程序带调试信息&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;readelf -S ./a.out | grep \.debug&lt;/code&gt; 如果带.debug段说明有调试信息。&lt;/p&gt;
&lt;h2&gt;启动调试&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;gdb 可执行文件名&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gdb --args ./a.out 可执行文件参数列表&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gdb -p PID&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gdb -c corefile 可执行文件&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;设置断点&lt;/h2&gt;
&lt;p&gt;程序运行后，到达断点会自动暂停运行。&lt;/p&gt;
&lt;p&gt;断点命令break,简写b。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;break命令格式&lt;/th&gt;
&lt;th&gt;例子&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;break （在下一行代码上设置断点）&lt;/td&gt;
&lt;td&gt;break&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;break 函数名&lt;/td&gt;
&lt;td&gt;break sendto&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;break 行号&lt;/td&gt;
&lt;td&gt;break 516&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;break 文件名:行号&lt;/td&gt;
&lt;td&gt;break main.c:120&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;break +相对暂停位置的偏移量（行数）&lt;/td&gt;
&lt;td&gt;break +3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;break -相对暂停位置的偏移量（行数）&lt;/td&gt;
&lt;td&gt;break -5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;break *地址&lt;/td&gt;
&lt;td&gt;break *0x08116fd3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;设置好的断点可以通过 &lt;code&gt;info break [n]&lt;/code&gt;查看。&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;delete [breakpoints] [n]&lt;/code&gt; 命令删除段店，breakpoints可有可无，n为断点编号，如果省略n则删除所有断点。&lt;/p&gt;
&lt;h2&gt;运行&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;run&lt;/td&gt;
&lt;td&gt;开始运行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;start&lt;/td&gt;
&lt;td&gt;开始运行，并在main上暂停，相当于自动给main设置断点然后开始运行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;set args [Arguments]&lt;/td&gt;
&lt;td&gt;设置进程启动参数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;show args&lt;/td&gt;
&lt;td&gt;查看进程参数列表&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;显示代码&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;list&lt;/code&gt; 命令向下查看10行代码&lt;/p&gt;
&lt;p&gt;&lt;code&gt;list -&lt;/code&gt; 向上查看10行代码&lt;/p&gt;
&lt;p&gt;&lt;code&gt;list LINENUM&lt;/code&gt; 查看行号的代码&lt;/p&gt;
&lt;p&gt;&lt;code&gt;list FUNCTION&lt;/code&gt; 查看指定函数代码&lt;/p&gt;
&lt;p&gt;&lt;code&gt;list FILE:LINENUM&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;list FILE:FUNCTION&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;list *ADDRESS&lt;/code&gt; 按地址查看代码&lt;/p&gt;
&lt;h2&gt;显示调用栈&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;backtrace&lt;/td&gt;
&lt;td&gt;显示调用栈栈帧&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bt&lt;/td&gt;
&lt;td&gt;breaktrace的简写（别名）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backtrace N&lt;/td&gt;
&lt;td&gt;只显示开头N个栈帧&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bt N&lt;/td&gt;
&lt;td&gt;只显示开头N个栈帧&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backtrack -N&lt;/td&gt;
&lt;td&gt;只显示最后N个栈帧&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bt -N&lt;/td&gt;
&lt;td&gt;只显示最后N个栈帧&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backtrace full&lt;/td&gt;
&lt;td&gt;不仅显示backtrace,还显示局部变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bt full&lt;/td&gt;
&lt;td&gt;不仅显示backtrace,还显示局部变量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backtrace full N&lt;/td&gt;
&lt;td&gt;不仅显示backtrace,还显示局部变量，N的含义同上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bt full N&lt;/td&gt;
&lt;td&gt;不仅显示backtrace,还显示局部变量，N的含义同上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backtrace full N&lt;/td&gt;
&lt;td&gt;不仅显示backtrace,还显示局部变量，N的含义同上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bt full -N&lt;/td&gt;
&lt;td&gt;不仅显示backtrace,还显示局部变量，N的含义同上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;info stack&lt;/td&gt;
&lt;td&gt;backtrace的别名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;where&lt;/td&gt;
&lt;td&gt;backtrace的别名&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;显示局部变量和切换调用栈&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;info locals&lt;/code&gt; 显示局部变量&lt;/p&gt;
&lt;p&gt;&lt;code&gt;info args&lt;/code&gt; 查看函数参数&lt;/p&gt;
&lt;p&gt;&lt;code&gt;info frame&lt;/code&gt;查看调用栈帧相关信息&lt;/p&gt;
&lt;p&gt;&lt;code&gt;up [N]&lt;/code&gt;  查看上一层函数调用栈，N为层数，默认是1&lt;/p&gt;
&lt;p&gt;&lt;code&gt;down [N]&lt;/code&gt; 查看下一层函数调用栈，N为层数，默认是1&lt;/p&gt;
&lt;p&gt;&lt;code&gt;frame &amp;lt;栈帧N&amp;gt;&lt;/code&gt;  N为bt命令显示的编号，查看第N个调用栈&lt;/p&gt;
&lt;p&gt;&lt;code&gt;frame&lt;/code&gt; 切换到当前线程正在执行的调用栈&lt;/p&gt;
&lt;h2&gt;显示变量&lt;/h2&gt;
&lt;p&gt;print命令可以显示变量，简写p。&lt;/p&gt;
&lt;p&gt;格式： print 变量。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;例子&lt;/th&gt;
&lt;th&gt;显示&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;p argv&lt;/td&gt;
&lt;td&gt;(char**)0xbf9cd714&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p *argv&lt;/td&gt;
&lt;td&gt;"./a.out"&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p argv[0]&lt;/td&gt;
&lt;td&gt;"./a.out"&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;p argv[1]&lt;/td&gt;
&lt;td&gt;"hello"&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;自动显示变量的值&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;display&lt;/code&gt; 命令用于监视变量或者内存的值，每次 gdb 中断，都会自动输出这些被监视变量或内存的值。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;display命令的使用格式是 &lt;code&gt;display 变量名/内存地址/寄存器名&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;info display&lt;/code&gt; # 查看display设置的自动显示的信息。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;undisplay &amp;lt;编号&amp;gt; # 取消自动显示变量（info display时显示的编号）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;delete display range… # range为编号，或者空格分割的编号，或者 编号-编号，用来删除一个范围&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;查看寄存器&lt;/h2&gt;
&lt;p&gt;info registers可以查看寄存器，简写为info reg。&lt;/p&gt;
&lt;p&gt;在寄存器名称前加上$, 可以用p命令查看寄存器。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;p $rax&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;程序指针可以写为 &lt;code&gt;$pc&lt;/code&gt;, 也可以写为 &lt;code&gt;$eip&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;p   $pc&lt;/code&gt; 能够常看当前执行的程序地址。&lt;/p&gt;
&lt;p&gt;print 命令支持选择显示的格式。&lt;code&gt;print/c $rax&lt;/code&gt; &lt;code&gt;p/u $rdx&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;print命令可以使用的显示格式&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;格式&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;x&lt;/td&gt;
&lt;td&gt;显示为16进制数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;显示为十进制数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;u&lt;/td&gt;
&lt;td&gt;显示为无符号十进制数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;o&lt;/td&gt;
&lt;td&gt;显示为8进制数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;t&lt;/td&gt;
&lt;td&gt;显示为2进制数字，t的由来是two&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;显示地址&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;c&lt;/td&gt;
&lt;td&gt;显示为字符（ASCII）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;f&lt;/td&gt;
&lt;td&gt;显示为浮点小数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;s&lt;/td&gt;
&lt;td&gt;显示为字符串&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;i&lt;/td&gt;
&lt;td&gt;显示为汇编语言。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;查看内存&lt;/h2&gt;
&lt;p&gt;x命令可以显示内存中的内容。x这个名字的由来是eXamining.&lt;/p&gt;
&lt;p&gt;格式： &lt;code&gt;x/格式 地址&lt;/code&gt;  &lt;code&gt;x /格式 寄存器&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;一般使用x命令时，格式为 &lt;code&gt;x/NFU ADDR&lt;/code&gt;。addr为希望显示的地址。N为重复次数，F为上一节中的显示格式（x,d,u,o,t,a,c,f,s,i）。U下是面的单位。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;U代表的单位&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;b&lt;/td&gt;
&lt;td&gt;字节&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;h&lt;/td&gt;
&lt;td&gt;半字（2字节）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;w&lt;/td&gt;
&lt;td&gt;字（4字节，默认值）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;g&lt;/td&gt;
&lt;td&gt;双字（8字节）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;显示&lt;code&gt;$pc&lt;/code&gt;所指地址开头的10条指令： &lt;code&gt;x /10i $pc&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;反汇编指令 disassemble&lt;/h3&gt;
&lt;p&gt;反汇编指令 disassemble,简写为disas。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;格式&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;th&gt;例子&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;disas&lt;/td&gt;
&lt;td&gt;反汇编当前整个函数&lt;/td&gt;
&lt;td&gt;disas&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disas 程序计数器&lt;/td&gt;
&lt;td&gt;反汇编程序计数器所在的函数整个函数&lt;/td&gt;
&lt;td&gt;disas $pc&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disas 开始地址 结束地址&lt;/td&gt;
&lt;td&gt;反汇编从开始地址到结束地址之间的部分&lt;/td&gt;
&lt;td&gt;&lt;code&gt;disas $pc $pc+50&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;单步执行&lt;/h2&gt;
&lt;p&gt;单步执行的意思是根据代码一行一行的执行。&lt;/p&gt;
&lt;p&gt;单步执行命令为next,简写n.&lt;/p&gt;
&lt;p&gt;进入函数内部的单步命令为step,简写为p.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;简写&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;next&lt;/td&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;执行下一行。执行完毕后显示再下一行的源码。不会进入下一行中的函数内部。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;step&lt;/td&gt;
&lt;td&gt;s&lt;/td&gt;
&lt;td&gt;执行下一行，但会进入下一行中函数内部。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nexti&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;逐条执行汇编指令 ，不会进入函数内部。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;stepi&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;逐条执行汇编指令 ，会进入函数内部。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;继续运行&lt;/h2&gt;
&lt;p&gt;continue命令（简写c）可以继续运行程序。程序会在遇到断点后再次暂停运行。如果没有断点，就会一直运行到结束。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;continue&lt;/td&gt;
&lt;td&gt;继续运行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;continue 次数&lt;/td&gt;
&lt;td&gt;指定次数忽略遇到的断点。例如continue 5，遇到5次断点不暂停运行。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;监视点&lt;/h2&gt;
&lt;p&gt;watch命令可以找到&lt;strong&gt;变量或内存&lt;/strong&gt;在何时被改变或访问。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;awatch &amp;lt;表达式&amp;gt;&lt;/td&gt;
&lt;td&gt;表达式被访问，改变时暂停运行。即watch和rwatch。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;watch &amp;lt;表达式&amp;gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;表达式发生变化是暂停运行。&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rwatch &amp;lt;表达式&amp;gt;&lt;/td&gt;
&lt;td&gt;表达式被访问是暂停运行。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;表达式的的意思是常量或者变量。例如&lt;code&gt;watch name&lt;/code&gt;  &lt;code&gt;watch argv[0]&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;删除断点和监视点&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;info b&lt;/td&gt;
&lt;td&gt;显示断点和监视点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;delete &amp;lt;编号&amp;gt;&lt;/td&gt;
&lt;td&gt;删除指定的断点或监视点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;delete&lt;/td&gt;
&lt;td&gt;删除所有断点和监视点&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;其他断点&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;硬件断点&lt;code&gt;hbreak&lt;/code&gt;，适用于ROM空间等无法修改的内存区域中的程序，在有些架构中无法使用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;临时断点 &lt;code&gt;tbreak&lt;/code&gt;和临时硬件断点&lt;code&gt;thbreak&lt;/code&gt;，与断点（硬件断点）基本相同，不同之处是临时断点会在到达断点程序暂停时被删除，所以只需要暂停一次时候使用起来很方便。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;遗憾的是没有临时监视点。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;改变变量的值&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;set variable &amp;lt;变量&amp;gt;=&amp;lt;表达式&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;set variable num=0&lt;/code&gt; 将num的值设置为0&lt;/p&gt;
&lt;h2&gt;生成coredump文件&lt;/h2&gt;
&lt;p&gt;gdb中 &lt;code&gt;generate-core-file&lt;/code&gt;命令在当前目录下生成coredump文件，可以写为&lt;code&gt;gcore&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;linux shell中 &lt;code&gt;gcore [-a] pid1 [pid2...pidN]&lt;/code&gt; 命令可以根据进程PID生成coredump文件。&lt;/p&gt;
&lt;p&gt;例如&lt;code&gt;gcore $(pidof emacs)&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;attach到进程&lt;/h2&gt;
&lt;p&gt;attachh &lt;PID&gt;可以attach到指定进程，和gdb -p &lt;PID&gt;效果类似。&lt;/p&gt;
&lt;p&gt;detach 命令可以脱离调试的进程。&lt;/p&gt;
&lt;p&gt;attach后，进程暂停运行，此时可以通过bt命令查看backtrace, 通过continue命令继续运行程序。&lt;/p&gt;
&lt;p&gt;进程信息可以用&lt;code&gt;info proc&lt;/code&gt;命令查看。&lt;/p&gt;
&lt;h2&gt;条件断点&lt;/h2&gt;
&lt;p&gt;有一种断点仅在特定条件下中断。&lt;/p&gt;
&lt;p&gt;格式：&lt;code&gt;break 断点 if 条件&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这条命令将测试给定的条件，如果为真则暂停运行。&lt;/p&gt;
&lt;p&gt;例&lt;code&gt;break iseq_compile if node==0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;condition 断点编号&lt;/code&gt; #这条命令可以删除指定断点的出发条件。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;condition 断点编号 条件&lt;/code&gt; # 这条命令给指定的断点增加出发条件。&lt;/p&gt;
&lt;h2&gt;反复执行&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ignore &amp;lt;断点编号&amp;gt; &amp;lt;次数&amp;gt;&lt;/td&gt;
&lt;td&gt;在指定的断点，监视点，或捕获点忽略指定的次数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;continue &amp;lt;次数&amp;gt;&lt;/td&gt;
&lt;td&gt;忽略指定次数，到达断点，监视点，捕获点不暂停运行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;step 次数&lt;/td&gt;
&lt;td&gt;单步运行次数（进入函数）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;stepi 次数&lt;/td&gt;
&lt;td&gt;单步运行汇编代码，进入函数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;next 次数&lt;/td&gt;
&lt;td&gt;单步运行次数（不进入函数）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nexti 次数&lt;/td&gt;
&lt;td&gt;单步运行汇编代码，不进入函数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;finish&lt;/td&gt;
&lt;td&gt;执行完当前的函数后暂停&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;until&lt;/td&gt;
&lt;td&gt;执行完当前的代码块，或者执行完循环后暂停，常用于跳出循环&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;return 表达式&lt;/td&gt;
&lt;td&gt;结束当前函数调用并返回指定的值，回到上一层函数调用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jump LINE&lt;/td&gt;
&lt;td&gt;跳转到指定的行执行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jump *ADDR&lt;/td&gt;
&lt;td&gt;跳转到指定的地址执行&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;删除断点和禁用断点&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;clear 函数名&lt;/td&gt;
&lt;td&gt;删除函数中的断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear 行号&lt;/td&gt;
&lt;td&gt;删除源码行号上的断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear 文件名:函数名&lt;/td&gt;
&lt;td&gt;删除指定文件函数中的断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear 文件名:行号&lt;/td&gt;
&lt;td&gt;删除源码行号上的断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;clear *程序地址&lt;/td&gt;
&lt;td&gt;删除位于地址的断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;delete [breakpoints] 断点编号&lt;/td&gt;
&lt;td&gt;删除指定编号的断点， breakpoints关键字可以省略&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;delete [breakpoints]&lt;/td&gt;
&lt;td&gt;删除所有断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable [breakpoints]&lt;/td&gt;
&lt;td&gt;临时禁用所有断点，后面还能再启用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable [breakpoints] 断点编号&lt;/td&gt;
&lt;td&gt;临时禁用指定的断点，后面还能再启用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable diaplay 显示编号&lt;/td&gt;
&lt;td&gt;禁用display命令定义的自动显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable mem 内存区域&lt;/td&gt;
&lt;td&gt;禁用mem命令定义的内存区域&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable [breakpoints]&lt;/td&gt;
&lt;td&gt;启用被禁用的所有断点。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable [breakpoints] 断点编号&lt;/td&gt;
&lt;td&gt;启用指定断点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable [breakpoints] once 断点编号&lt;/td&gt;
&lt;td&gt;启用一次断点，随后禁用断点。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable [breakpoints] delete 断点编号&lt;/td&gt;
&lt;td&gt;启用一次断点，随后删除断点。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable diaplay 显示编号&lt;/td&gt;
&lt;td&gt;启用display命令定义的自动显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable mem 内存区域&lt;/td&gt;
&lt;td&gt;启用mem命令定义的内存区域&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;显示变量类型和定义变量的文件&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;whatis 表达式&lt;/code&gt; # 显示变量类型声明&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ptype 表达式&lt;/code&gt; # 显示变量类型定义&lt;/p&gt;
&lt;h1&gt;调试多线程&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;info threads&lt;/code&gt; 查看所有线程列表&lt;/p&gt;
&lt;p&gt;&lt;code&gt;thread N&lt;/code&gt; 切换到指定线程&lt;/p&gt;
&lt;h1&gt;参考资料&amp;amp;其他学习资料&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;《DEBUG HACKS中文版》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;https://visualgdb.com/gdbreference&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;man gdb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://sourceware.org/gdb/onlinedocs/gdb/"&gt;Debugging with GDB&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.kancloud.cn/wizardforcel/gdb-tips-100/146724"&gt;100个gdb小技巧 &lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://m.biancheng.net/gdb/"&gt;GDB调试教程：1小时玩转Linux gdb命令&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="programming"></category><category term="debug"></category><category term="programming"></category><category term="linux"></category><category term="C"></category></entry><entry><title>diff和patch命令以及git patch相关操作</title><link href="/posts/2023/07/15/diff-patch.html" rel="alternate"></link><published>2023-07-15T01:29:18+08:00</published><updated>2023-07-15T02:52:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2023-07-15:/posts/2023/07/15/diff-patch.html</id><summary type="html">&lt;h3&gt;diff命令&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-行数  指定要显示多少行的文本。此参数必须与-c或-u参数一并使用。
-a 所有的文件都视为文本文件来逐行比较, 包 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h3&gt;diff命令&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-行数  指定要显示多少行的文本。此参数必须与-c或-u参数一并使用。
-a 所有的文件都视为文本文件来逐行比较, 包括二进制文件。
-b或--ignore-space-change 　不检查空格字符的不同。
-B或--ignore-blank-lines 　不检查空白行。
-N或--new-file 将缺失的文件当作空白文件处理
-p 　若比较的文件为C语言的程序码文件时，显示差异所在的函数名称。
-q或--brief 　仅显示有无差异，不显示详细的信息。
-r或--recursive 递归处理目录
-s或--report-identical-files 　若没有发现任何差异，仍然显示信息。
-u,-U或--unified=  unified模式输出。
-w或--ignore-all-space 　忽略全部的空格字符。

创建patch 使用diff -Naur old new &amp;gt; patchfile.patch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;patch命令&lt;/h3&gt;
&lt;p&gt;patch 是一个可以将 diff 生成的补丁应用到源文件，生成一个打过补丁版本的文件。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;常用参数：

-i 指定补丁文件
-pNum 剥离文件名中的前num个目录成分.总的来说，从路径最开始删除路径分隔符（/）及其之前的所有字符，每次加1，直到剩下的部分存在于当前工作目录中，最后得到的就是p级别。
-E 删除应用补丁后为空文件的文件
-o 输出到一个文件而不是直接覆盖文件

patch &amp;lt; patchfile 应用补丁
patch -R &amp;lt; test.patch 撤销补丁
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;git diff -p &amp;gt; file.patch # git生成patch&lt;/h3&gt;
&lt;h3&gt;git应用patch&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;git apply --stat file.patch 检查patch文件&lt;/li&gt;
&lt;li&gt;git apply --check file.patch 检查是否能应用成功&lt;/li&gt;
&lt;li&gt;git apply xxx.patch 打补丁&lt;/li&gt;
&lt;/ol&gt;</content><category term="git"></category><category term="git"></category><category term="patch"></category><category term="text"></category></entry><entry><title>debian11-bullseye install cgit</title><link href="/posts/2022/12/29/install-cgit.html" rel="alternate"></link><published>2022-12-29T22:50:18+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-12-29:/posts/2022/12/29/install-cgit.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt&lt;span class="w"&gt; &lt;/span&gt;update
apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;cgit
dpkg&lt;span class="w"&gt; &lt;/span&gt;--status&lt;span class="w"&gt; &lt;/span&gt;cgit
&lt;span class="c1"&gt;# install Recommends&lt;/span&gt;
apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;apache2&lt;span class="w"&gt; &lt;/span&gt;python3-docutils&lt;span class="w"&gt; &lt;/span&gt;python3-markdown&lt;span class="w"&gt; &lt;/span&gt;python3-pygments

&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/apache2/conf-enabled
ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;../conf-available/cgit.conf&lt;span class="w"&gt; &lt;/span&gt;git.conf

&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/apache2/mods-enabled
ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;../mods-available/cgi.load&lt;span class="w"&gt; &lt;/span&gt;cgi.load

systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;apache2


&lt;span class="c1"&gt;# cp -r /usr/share/git-core/templates ~/git-template&lt;/span&gt;
&lt;span class="c1"&gt;# cd ~/git-template …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt&lt;span class="w"&gt; &lt;/span&gt;update
apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;cgit
dpkg&lt;span class="w"&gt; &lt;/span&gt;--status&lt;span class="w"&gt; &lt;/span&gt;cgit
&lt;span class="c1"&gt;# install Recommends&lt;/span&gt;
apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;apache2&lt;span class="w"&gt; &lt;/span&gt;python3-docutils&lt;span class="w"&gt; &lt;/span&gt;python3-markdown&lt;span class="w"&gt; &lt;/span&gt;python3-pygments

&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/apache2/conf-enabled
ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;../conf-available/cgit.conf&lt;span class="w"&gt; &lt;/span&gt;git.conf

&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/apache2/mods-enabled
ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;../mods-available/cgi.load&lt;span class="w"&gt; &lt;/span&gt;cgi.load

systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;apache2


&lt;span class="c1"&gt;# cp -r /usr/share/git-core/templates ~/git-template&lt;/span&gt;
&lt;span class="c1"&gt;# cd ~/git-template&lt;/span&gt;
&lt;span class="c1"&gt;# git config --local gitweb.owner &amp;#39;Test User&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# git config --local gitweb.url &amp;#39;https://example.com/&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# echo &amp;quot;default description&amp;quot; &amp;gt; description&lt;/span&gt;
&lt;span class="c1"&gt;# git config --global init.templateDir /home/remoteuser/git-template&lt;/span&gt;

mkdir&lt;span class="w"&gt; &lt;/span&gt;/srv/git-repos/
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/srv/git-repos/
git&lt;span class="w"&gt; &lt;/span&gt;init&lt;span class="w"&gt; &lt;/span&gt;--bare&lt;span class="w"&gt; &lt;/span&gt;hello.git
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;hello.git
&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Example repository&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;description
git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;gitweb.owner&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Test User&amp;#39;&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--local&lt;span class="w"&gt; &lt;/span&gt;gitweb.url&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://example.com/&amp;#39;&lt;/span&gt;



cat&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;/etc/cgitrc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;#&lt;/span&gt;
&lt;span class="s"&gt;# cgit config&lt;/span&gt;
&lt;span class="s"&gt;# see cgitrc(5) for details&lt;/span&gt;

&lt;span class="s"&gt;css=/cgit-css/cgit.css&lt;/span&gt;
&lt;span class="s"&gt;logo=/cgit-css/cgit.png&lt;/span&gt;

&lt;span class="s"&gt;virtual-root=/cgit/&lt;/span&gt;
&lt;span class="s"&gt;root-title=example.com git repositories&lt;/span&gt;
&lt;span class="s"&gt;root-desc=tracking the foobar development&lt;/span&gt;
&lt;span class="s"&gt;root-readme=/var/www/htdocs/about.html&lt;/span&gt;

&lt;span class="s"&gt;clone-url=http://$HTTP_HOST$SCRIPT_NAME/$CGIT_REPO_URL ssh://root@$HTTP_HOST:/srv/git-repos/$CGIT_REPO_URL&lt;/span&gt;
&lt;span class="s"&gt;#clone-prefix=http://foo.org/&lt;/span&gt;

&lt;span class="s"&gt;enable-index-owner=1&lt;/span&gt;
&lt;span class="s"&gt;enable-http-clone=1&lt;/span&gt;
&lt;span class="s"&gt;enable-index-links=1&lt;/span&gt;
&lt;span class="s"&gt;enable-git-config=1&lt;/span&gt;
&lt;span class="s"&gt;enable-blame=1&lt;/span&gt;
&lt;span class="s"&gt;enable-commit-graph=1&lt;/span&gt;

&lt;span class="s"&gt;enable-log-filecount=1&lt;/span&gt;
&lt;span class="s"&gt;enable-log-linecount=1&lt;/span&gt;

&lt;span class="s"&gt;branch-sort=age&lt;/span&gt;
&lt;span class="s"&gt;max-stats=quarter&lt;/span&gt;

&lt;span class="s"&gt;snapshots=tar.gz tar.bz2 zip&lt;/span&gt;

&lt;span class="s"&gt;mimetype.gif=image/gif&lt;/span&gt;
&lt;span class="s"&gt;mimetype.html=text/html&lt;/span&gt;
&lt;span class="s"&gt;mimetype.jpg=image/jpeg&lt;/span&gt;
&lt;span class="s"&gt;mimetype.jpeg=image/jpeg&lt;/span&gt;
&lt;span class="s"&gt;mimetype.pdf=application/pdf&lt;/span&gt;
&lt;span class="s"&gt;mimetype.png=image/png&lt;/span&gt;
&lt;span class="s"&gt;mimetype.svg=image/svg+xml&lt;/span&gt;

&lt;span class="s"&gt;# source-filter 要放在scan-path之前才会生效&lt;/span&gt;
&lt;span class="s"&gt;source-filter=/usr/lib/cgit/filters/syntax-highlighting.py&lt;/span&gt;
&lt;span class="s"&gt;about-filter=/usr/lib/cgit/filters/about-formatting.sh&lt;/span&gt;

&lt;span class="s"&gt;readme=:README.md&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme.md&lt;/span&gt;
&lt;span class="s"&gt;readme=:README.mkd&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme.mkd&lt;/span&gt;
&lt;span class="s"&gt;readme=:README.rst&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme.rst&lt;/span&gt;
&lt;span class="s"&gt;readme=:README.html&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme.html&lt;/span&gt;
&lt;span class="s"&gt;readme=:README.htm&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme.htm&lt;/span&gt;
&lt;span class="s"&gt;readme=:README.txt&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme.txt&lt;/span&gt;
&lt;span class="s"&gt;readme=:README&lt;/span&gt;
&lt;span class="s"&gt;readme=:readme&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL.md&lt;/span&gt;
&lt;span class="s"&gt;readme=:install.md&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL.mkd&lt;/span&gt;
&lt;span class="s"&gt;readme=:install.mkd&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL.rst&lt;/span&gt;
&lt;span class="s"&gt;readme=:install.rst&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL.html&lt;/span&gt;
&lt;span class="s"&gt;readme=:install.html&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL.htm&lt;/span&gt;
&lt;span class="s"&gt;readme=:install.htm&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL.txt&lt;/span&gt;
&lt;span class="s"&gt;readme=:install.txt&lt;/span&gt;
&lt;span class="s"&gt;readme=:INSTALL&lt;/span&gt;
&lt;span class="s"&gt;readme=:install&lt;/span&gt;

&lt;span class="s"&gt;# scan-path 和 仓库要放在最后&lt;/span&gt;
&lt;span class="s"&gt;scan-path=/srv/git-repos/&lt;/span&gt;

&lt;span class="s"&gt;EOF&lt;/span&gt;


&lt;span class="c1"&gt;# web访问http://ip/cgit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="git"></category><category term="git"></category><category term="linux"></category></entry><entry><title>raspberry-debian10-selenium测试</title><link href="/posts/2022/11/05/raspbian10-raspios-selenium.html" rel="alternate"></link><published>2022-11-05T18:40:04+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-11-05:/posts/2022/11/05/raspbian10-raspios-selenium.html</id><summary type="html">&lt;p&gt;测试环境 &lt;code&gt;Raspbian GNU/Linux 10 (buster)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;经过搜索发现firefox的geckodriver官方不支持arm. 所以只能选择chromium浏览器.&lt;/p&gt;
&lt;h4&gt;安装依赖&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3-selenium
sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3-pyvirtualdisplay&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 由于raspberry没 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;测试环境 &lt;code&gt;Raspbian GNU/Linux 10 (buster)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;经过搜索发现firefox的geckodriver官方不支持arm. 所以只能选择chromium浏览器.&lt;/p&gt;
&lt;h4&gt;安装依赖&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3-selenium
sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3-pyvirtualdisplay&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 由于raspberry没有启动图形界面, 这个用来虚拟显示器&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3-xvfbwrapper
sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;xvfb
sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;chromium-browser&lt;span class="w"&gt; &lt;/span&gt;chromium-chromedriver
sudo&lt;span class="w"&gt; &lt;/span&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;bluealsa&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# chromium-browser 启动时会报告缺少这个包&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;命令行启动chromium-browser测试&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Xvfb&lt;span class="w"&gt; &lt;/span&gt;-ac&lt;span class="w"&gt; &lt;/span&gt;:7&lt;span class="w"&gt; &lt;/span&gt;-screen&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;1280x1024x8&lt;span class="w"&gt; &lt;/span&gt;-extension&lt;span class="w"&gt; &lt;/span&gt;RANDR&lt;span class="w"&gt; &lt;/span&gt;-nolisten&lt;span class="w"&gt; &lt;/span&gt;inet6&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;

&lt;span class="nb"&gt;export&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;DISPLAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;:7

chromium-browser

&lt;span class="c1"&gt;# 发现启动失败, 报告缺少`bluealsa`, 另外想在root用户下运行, 还需要加上`--no-sandbox`参数&lt;/span&gt;
&lt;span class="c1"&gt;# 安装上软件, 加上参数后测试, root用户ssh命令行启动chromium-browser已经不报错&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;然后执行测试代码, 成功&lt;/h4&gt;
&lt;p&gt;python3 test.py&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyvirtualdisplay&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;

&lt;span class="n"&gt;display&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# 开启虚拟GUI&lt;/span&gt;

&lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ChromeOptions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--remote-debugging-port=9222&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--no-sandbox&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;chrome&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chrome&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;executable_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/usr/bin/chromedriver&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fullscreen_window&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://www.jd.com/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save_screenshot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;chrome_jd.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="web"></category><category term="linux"></category><category term="selenium"></category></entry><entry><title>raspberry-debian10-selenium-har测试</title><link href="/posts/2022/11/05/raspbian10-raspios-selenium-har.html" rel="alternate"></link><published>2022-11-05T18:40:04+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-11-05:/posts/2022/11/05/raspbian10-raspios-selenium-har.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;nohup&lt;/span&gt; &lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;browsermob&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="mi"&gt;9090&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;browsermobproxy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Server&lt;/span&gt;

&lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/data/.workspace/selenium/browsermob-proxy-2.1.4/bin/browsermob-proxy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9090&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create_proxy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyvirtualdisplay&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;

&lt;span class="n"&gt;display&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# 开启虚拟GUI …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;nohup&lt;/span&gt; &lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;browsermob&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="mi"&gt;9090&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;browsermobproxy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Server&lt;/span&gt;

&lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Server&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/data/.workspace/selenium/browsermob-proxy-2.1.4/bin/browsermob-proxy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9090&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create_proxy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyvirtualdisplay&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;selenium&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;

&lt;span class="n"&gt;display&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;768&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# 开启虚拟GUI&lt;/span&gt;

&lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ChromeOptions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--remote-debugging-port=9222&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--no-sandbox&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;--allow-insecure-localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;--ignore-ssl-errors=yes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--ignore-certificates-errors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;--ignore-urlfetcher-cert-requests&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;--proxy-server=&lt;/span&gt;&lt;span class="si"&gt;{proxy_config}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxy_config&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="c1"&gt;#options.add_argument(&amp;quot;--headless&amp;quot;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;start-maximized&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#options.add_argument(&amp;quot;--incognito&amp;quot;)&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_experimental_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;excludeSwitches&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ignore-certificate-errors&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;enable-automation&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;enable-logging&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;prefs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="n"&gt;prefs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;credentials_enable_service&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;
&lt;span class="n"&gt;prefs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;profile.password_manager_enabled&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;
&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_experimental_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;prefs&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prefs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;##关掉密码弹窗&lt;/span&gt;


&lt;span class="n"&gt;capabilities&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DesiredCapabilities&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CHROME&lt;/span&gt;
&lt;span class="n"&gt;capabilities&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;acceptSslCerts&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;

&lt;span class="n"&gt;chrome&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;webdriver&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chrome&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;executable_path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/usr/bin/chromedriver&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;desired_capabilities&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;capabilities&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fullscreen_window&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new_har&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;jd&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;captureHeaders&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;captureContent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;captureBinaryContent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;


&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://www.jd.com/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;span class="n"&gt;fp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;jdcom.har&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# proxy.har # returns a HAR JSON blob&lt;/span&gt;
&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dump&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;har&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save_screenshot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;chrome_jdcom.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;chrome&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="web"></category><category term="linux"></category><category term="selenium"></category></entry><entry><title>代替品查询网站</title><link href="/posts/2022/09/03/alternativeto.html" rel="alternate"></link><published>2022-09-03T16:57:51+08:00</published><updated>2022-11-21T10:57:18+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-09-03:/posts/2022/09/03/alternativeto.html</id><content type="html">&lt;p&gt;&lt;a href="https://alternativeto.net/"&gt;alternativeto&lt;/a&gt;&lt;/p&gt;</content><category term="web"></category><category term="web"></category></entry><entry><title>Flatpak vs Snap</title><link href="/posts/2022/09/03/Flatpak-vs-Snap.html" rel="alternate"></link><published>2022-09-03T12:59:46+08:00</published><updated>2022-11-21T10:57:18+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-09-03:/posts/2022/09/03/Flatpak-vs-Snap.html</id><summary type="html">&lt;h2&gt;Flatpak vs. Snap&lt;/h2&gt;
&lt;p&gt;Flatpak may have been in works since 2007 as glick, it’s not the only player in the Linux world. Canonical is the one that created waves with the announcement of Click, that later evolved into Snap.&lt;/p&gt;
&lt;p&gt;There is a healthy competition between the two projects and …&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Flatpak vs. Snap&lt;/h2&gt;
&lt;p&gt;Flatpak may have been in works since 2007 as glick, it’s not the only player in the Linux world. Canonical is the one that created waves with the announcement of Click, that later evolved into Snap.&lt;/p&gt;
&lt;p&gt;There is a healthy competition between the two projects and, according to Day/Larsson, “There are obviously technological differences, each of which have pros and cons. The ones I’d pick up on is de-duplication of identical files and delta updates, which means that download sizes are smaller and disk space is used more efficiently.”&lt;/p&gt;
&lt;p&gt;Aside from those technical details, there are two major differences. The first is cross-distro support. “[Flatpak] only uses generic technologies that are generally available in all distributions. It doesn’t require any changes to distros. Anyone can use Flatpak to set up a repository or build an app center. Snappy is different. It uses AppArmor, which isn’t used universally. It requires changes to the distro; SELinux must be disabled, for example. Each app is required to bundle parts of Ubuntu. There’s no concept of an upstream platforms that apps can use.” according to the developers.&lt;/p&gt;
&lt;p&gt;Michael Hall of Canonical said there are some components of Snaps that are tied to Ubuntu, but they are working on decoupling Snap from Ubuntu to achieve full cross-distro support. They have already decoupled many components.&lt;/p&gt;
&lt;p&gt;The second major difference is the idea of having runtimes that are maintained by platform developers and aren’t bundled as a part of apps, said the Flatpak developers. “This cuts down on the size of apps, reduces the amount of work for app developers, and ensures that security updates happen faster and more reliably. In Snappy everything has to be bundled as a part of the app.”&lt;/p&gt;</content><category term="container"></category><category term="linux"></category><category term="docker"></category><category term="flatpak"></category></entry><entry><title>面试中我经常问的问题</title><link href="/posts/2022/07/09/interview-questions.html" rel="alternate"></link><published>2022-07-09T01:12:10+08:00</published><updated>2022-11-21T10:57:18+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-07-09:/posts/2022/07/09/interview-questions.html</id><summary type="html">&lt;h3&gt;C++&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;说说C++的类型转换和使用场景。&lt;/li&gt;
&lt;li&gt;什么是抽象类。怎么定义。&lt;/li&gt;
&lt;li&gt;说说C++的新特性。&lt;/li&gt;
&lt;li&gt;C 和 C++ struct区别？&lt;/li&gt;
&lt;li&gt;volatile作用， 是否具有原子性？&lt;/li&gt;
&lt;li&gt;如何禁 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h3&gt;C++&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;说说C++的类型转换和使用场景。&lt;/li&gt;
&lt;li&gt;什么是抽象类。怎么定义。&lt;/li&gt;
&lt;li&gt;说说C++的新特性。&lt;/li&gt;
&lt;li&gt;C 和 C++ struct区别？&lt;/li&gt;
&lt;li&gt;volatile作用， 是否具有原子性？&lt;/li&gt;
&lt;li&gt;如何禁止一个类被实例化？&lt;/li&gt;
&lt;li&gt;说说编译过程又源代码到可执行文件经过了哪些步骤？&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Qt&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;创建对象传递的parent指针是什么作用？&lt;/li&gt;
&lt;li&gt;QWidget 和Qt Quick （qml）区别，底层是否一样？&lt;/li&gt;
&lt;li&gt;Qt moc的作用？&lt;/li&gt;
&lt;li&gt;Qt 是否支持反射，是如何实现的？&lt;/li&gt;
&lt;li&gt;Qt 中一般不用阻塞IO模型， 因为长时间阻塞会导致界面失去响应。例如，使用阻塞模型不能兼顾网络操作和UI界面响应。你知道在Qt里面是如何解决多路IO需要同时处理问题的吗？&lt;/li&gt;
&lt;li&gt;Qt 框架本身如何实现跨平台. (qpa&lt;/li&gt;
&lt;li&gt;正在运行的QThread中如何发送数据给Qt主线程. 如果使用信号和槽如何保证槽函数在主线程中执行? (postEvent&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;数据结构&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;你知道哪些数据结构？什么数据结构适合什么场景？你用过哪些？&lt;/li&gt;
&lt;li&gt;单链表和双链表有什么区别，头节点是什么作用？如果想要快速从结尾添加删除元素，使用什么链表？&lt;/li&gt;
&lt;li&gt;排序大量数据，可以选择什么排序算法？&lt;/li&gt;
&lt;li&gt;外排序是怎样做的？&lt;/li&gt;
&lt;li&gt;有大量数据，求最大的10%如何实现？&lt;/li&gt;
&lt;li&gt;如果要实现一个矢量画图程序, 能够画很多形状和线段绘制文字, 设置边框颜色填充颜色等. 支持选中画布上的图形修改属性比如颜色等, 同时要有层级, 每个图形可以放在其他图形上面, 支持向上移动一层, 向下移动一层. 从软件架构和数据结构上考虑如何实现? 如果你带一个团队, 考虑怎么分配工作?  如何实现撤销功能? 如何实现序列号和反序列化?&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;操作系统编程接口&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;进程间通信方式有哪几种&lt;/li&gt;
&lt;li&gt;说说线程同步的方式&lt;/li&gt;
&lt;li&gt;信号和信号量有什么区别&lt;/li&gt;
&lt;li&gt;条件变量是干什么用的&lt;/li&gt;
&lt;li&gt;介绍下常见的io模型&lt;/li&gt;
&lt;li&gt;当接触比较大的项目, 比如有几十万行, 你打算如何读懂项目代码? &lt;/li&gt;
&lt;li&gt;gdb如何调试多线程, 你用什么调试工具?&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;linux&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;文件权限有哪些？除了读写可执行，还有其他权限吗？&lt;/li&gt;
&lt;li&gt;读写执行权限对于目录的意义是什么？&lt;/li&gt;
&lt;li&gt;你知道哪些文件系统？每个文件系统特点是什么？&lt;/li&gt;
&lt;li&gt;统计目录大小， 统计磁盘使用/剩余空间？&lt;/li&gt;
&lt;li&gt;如何查询系统开了哪些端口? 查询指定端口被哪个进程占用?&lt;/li&gt;
&lt;li&gt;说说系统启动过程，从机器上电开始。&lt;/li&gt;
&lt;li&gt;你最常用的是什么系统，如果安装三方软件之后报错缺少动态库 xxx.so, 你是怎么解决的。&lt;/li&gt;
&lt;li&gt;服务器上的某个服务异常，考虑怎么排查？(网络,系统资源占用,查看进程,日志,gdb&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;网络&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ping命令所使用的协议是什么？&lt;/li&gt;
&lt;li&gt;路由跟踪工作原理是什么？&lt;/li&gt;
&lt;li&gt;交换机和路由器区别是什么， 工作原理分别是什么？&lt;/li&gt;
&lt;li&gt;什么是ARP协议，DHCP协议，DNS协议？&lt;/li&gt;
&lt;li&gt;DNS递归查询和迭代查询分别是什么？除了A记录还见过哪些记录？ CNAME是干什么的？&lt;/li&gt;
&lt;li&gt;使用UDP传输数据时候，为了更好的传输性能，一般UDP包最大发送多少字节合适，为什么？&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;编程题&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;给一个字符串，统计单词个数。&lt;/li&gt;
&lt;li&gt;求斐波那契数列第N项。&lt;/li&gt;
&lt;li&gt;单链表逆序。&lt;/li&gt;
&lt;li&gt;格式化json&lt;/li&gt;
&lt;li&gt;求1千万的阶乘能被18整除多少次 (简单一点的题目是, 1千万的阶乘能被9整除多少次, 或者能被7整除多少次)&lt;/li&gt;
&lt;li&gt;给定一个正整数n作为边长，请按照下图画出正方形，正方形的边按照&lt;code&gt;A-Za-z0-9&lt;/code&gt;排列。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;n=1

 A
----------
n=2

 A B
 D C
---------
n=3

 A B C
 H   D
 G F E
--------
n=4

 A B C D
 L     E
 K     F
 J I H G
--------
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="interview"></category><category term="interview"></category><category term="programming"></category></entry><entry><title>pkexec</title><link href="/posts/2022/07/05/pkexec.html" rel="alternate"></link><published>2022-07-05T13:26:03+08:00</published><updated>2022-07-26T18:17:52+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-07-05:/posts/2022/07/05/pkexec.html</id><content type="html">&lt;p&gt;可以使用pkexec代替gksu 和 sudo&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;pkexec bash&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>解决linux下Qt creator不显示qDebug输出</title><link href="/posts/2022/07/04/qt-creator-qDebug.html" rel="alternate"></link><published>2022-07-04T18:50:55+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-07-04:/posts/2022/07/04/qt-creator-qDebug.html</id><summary type="html">&lt;p&gt;linux下Qt creator 不显示qDebug输出， 可以在qtcreator的.desktop文件添加环境变量。
&lt;code&gt;env QT_ASSUME_STDERR_HAS_CONSOLE=1 qtcreator&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;源代码原编写于Windows系统中，迁移到Linux上后使 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;linux下Qt creator 不显示qDebug输出， 可以在qtcreator的.desktop文件添加环境变量。
&lt;code&gt;env QT_ASSUME_STDERR_HAS_CONSOLE=1 qtcreator&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;源代码原编写于Windows系统中，迁移到Linux上后使用同一个qt工程文件进行编译，程序可以运行，但是无法输出QDebug信息。可能是Linux默认禁用了Qt的调试信息处理程序。&lt;/p&gt;
&lt;p&gt;解决方案如下：&lt;/p&gt;
&lt;p&gt;在主程序源代码添加&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;QLoggingCategory::defaultCategory()-&amp;gt;setEnabled(QtDebugMsg, true);&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;相关的讨论如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https://forum.qt.io/topic/81430/unable-to-see-the-qdebug-messages-on-console/15&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果采用另一种方法，即在终端设置环境变量&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;export QT_LOGGING_RULES="*.debug=true"&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;那么会有大量诸如鼠标事件、界面状态等不属于QDebug输出信息之外的内容打印在终端上。&lt;/p&gt;</content><category term="programming"></category><category term="programming"></category><category term="Qt"></category></entry><entry><title>openSUSE系统报告无法打开动态库</title><link href="/posts/2022/07/02/cannot-open-shared-libraries.html" rel="alternate"></link><published>2022-07-02T18:29:06+08:00</published><updated>2022-07-26T18:17:52+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-07-02:/posts/2022/07/02/cannot-open-shared-libraries.html</id><summary type="html">&lt;p&gt;更新openSUSE 15.4, 发现 qtcreator 挂了。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;qtcreator&lt;span class="w"&gt; &lt;/span&gt;
qtcreator:&lt;span class="w"&gt; &lt;/span&gt;error&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;loading&lt;span class="w"&gt; &lt;/span&gt;shared&lt;span class="w"&gt; &lt;/span&gt;libraries:&lt;span class="w"&gt; &lt;/span&gt;libExtensionSystem.so.6:&lt;span class="w"&gt; &lt;/span&gt;cannot&lt;span class="w"&gt; &lt;/span&gt;open&lt;span class="w"&gt; &lt;/span&gt;shared&lt;span class="w"&gt; &lt;/span&gt;object&lt;span class="w"&gt; &lt;/span&gt;file:&lt;span class="w"&gt; &lt;/span&gt;No&lt;span class="w"&gt; &lt;/span&gt;such&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;or&lt;span class="w"&gt; &lt;/span&gt;directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;最终还是在系统里找到了这个文件&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~&amp;gt; zypper search -f libExtensionSystem.so …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;更新openSUSE 15.4, 发现 qtcreator 挂了。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;qtcreator&lt;span class="w"&gt; &lt;/span&gt;
qtcreator:&lt;span class="w"&gt; &lt;/span&gt;error&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;loading&lt;span class="w"&gt; &lt;/span&gt;shared&lt;span class="w"&gt; &lt;/span&gt;libraries:&lt;span class="w"&gt; &lt;/span&gt;libExtensionSystem.so.6:&lt;span class="w"&gt; &lt;/span&gt;cannot&lt;span class="w"&gt; &lt;/span&gt;open&lt;span class="w"&gt; &lt;/span&gt;shared&lt;span class="w"&gt; &lt;/span&gt;object&lt;span class="w"&gt; &lt;/span&gt;file:&lt;span class="w"&gt; &lt;/span&gt;No&lt;span class="w"&gt; &lt;/span&gt;such&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;or&lt;span class="w"&gt; &lt;/span&gt;directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;最终还是在系统里找到了这个文件&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~&amp;gt; zypper search -f libExtensionSystem.so.6
显示文件在qt5-creator（已安装）包中。

~&amp;gt; rpm -ql qt5-creator | grep libExtensionSystem.so.6
/usr/lib64/qtcreator/libExtensionSystem.so.6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;手动帮助加载动态库（临时方案）&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;~&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class="o"&gt;=$&lt;/span&gt;&lt;span class="n"&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib64&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;qtcreator&lt;/span&gt;
&lt;span class="o"&gt;~&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;qtcreator&lt;/span&gt;
&lt;span class="n"&gt;qtcreator启动成功&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;我在另外一台系统上也出现了 qt creator 挂了的问题， 重启无效。
彻底解决方案是：&lt;/p&gt;
&lt;p&gt;root 用户下执行：&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;echo &amp;quot;/usr/lib64/qtcreator&amp;quot; &amp;gt; /etc/ld.so.conf.d/qtcreator.conf 

ldconfig -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="openSUSE"></category></entry><entry><title>自己用的三方软件仓库</title><link href="/posts/2022/07/02/thirdparty-repos.html" rel="alternate"></link><published>2022-07-02T14:30:25+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-07-02:/posts/2022/07/02/thirdparty-repos.html</id><content type="html">&lt;ol&gt;
&lt;li&gt;openSUSE, packman&lt;/li&gt;
&lt;li&gt;fedora, rpmfusion&lt;/li&gt;
&lt;li&gt;centos, EPEL, ius, ELRepo(不常用)，&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="rpmfusion"&gt;https://rpmfusion.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="EPEL"&gt;https://fedoraproject.org/wiki/EPEL/zh-cn&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="ius"&gt;https://ius.io/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="RLRepo硬件相关软件包"&gt;http://elrepo.org/tiki/HomePage&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>统计代码行数cloc (count lines of code)</title><link href="/posts/2022/06/29/cloc.html" rel="alternate"></link><published>2022-06-29T17:17:17+08:00</published><updated>2022-07-26T18:17:52+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-06-29:/posts/2022/06/29/cloc.html</id><content type="html">&lt;p&gt;统计代码行数可以使用cloc，gocloc&lt;/p&gt;
&lt;h4&gt;使用cloc&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;cloc
cloc&lt;span class="w"&gt; &lt;/span&gt;.
cloc&lt;span class="w"&gt; &lt;/span&gt;xxx-source.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;使用gocloc&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# https://github.com/hhatto/gocloc&lt;/span&gt;
gocloc&lt;span class="w"&gt; &lt;/span&gt;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="programming"></category></entry><entry><title>snapper文件系统快照工具</title><link href="/posts/2022/06/27/snapper.html" rel="alternate"></link><published>2022-06-27T19:26:08+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-06-27:/posts/2022/06/27/snapper.html</id><summary type="html">&lt;h5&gt;snapper 支持的文件系统&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;btrfs&lt;/li&gt;
&lt;li&gt;XFS、Ext4 或 Ext3 格式的精简 LVM 卷&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;命令参考&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;snapper&lt;span class="w"&gt; &lt;/span&gt;list&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 查看快照&lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;statu&lt;span class="w"&gt;  &lt;/span&gt;PRE..POST&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#命令以获取快照对的已更改文件列表 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h5&gt;snapper 支持的文件系统&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;btrfs&lt;/li&gt;
&lt;li&gt;XFS、Ext4 或 Ext3 格式的精简 LVM 卷&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;命令参考&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;snapper&lt;span class="w"&gt; &lt;/span&gt;list&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 查看快照&lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;statu&lt;span class="w"&gt;  &lt;/span&gt;PRE..POST&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#命令以获取快照对的已更改文件列表。文件内容发生了更改会以 c 标记、添加了文件会以 + 标记、删除了文件会以 - 标记。 &lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;diff&lt;span class="w"&gt; &lt;/span&gt;PRE..POST&lt;span class="w"&gt; &lt;/span&gt;文件名&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 显示某份文件的差异。如果没有指定文件名，则会显示所有文件的差异。&lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;undochange&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;修改前的快照编号&amp;gt;..&amp;lt;修改后的快照编号&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;文件名&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 撤销修改， &lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;undochange&lt;span class="w"&gt; &lt;/span&gt;SNAPSHOT_ID..0&lt;span class="w"&gt; &lt;/span&gt;FILENAME1&lt;span class="w"&gt; &lt;/span&gt;FILENAME2&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 把SNAPSHOT_ID中的文件恢复到当前文件系统&lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;create&lt;span class="w"&gt; &lt;/span&gt;--description&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Apache 配置清理之前&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--userdata&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;important=yes&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 创建快照&lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;delete&lt;span class="w"&gt; &lt;/span&gt;SNAPSHOT_ID&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 删除快照&lt;/span&gt;
snapper&lt;span class="w"&gt; &lt;/span&gt;delete&lt;span class="w"&gt; &lt;/span&gt;number1-number2&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 批量删除快照&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;rollback回滚&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# 一般使用undochange回滚会简单一些， 也可以使用rollback回滚
snapper rollback 要回滚的快照编号 # 该命令将创建当前系统状态的只读快照 A 及指定编号快照的可读写快照 B，并使用快照 B 替换根分区的默认子卷，重新启动系统后即可实现回滚。

# 你还可以在引导系统时选择“可引导快照”，以引导想要回滚的快照，在检查无误后在引导的快照中执行：
snapper rollback
# 不指定快照编号时，将创建根分区默认子卷（即原系统）的只读快照 A 和当前系统（即目前引导的快照）的可读写快照 B，并使用快照 B 替换根分区的默认子卷，重新启动系统后选择默认引导项即可实现回滚。 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="filesystem"></category></entry><entry><title>Xwindow utility</title><link href="/posts/2022/04/22/Xwindow-utility.html" rel="alternate"></link><published>2022-04-22T15:46:38+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-04-22:/posts/2022/04/22/Xwindow-utility.html</id><content type="html">&lt;p&gt;xwininfo 
xprop &lt;/p&gt;
&lt;p&gt;Xwininfo is a utility for displaying information about windows.
The xprop utility is for displaying window and font properties in an X server. &lt;/p&gt;</content><category term="xwindow"></category><category term="xwindow"></category></entry><entry><title>关于Qt</title><link href="/posts/2022/04/11/about-qt.html" rel="alternate"></link><published>2022-04-11T14:48:07+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-04-11:/posts/2022/04/11/about-qt.html</id><content type="html">&lt;p&gt;QString转char*的正确方法&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;QString&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toLocal8Bit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;constData&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;QString&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toUtf8&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;constData&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="programming"></category></entry><entry><title>vscode 使用代理安装扩展</title><link href="/posts/2022/03/31/vscode-proxy.html" rel="alternate"></link><published>2022-03-31T10:06:16+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-03-31:/posts/2022/03/31/vscode-proxy.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;code&lt;span class="w"&gt; &lt;/span&gt;--proxy-server&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;127&lt;/span&gt;.0.0.1:1080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="IDE"></category><category term="IDE"></category></entry><entry><title>go生成函数调用关系图</title><link href="/posts/2022/03/08/go-callvis.html" rel="alternate"></link><published>2022-03-08T11:46:01+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-03-08:/posts/2022/03/08/go-callvis.html</id><content type="html">&lt;p&gt;go生成函数调用关系图&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~/go/bin/go-callvis&lt;span class="w"&gt; &lt;/span&gt;-nostd&lt;span class="w"&gt;  &lt;/span&gt;-group&lt;span class="w"&gt; &lt;/span&gt;pkg,type&lt;span class="w"&gt; &lt;/span&gt;.
&lt;span class="c1"&gt;# 会自动打开浏览器localhost:7878&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="golang"></category><category term="glang"></category></entry><entry><title>xdg-user-dirs使用英文名称</title><link href="/posts/2022/02/24/xdg-user-dirs.html" rel="alternate"></link><published>2022-02-24T11:44:53+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-02-24:/posts/2022/02/24/xdg-user-dirs.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# 中文语言环境下，xdg-user-dirs使用英文名称
LANG=C xdg-user-dirs-gtk-update # 同意更新
xdg-user-dirs-gtk-update # 保留且不再询问
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="xdg"></category></entry><entry><title>Linux DNS缓存</title><link href="/posts/2022/01/04/linux-dns.html" rel="alternate"></link><published>2022-01-04T00:34:54+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2022-01-04:/posts/2022/01/04/linux-dns.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;nscd (为glibc提供缓存, 支持glibc 的 getaddrinfo(3), gethostbyname(3) 等相关API)&lt;/li&gt;
&lt;li&gt;systemd-resolved (1. 通过D-Bus服务提供dns缓存 2. 为glibc提供缓存 3. 在本地回环网口 127.0.0.53 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;nscd (为glibc提供缓存, 支持glibc 的 getaddrinfo(3), gethostbyname(3) 等相关API)&lt;/li&gt;
&lt;li&gt;systemd-resolved (1. 通过D-Bus服务提供dns缓存 2. 为glibc提供缓存 3. 在本地回环网口 127.0.0.53 上提供的本地DNS服务器[不推荐])&lt;/li&gt;
&lt;li&gt;dnsmasq (localhost:53)&lt;/li&gt;
&lt;li&gt;bind服务 named (localhost:53, 通过查看/etc/resolv.conf nameserver是不是本机地址确认)&lt;/li&gt;
&lt;/ol&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>uart登录显示颜色支持分屏</title><link href="/posts/2021/08/17/uart-tty.html" rel="alternate"></link><published>2021-08-17T18:25:03+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2021-08-17:/posts/2021/08/17/uart-tty.html</id><summary type="html">&lt;p&gt;使用minicom登录的时候，远程终端窗口大小和本地窗口不一致。 远程窗口小不好用。&lt;/p&gt;
&lt;p&gt;经测试可以用 &lt;code&gt;sudo screen /dev/ttyUSB0 115200&lt;/code&gt; 来登录， 登录后使 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;使用minicom登录的时候，远程终端窗口大小和本地窗口不一致。 远程窗口小不好用。&lt;/p&gt;
&lt;p&gt;经测试可以用 &lt;code&gt;sudo screen /dev/ttyUSB0 115200&lt;/code&gt; 来登录， 登录后使用&lt;code&gt;stty&lt;/code&gt;修改tty大小。可根据本机终端模拟器默认设置修改。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;stty size&lt;/code&gt; 查看当前tty大小&lt;/p&gt;
&lt;p&gt;&lt;code&gt;stty rows 52 cols 191&lt;/code&gt; 修改tty大小&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;显示颜色&lt;/h4&gt;
&lt;p&gt;由于minicom不支持带颜色的终端类型， 所以可以用screen登录 &lt;code&gt;sudo screen /dev/ttyUSB0 115200 -T linux&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在树莓派上执行：&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/root/.profile
&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[[ &amp;quot;$(tty)&amp;quot; == /dev/ttyS0 ]] &amp;amp;&amp;amp; stty rows 55 cols 190 &amp;amp;&amp;amp; TERM=linux bash &amp;amp;&amp;amp; exit&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/root/.profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;同时解决uart登录显示颜色和终端大小问题, 这样就可以用tmux分屏了&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>iproute2</title><link href="/posts/2021/08/16/iproute2.html" rel="alternate"></link><published>2021-08-16T00:00:00+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2021-08-16:/posts/2021/08/16/iproute2.html</id><summary type="html">&lt;h2&gt;macvlan&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ip link add link eth0 name macvlan0 type macvlan mode bridge&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ip link delete macvlan0&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;实测必须在eth0 up的情况下， macvlan才工作&lt;/li&gt;
&lt;li&gt;实测debian 10 (buster)，macvlan下 dhcpcd 8.1.2不能正常工作， isc-dhclient-4.4 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h2&gt;macvlan&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ip link add link eth0 name macvlan0 type macvlan mode bridge&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ip link delete macvlan0&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;实测必须在eth0 up的情况下， macvlan才工作&lt;/li&gt;
&lt;li&gt;实测debian 10 (buster)，macvlan下 dhcpcd 8.1.2不能正常工作， isc-dhclient-4.4.1 可以正常工作。 &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;4种mode&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;根据&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;macvlan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;子接口之间的通信模式，&lt;/span&gt;&lt;span class="n"&gt;macvlan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;有四种网络模式：&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;private&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;模式&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;vepa&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;virtual&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ethernet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;aggregator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;模式&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;bridge&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;模式&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;passthru&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;模式&lt;/span&gt;
&lt;span class="err"&gt;默认使用的是&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vepa&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;模式。&lt;/span&gt;

&lt;span class="n"&gt;private&lt;/span&gt;
&lt;span class="err"&gt;这种模式下，同一主接口下的子接口之间彼此隔离，不能通信。即使从外部的物理交换机导流，也会被无情地丢掉。&lt;/span&gt;

&lt;span class="n"&gt;vepa&lt;/span&gt;
&lt;span class="err"&gt;这种模式下，子接口之间的通信流量需要导到外部支持&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;802.1&lt;/span&gt;&lt;span class="n"&gt;Qbg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;VPEA&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;功能的交换机上（可以是物理的或者虚拟的），经由外部交换机转发，再绕回来。&lt;/span&gt;

&lt;span class="err"&gt;注：&lt;/span&gt;&lt;span class="mf"&gt;802.1&lt;/span&gt;&lt;span class="n"&gt;Qbg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;VPEA&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;功能简单说就是交换机要支持&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;发夹（&lt;/span&gt;&lt;span class="n"&gt;hairpin&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;功能，也就是数据包从一个接口上收上来之后还能再扔回去。&lt;/span&gt;

&lt;span class="n"&gt;bridge&lt;/span&gt;
&lt;span class="err"&gt;这种模式下，模拟的是&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Linux&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bridge&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;的功能，但比&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bridge&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;要好的一点是每个接口的&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAC&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;地址是已知的，不用学习。所以，这种模式下，子接口之间就是直接可以通信的。&lt;/span&gt;

&lt;span class="n"&gt;passthru&lt;/span&gt;
&lt;span class="err"&gt;这种模式，只允许单个子接口连接主接口，且必须设置成混杂模式，一般用于子接口桥接和创建&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;VLAN&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;子接口的场景。&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;network namespace&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ip&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;list&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;#  显示所有network ns&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;NAME&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 添加network ns&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;delete&lt;span class="w"&gt; &lt;/span&gt;NAME&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 删除network ns&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;eth0&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;PID&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;NAME&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 将eth0添加进制定的ns&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;NAME&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cmd&lt;span class="w"&gt; &lt;/span&gt;...&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;#在ns中执行命令&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 例, 将macvlan0 添加进userns0, 并且查看ip：&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;ns&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;userns0
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;macvlan0&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;userns0
ip&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;exec&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;ip&lt;span class="w"&gt; &lt;/span&gt;addr&lt;span class="w"&gt; &lt;/span&gt;show&lt;span class="w"&gt; &lt;/span&gt;macvlan0
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;macvlan0&lt;span class="w"&gt; &lt;/span&gt;netns&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 移回根命名空间&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;bridge&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;name&lt;span class="w"&gt; &lt;/span&gt;br0&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;bridge&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 新建网桥&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;dev&lt;span class="w"&gt; &lt;/span&gt;br0&lt;span class="w"&gt; &lt;/span&gt;up
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;dev&lt;span class="w"&gt; &lt;/span&gt;eth0&lt;span class="w"&gt; &lt;/span&gt;master&lt;span class="w"&gt; &lt;/span&gt;br0
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;dev&lt;span class="w"&gt; &lt;/span&gt;eth1&lt;span class="w"&gt; &lt;/span&gt;master&lt;span class="w"&gt; &lt;/span&gt;br0&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 添加至网桥&lt;/span&gt;

bridge&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 查看网桥中设备&lt;/span&gt;

ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;dev&lt;span class="w"&gt; &lt;/span&gt;eth0&lt;span class="w"&gt; &lt;/span&gt;nomaster&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 从网桥中删除&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;del&lt;span class="w"&gt; &lt;/span&gt;br0&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 删除网桥&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>树莓派中开机时检测案件是否按下</title><link href="/posts/2021/08/01/thd.html" rel="alternate"></link><published>2021-08-01T15:16:55+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2021-08-01:/posts/2021/08/01/thd.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 记录一下此用法。 thd来自 debian 软件包 triggerhappy&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-x&lt;span class="w"&gt; &lt;/span&gt;/usr/sbin/thd&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;timeout&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;thd&lt;span class="w"&gt; &lt;/span&gt;--dump&lt;span class="w"&gt; &lt;/span&gt;/dev/input/event*&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;grep&lt;span class="w"&gt; &lt;/span&gt;-q&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;LEFTSHIFT\|RIGHTSHIFT&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nb"&gt;printf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;xxxxxxxx&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="raspberry"></category></entry><entry><title>linux平台下的抓包方案</title><link href="/posts/2021/08/01/capture.html" rel="alternate"></link><published>2021-08-01T14:47:08+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2021-08-01:/posts/2021/08/01/capture.html</id><content type="html">&lt;h4&gt;linux平台下的抓包方案&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;libpcap &lt;code&gt;wireshark tcpdump均基于此。&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;PF_RING &lt;code&gt;性能更好。 支持PF_RING ZC模式。&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;DPDK    &lt;code&gt;性能最好，对硬件有要求。&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>linux 设置网络接口发送队列长度</title><link href="/posts/2021/07/31/txqueuelen.html" rel="alternate"></link><published>2021-07-31T01:54:28+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2021-07-31:/posts/2021/07/31/txqueuelen.html</id><summary type="html">&lt;h4&gt;发送队列长度&lt;/h4&gt;
&lt;p&gt;UDP发送频率过高可能会导致丢包，设置发送队列长度可以解决这类问题。
&lt;code&gt;https://www.cnblogs.com/liaokang/p/6003334.html&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;查询发送队列 …&lt;/p&gt;</summary><content type="html">&lt;h4&gt;发送队列长度&lt;/h4&gt;
&lt;p&gt;UDP发送频率过高可能会导致丢包，设置发送队列长度可以解决这类问题。
&lt;code&gt;https://www.cnblogs.com/liaokang/p/6003334.html&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;查询发送队列长度
&lt;code&gt;ip link show eth0 查看qlen后面的数字&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;设置发送队列长度&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 修改udev配置文件 &amp;quot;/etc/udev/rules.d/70-persistent-net.rules&amp;quot;:&lt;/span&gt;
&lt;span class="nv"&gt;SUBSYSTEM&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;net&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ACTION&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;add&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DRIVERS&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;?*&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;ATTR&lt;span class="o"&gt;{&lt;/span&gt;address&lt;span class="o"&gt;}==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;00:0C:29:35:79:97&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;KERNEL&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;eth*&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;eth0&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;ATTR&lt;span class="o"&gt;{&lt;/span&gt;tx_queue_len&lt;span class="o"&gt;}=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;10000&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;# 或者&lt;/span&gt;
ifconfig&lt;span class="w"&gt; &lt;/span&gt;eth0&lt;span class="w"&gt; &lt;/span&gt;txqueuelen&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10000&lt;/span&gt;
ip&lt;span class="w"&gt; &lt;/span&gt;link&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;dev&lt;span class="w"&gt; &lt;/span&gt;eth0&lt;span class="w"&gt; &lt;/span&gt;txqueuelen&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;相关API&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;man 7 netdevice
IOCTLS
SIOCGIFTXQLEN SIOCSIFTXQLEN
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;h4&gt;多队列网卡&lt;/h4&gt;
&lt;p&gt;多队列网卡是一种技术，最初是用来解决网络IO QoS （quality of service）问题的，后来随着网络IO的带宽的不断提升，单核CPU不能完全处满足网卡的需求，通过多队列网卡驱动的支持，将各个队列通过中断绑定到不同的核上，以满足网卡的需求。&lt;/p&gt;
&lt;p&gt;查询网卡多队列支持情况
&lt;code&gt;ethtool -l eth0 | grep combined&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;设置网卡队列数
&lt;code&gt;ethtool -L eth0 combined 2&lt;/code&gt;&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>微软提供的windows系统虚拟机文件下载</title><link href="/posts/2020/09/07/windows-vm.html" rel="alternate"></link><published>2020-09-07T00:12:35+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-09-07:/posts/2020/09/07/windows-vm.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;据说在虚拟机中使用这个&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;流畅度比安装的版本快很多&lt;/span&gt;
&lt;span class="err"&gt;可以免费使用&lt;/span&gt;
&lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;developer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;microsoft&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;en&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;us&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;microsoft&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;edge&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vms&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;


&lt;span class="err"&gt;下面这个是有&lt;/span&gt;&lt;span class="n"&gt;win10开发环境 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;据说在虚拟机中使用这个&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;流畅度比安装的版本快很多&lt;/span&gt;
&lt;span class="err"&gt;可以免费使用&lt;/span&gt;
&lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;developer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;microsoft&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;en&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;us&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;microsoft&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;edge&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vms&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;


&lt;span class="err"&gt;下面这个是有&lt;/span&gt;&lt;span class="n"&gt;win10开发环境的虚拟机&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;比较大&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;
&lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;developer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;microsoft&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;en&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;us&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;windows&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;downloads&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;virtual&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;machines&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="vm"></category><category term="vm"></category><category term="windows"></category></entry><entry><title>openSUSE coredump文件</title><link href="/posts/2020/08/24/openSUSE-coredump.html" rel="alternate"></link><published>2020-08-24T12:40:41+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-08-24:/posts/2020/08/24/openSUSE-coredump.html</id><summary type="html">&lt;p&gt;openSUSE Leap 15.2 默认是不开启coredump的.&lt;/p&gt;
&lt;h6&gt;开启方法&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;查看&lt;code&gt;ulimit -H -a&lt;/code&gt; 和 &lt;code&gt;ulimit -S -a&lt;/code&gt; core files是否均显示unlimited. 如果不是则修改&lt;/li&gt;
&lt;li&gt;sudo zypper in systemd-coredump&lt;/li&gt;
&lt;li&gt;reboot&lt;/li&gt;
&lt;/ol&gt;
&lt;h6&gt;使用方法&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;sudo …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;openSUSE Leap 15.2 默认是不开启coredump的.&lt;/p&gt;
&lt;h6&gt;开启方法&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;查看&lt;code&gt;ulimit -H -a&lt;/code&gt; 和 &lt;code&gt;ulimit -S -a&lt;/code&gt; core files是否均显示unlimited. 如果不是则修改&lt;/li&gt;
&lt;li&gt;sudo zypper in systemd-coredump&lt;/li&gt;
&lt;li&gt;reboot&lt;/li&gt;
&lt;/ol&gt;
&lt;h6&gt;使用方法&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;sudo coredumpctl list 列出当前corefile 文件&lt;/li&gt;
&lt;li&gt;/var/lib/systemd/coredump/ 这是corefile 默认保存位置&lt;/li&gt;
&lt;li&gt;man systemd-coredump; man core 查看手册&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="gdb"></category></entry><entry><title>dpkg安装软件包禁用dialog对话框</title><link href="/posts/2020/08/14/dpkg-disable-dialog.html" rel="alternate"></link><published>2020-08-14T17:38:05+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-08-14:/posts/2020/08/14/dpkg-disable-dialog.html</id><summary type="html">&lt;p&gt;之前写了个脚本, 在后台自动安装某些dpkg软件包.  但是安装过程会卡住 (即使crontab运行的后台程序也会卡住). 分析原因发现是 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;之前写了个脚本, 在后台自动安装某些dpkg软件包.  但是安装过程会卡住 (即使crontab运行的后台程序也会卡住). 分析原因发现是因为后台出了dialog的对话框, 没有被选择导致一直卡住.&lt;/p&gt;
&lt;p&gt;于是想到在非tty下面, dialog应该不会出现了. &lt;/p&gt;
&lt;p&gt;首先测试 &lt;code&gt;yes | dpkg -i *&lt;/code&gt; 对话框还是会出现. (&lt;code&gt;yes | dpkg -i&lt;/code&gt; 印象里面看别人这么写过.  &lt;code&gt;yes | tty&lt;/code&gt; 显示 &lt;code&gt;not a tty&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;于是测试 ssh -T 链接本机, 安装果然没有对话框. 能够成功安装,但是有一行报错 &lt;code&gt;debconf: unable to initialize frontend: Dialog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;顺着这个报错, 终于搜到了 如何dpkg安装软件不出现dialog对话框.&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;设置环境变量&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;然后在&lt;/span&gt; &lt;span class="n"&gt;dpkg安装就可以&lt;/span&gt;
&lt;span class="n"&gt;DEBIAN_FRONTEND&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;noninteractive&lt;/span&gt; &lt;span class="n"&gt;dpkg&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="debian"></category></entry><entry><title>openSUSE zypper</title><link href="/posts/2020/08/05/openSUSE-zypper.html" rel="alternate"></link><published>2020-08-05T13:24:13+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-08-05:/posts/2020/08/05/openSUSE-zypper.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;zypper 安装软件时候版本选择&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;查看仓库中有firefox的哪些版本
sudo zypper se -s firefox

安装指定版本
sudo zypper in --oldpackage MozillaFirefox=78.0.1-lp152.2.5.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;zypper 和 其他包 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;zypper 安装软件时候版本选择&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;查看仓库中有firefox的哪些版本
sudo zypper se -s firefox

安装指定版本
sudo zypper in --oldpackage MozillaFirefox=78.0.1-lp152.2.5.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;zypper 和 其他包管理器 使用对比&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://wiki.archlinux.org/index.php/Pacman/Rosetta"&gt;Pacman/Rosetta&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>在chromebook上安装archlinux</title><link href="/posts/2020/07/26/arch-linux-samsung-arm-chromebook.html" rel="alternate"></link><published>2020-07-26T22:56:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-26:/posts/2020/07/26/arch-linux-samsung-arm-chromebook.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;把安装到U盘的教程中的 /dev/sda 替换成 mmcblk0 即可把archlinux安装进入系统盘.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑 /etc/pacman.conf 文件, 添加 &lt;code&gt;IgnorePkg   = linux-armv7 linux-armv7-chromebook linux-firmware&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;参考https://calvin.me/arch-linux-samsung-arm-chromebook 修改亮 …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;把安装到U盘的教程中的 /dev/sda 替换成 mmcblk0 即可把archlinux安装进入系统盘.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑 /etc/pacman.conf 文件, 添加 &lt;code&gt;IgnorePkg   = linux-armv7 linux-armv7-chromebook linux-firmware&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;参考https://calvin.me/arch-linux-samsung-arm-chromebook 修改亮度控制 绑定按键 取消静音 设置休眠&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;alsamixer&lt;/span&gt;

&lt;span class="k"&gt;Go&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;across&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;page&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arrow&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;press&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unmute&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;Left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC1&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mono&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC2&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mono&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC3&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;Right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC1&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;Left&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC1&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mono&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC2&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mono&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC3&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nf"&gt;Right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Speaker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mixer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;Right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DAC1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;cat&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;brightness&lt;/span&gt;

#&lt;span class="o"&gt;!/&lt;/span&gt;&lt;span class="nv"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;bash&lt;/span&gt;
&lt;span class="nv"&gt;cur_bri&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;$&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;cat&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;class&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;brightness&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;[&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;$1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;up&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;]&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;; then&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;bri&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;$&lt;span class="ss"&gt;((&lt;/span&gt;&lt;span class="mh"&gt;$c&lt;/span&gt;&lt;span class="nv"&gt;ur_bri&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="ss"&gt;))&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;`&lt;span class="nv"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;$b&lt;/span&gt;&lt;span class="nv"&gt;ri&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;class&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;brightness&lt;/span&gt;`
&lt;span class="nv"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;[&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;$1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;down&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;]&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;; then&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;bri&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;$&lt;span class="ss"&gt;((&lt;/span&gt;&lt;span class="mh"&gt;$c&lt;/span&gt;&lt;span class="nv"&gt;ur_bri&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="ss"&gt;))&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;`&lt;span class="nv"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;$b&lt;/span&gt;&lt;span class="nv"&gt;ri&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;class&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;brightness&lt;/span&gt;`
&lt;span class="nv"&gt;fi&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;[&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;$1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-s&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;]&lt;span class="c1"&gt;; then&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;`&lt;span class="nv"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;$2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;class&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;backlight&lt;/span&gt;.&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;brightness&lt;/span&gt;`
&lt;span class="nv"&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Other Notes&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;trackpad&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sometimes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;doesn&lt;/span&gt;&lt;span class="p"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;work&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;restart&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fixes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;press&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;button&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Can&lt;/span&gt;&lt;span class="p"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;seem&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;PulseAudio&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;working&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Two&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;finger&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;clicks&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;that&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;are&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;too&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;wide&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;apart&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;don&lt;/span&gt;&lt;span class="p"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Two&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;finger&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;taps&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;do&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;though&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Current&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;RAM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;usage&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;me&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;123&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;LOT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;better&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;than&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Chrome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;OS&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;which&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;always&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sits&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;around&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="n"&gt;GB&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Still&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;can&lt;/span&gt;&lt;span class="p"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;720&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;smoothly&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Chrome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;OS&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;bit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;better&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;here&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;but&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;even&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;dies&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;720&lt;/span&gt;&lt;span class="n"&gt;p60&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Sticking&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;480&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;seems&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;be&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;best&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;It&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;possible&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;rid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;having&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;press&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;CTRL&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;each&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;did&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;that&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;once&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;totally&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;forgot&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;how&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;back&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;eventually&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;did&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;but&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;it&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;was&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;crazy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stuff&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;参考
&lt;a href="https://archlinuxarm.org/platforms/armv7/samsung/samsung-chromebook"&gt;archlinuxarm&lt;/a&gt;
&lt;a href="https://calvin.me/arch-linux-samsung-arm-chromebook"&gt;Arch Linux on Samsung ARM Chromebook&lt;/a&gt;
&lt;a href="https://www.cnblogs.com/ouyangsong/p/9348163.html"&gt;Chromebook安装ArchLinux&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="archlinux"></category><category term="linux"></category></entry><entry><title>openSUSE Leap 系统升级</title><link href="/posts/2020/07/20/openSUSE-upgrade.html" rel="alternate"></link><published>2020-07-20T23:38:50+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-20:/posts/2020/07/20/openSUSE-upgrade.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 首先启用 repo-update 软件源&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;modifyrepo&lt;span class="w"&gt; &lt;/span&gt;--enable&lt;span class="w"&gt; &lt;/span&gt;repo-update

&lt;span class="c1"&gt;# 然后更到最新&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;refresh
zypper&lt;span class="w"&gt; &lt;/span&gt;update

&lt;span class="c1"&gt;# 下面的命令建议在tty中执行.  Ctrl + Alt + F2&lt;/span&gt;

&lt;span class="c1"&gt;# 如果 /etc/zypp/repos.d/中定义的Leap 仓库 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 首先启用 repo-update 软件源&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;modifyrepo&lt;span class="w"&gt; &lt;/span&gt;--enable&lt;span class="w"&gt; &lt;/span&gt;repo-update

&lt;span class="c1"&gt;# 然后更到最新&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;refresh
zypper&lt;span class="w"&gt; &lt;/span&gt;update

&lt;span class="c1"&gt;# 下面的命令建议在tty中执行.  Ctrl + Alt + F2&lt;/span&gt;

&lt;span class="c1"&gt;# 如果 /etc/zypp/repos.d/中定义的Leap 仓库已经使用$releasever变量时, 则使用:&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;--releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2&lt;span class="w"&gt; &lt;/span&gt;ref


&lt;span class="c1"&gt;# 或者仓库地址使用特定的Leap版本号对它们进行硬编码，则需要首先对其进行修改:&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-i&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;s/15.1/$releasever/g&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/etc/zypp/repos.d/*.repo
&lt;span class="c1"&gt;# 然后执行:&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;--releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2&lt;span class="w"&gt; &lt;/span&gt;ref
zypper&lt;span class="w"&gt; &lt;/span&gt;--releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2&lt;span class="w"&gt; &lt;/span&gt;dup


&lt;span class="c1"&gt;# 最后重新启动系统.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>openSUSE Leap &amp; Tumbleweed 安装解码器</title><link href="/posts/2020/07/20/openSUSE-multimedia.html" rel="alternate"></link><published>2020-07-20T23:15:46+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-20:/posts/2020/07/20/openSUSE-multimedia.html</id><summary type="html">&lt;p&gt;添加全部packman仓库&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/packman/suse/openSUSE_Leap_$releasever&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;packman

&lt;span class="c1"&gt;# 将系统软件包切换到packman中的软件包(两者混用会导致各种问题)&lt;/span&gt;
zypper …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;添加全部packman仓库&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/packman/suse/openSUSE_Leap_$releasever&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;packman

&lt;span class="c1"&gt;# 将系统软件包切换到packman中的软件包(两者混用会导致各种问题)&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;dup&lt;span class="w"&gt; &lt;/span&gt;--from&lt;span class="w"&gt; &lt;/span&gt;packman&lt;span class="w"&gt; &lt;/span&gt;--allow-vendor-change
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;或者仅仅添加packman中的Essentials(解码器)仓库&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/packman/suse/openSUSE_Leap_$releasever/Essentials&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;packman-essentials

&lt;span class="c1"&gt;# 将系统软件包切换到packman中的软件包(两者混用会导致各种问题)&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;dup&lt;span class="w"&gt; &lt;/span&gt;--from&lt;span class="w"&gt; &lt;/span&gt;packman-essentials&lt;span class="w"&gt; &lt;/span&gt;--allow-vendor-change
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="https://en.opensuse.org/Additional_package_repositories"&gt;openSUSE_Additional_package_repositories&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>斐讯N1刷机过程记录</title><link href="/posts/2020/07/01/phicomm-N1.html" rel="alternate"></link><published>2020-07-01T23:38:09+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-01:/posts/2020/07/01/phicomm-N1.html</id><summary type="html">&lt;p&gt;&lt;img alt="刷机" src="/posts/2020/07/01/phicomm-N1-flash.jpg"&gt;&lt;/p&gt;
&lt;p&gt;去年买的N1盒子, 一直没时间折腾, 最近刚好需要作下载机用, 于是刷机, 顺便整理下步骤.&lt;/p&gt;
&lt;p&gt;首先说下N1配置. 处理器Amlogic S905, 内存 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="刷机" src="/posts/2020/07/01/phicomm-N1-flash.jpg"&gt;&lt;/p&gt;
&lt;p&gt;去年买的N1盒子, 一直没时间折腾, 最近刚好需要作下载机用, 于是刷机, 顺便整理下步骤.&lt;/p&gt;
&lt;p&gt;首先说下N1配置. 处理器Amlogic S905, 内存 2G, emmc 8G, 千兆网口, 2个USB 2.0, 1个HDMI接口, 双频WIFI(支持 802.11 ac), 支持蓝牙. &lt;/p&gt;
&lt;p&gt;价格目前不到100元. 和raspberry 4 相比性能差不多, 重要的是能用Android系统, 便宜, 自带外壳.&lt;/p&gt;
&lt;h4&gt;目前用的人多的N1系统, 大致为 (不分先后)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Openwrt做主路由     &lt;/li&gt;
&lt;li&gt;小钢炮做下载机Docker里做旁路由 (恩山无线论坛 荒野无灯 所开发的专注于下载的系统, 基于linux)&lt;/li&gt;
&lt;li&gt;Armbian玩Docker&lt;/li&gt;
&lt;li&gt;Android (电视盒子)&lt;/li&gt;
&lt;li&gt;游戏机 (EmuELEC)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;刷机第一步系统降级&lt;/h2&gt;
&lt;p&gt;不管是N1什么版本，首先必须要降级到能线刷的版本，并且能够使用，便于后期emmc能恢复。&lt;/p&gt;
&lt;h6&gt;准备环境&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;N1盒子&lt;/li&gt;
&lt;li&gt;装有windows的电脑主机&lt;/li&gt;
&lt;li&gt;网线&lt;/li&gt;
&lt;li&gt;HDMI线&lt;/li&gt;
&lt;li&gt;支持HDMI的电视或者显示器&lt;/li&gt;
&lt;li&gt;USB接口鼠标&lt;/li&gt;
&lt;li&gt;USB2.0公对公数据线&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;降级过程&lt;/h6&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-340279-1-1.html"&gt;WEBPAD大神降级教程&amp;gt;&amp;gt;&lt;/a&gt;
&lt;a href="https://www.right.com.cn/forum/thread-413863-1-1.html"&gt;超快速恢复EMMC法&amp;gt;&amp;gt;&lt;/a&gt;&lt;/p&gt;
&lt;h6&gt;设置开启U盘引导, 设置以后, 只要不动bootloader, N1 就刷不死&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;adb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;connect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;N1&lt;/span&gt;的&lt;span class="nv"&gt;IP&lt;/span&gt;
&lt;span class="nv"&gt;adb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;shell&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;reboot&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;update&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;下面是刷armbian的方法&lt;/h2&gt;
&lt;h6&gt;下载armbian系统&lt;/h6&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-927225-1-1.html"&gt;当前适配的armbian介绍,下载连接&lt;/a&gt;&lt;/p&gt;
&lt;h6&gt;烧录进入U盘&lt;/h6&gt;
&lt;p&gt;linux可以尝试用dd (没测试过)&lt;/p&gt;
&lt;p&gt;windows用etcher (亲测可用)&lt;/p&gt;
&lt;p&gt;按照上面的说明, 替换 btd文件&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[/boot/uEnv.ini] 第一行改为
dtb_name=/dtb/meson-gxl-s905d-phicomm-n1.dtb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h6&gt;然后关闭N1, 开始启动armbian&lt;/h6&gt;
&lt;p&gt;插上U盘,N1通电, 开机就是U盘启动的armbian系统.&lt;/p&gt;
&lt;p&gt;也可以通过home目录下面的 install.sh 安装进入emmc. (覆盖掉默认的android)&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;参考资料 &lt;code&gt;主要参考 恩山无线论坛 和 什么值得买&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-415880-1-1.html"&gt;N1刷不死的玩法整理&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-413863-1-1.html"&gt;N1刷完ARMBIAN想恢复EMMC超级简单线刷法&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-421805-1-1.html"&gt;N1玩法总结整理&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://post.smzdm.com/p/akmg5dv4/"&gt;N1盒子不拆机救砖&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://post.smzdm.com/p/aekemx44/"&gt;N1改电视盒子&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://post.smzdm.com/p/a99vxp9e/"&gt;N1简明降级&amp;amp;刷机教程&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="phicomm"></category></entry><entry><title>inotify-tools</title><link href="/posts/2020/04/24/inotify-tools.html" rel="alternate"></link><published>2020-04-24T19:40:05+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-04-24:/posts/2020/04/24/inotify-tools.html</id><summary type="html">&lt;p&gt;inotify-tools 可以用来监控文件系统的事件。inotify-tools提供两种工具，一是 inotifywait，它是用来监控文件或目录的变化，二是inotifywatch，它是用来统计文件系 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;inotify-tools 可以用来监控文件系统的事件。inotify-tools提供两种工具，一是 inotifywait，它是用来监控文件或目录的变化，二是inotifywatch，它是用来统计文件系统访问的次数。&lt;/p&gt;
&lt;p&gt;常用&lt;code&gt;inotifywait -qcrm $dir&lt;/code&gt;&lt;/p&gt;
&lt;h6&gt;inotifywait&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;参数：
@
排除不需要监视的文件，可以是相对路径，也可以是绝对路径。
–fromfile 
从文件读取需要监视的文件或排除的文件，一个文件一行，排除的文件以@开头。
-m, –monitor
接收到一个事情而不退出，无限期地执行。默认的行为是接收到一个事情后立即退出。
-d, –daemon
跟–monitor一样，除了是在后台运行，需要指定–outfile把事情输出到一个文件。也意味着使用了–syslog。
-o, –outfile 
输出事情到一个文件而不是标准输出。
-s, –syslog
输出错误信息到系统日志
-r, –recursive
监视一个目录下的所有子目录。
-q, –quiet
指定一次，不会输出详细信息，指定二次，除了致命错误，不会输出任何信息。
–exclude 
正则匹配需要排除的文件，大小写敏感。
–excludei 
正则匹配需要排除的文件，忽略大小写。
-t , –timeout 
设置超时时间，如果为0，则无限期地执行下去。
-e , –event 
指定监视的事件。
-c, –csv
输出csv格式。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h6&gt;inotifywatch&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;参数：
@
排除不需要监视的文件，可以是相对路径，也可以是绝对路径。
–fromfile 
从文件读取需要监视的文件或排除的文件，一个文件一行，排除的文件以@开头。
-z, –zero
输出表格的行和列，即使元素为空
–exclude 
正则匹配需要排除的文件，大小写敏感。
–excludei 
正则匹配需要排除的文件，忽略大小写。
-r, –recursive
监视一个目录下的所有子目录。
-t , –timeout 
设置超时时间
-e , –event 
只监听指定的事件。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="kernel"></category></entry><entry><title>通过nc命令查看服务器端口和客户端能不能正常连接</title><link href="/posts/2020/01/08/linux-nc.html" rel="alternate"></link><published>2020-01-08T09:57:04+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-01-08:/posts/2020/01/08/linux-nc.html</id><content type="html">&lt;p&gt;tcp&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;服务器
nc bind地址 监听端口

客户端
nc 服务器地址 服务器端口
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;udp &lt;code&gt;nc&lt;/code&gt; 加上 &lt;code&gt;-u&lt;/code&gt; 参数即可&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>笔记本把无线网络连接分享给网线</title><link href="/posts/2020/01/07/laptop-router.html" rel="alternate"></link><published>2020-01-07T22:11:18+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-01-07:/posts/2020/01/07/laptop-router.html</id><summary type="html">&lt;p&gt;笔记本把无线网络连接分享给网线.&lt;/p&gt;
&lt;p&gt;首先如果笔记本开了NetworkManager服务, 建议在NetworkManager的配置中取消托管有线网络接口 eth0. (可选, 如果 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;笔记本把无线网络连接分享给网线.&lt;/p&gt;
&lt;p&gt;首先如果笔记本开了NetworkManager服务, 建议在NetworkManager的配置中取消托管有线网络接口 eth0. (可选, 如果修改了配置, 要重启NetworkManager)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat /etc/NetworkManager/NetworkManager.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[main]&lt;/span&gt;
&lt;span class="na"&gt;plugins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;ifupdown,keyfile&lt;/span&gt;

&lt;span class="k"&gt;[ifupdown]&lt;/span&gt;
&lt;span class="na"&gt;managed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;

&lt;span class="k"&gt;[keyfile]&lt;/span&gt;
&lt;span class="na"&gt;unmanaged-devices&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;interface-name:eth0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;确定笔记本已经连接好了WIFI&lt;/p&gt;
&lt;p&gt;然后在笔记本上面设置 eth0 ip
&lt;code&gt;sudo ifconfig eth0 192.168.9.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启DHCP
&lt;code&gt;sudo dnsmasq --dhcp-range=192.168.9.10,192.168.9.20,999m --interface=eth0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启转发
&lt;code&gt;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;设置NAT
&lt;code&gt;iptables -t nat -A POSTROUTING -j MASQUERADE&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;需要上网的设备连接笔记本eth0即可&lt;/p&gt;
&lt;p&gt;查看笔记本下面连接的设备ip
&lt;code&gt;cat /var/lib/misc/dnsmasq.leases&lt;/code&gt; 或者 &lt;code&gt;cat /var/db/dnsmasq.leases&lt;/code&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="network"></category></entry><entry><title>Linux性能优化</title><link href="/posts/2020/01/05/linux-improving-performance.html" rel="alternate"></link><published>2020-01-05T22:05:19+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-01-05:/posts/2020/01/05/linux-improving-performance.html</id><content type="html">&lt;ol&gt;
&lt;li&gt;挂载选项添加noatime&lt;/li&gt;
&lt;li&gt;mitigations=off&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>openSUSE Tumbleweed server 安装cinnamon桌面</title><link href="/posts/2019/12/19/openSUSE-server-install-cinnamon.html" rel="alternate"></link><published>2019-12-19T11:11:01+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-12-19:/posts/2019/12/19/openSUSE-server-install-cinnamon.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;refresh
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;cinnamon
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;lightdm
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;xorg-x11-server
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;xorg-x11-server-wayland
update-alternatives&lt;span class="w"&gt; &lt;/span&gt;--list&lt;span class="w"&gt; &lt;/span&gt;default-displaymanager
update-alternatives&lt;span class="w"&gt; &lt;/span&gt;--config&lt;span class="w"&gt; &lt;/span&gt;default-displaymanager&lt;span class="w"&gt; &lt;/span&gt;选择lightdm
systemctl&lt;span class="w"&gt; &lt;/span&gt;disable&lt;span class="w"&gt; &lt;/span&gt;default.target&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 或者删除 /etc/systemd/system/default.target&lt;/span&gt;
ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;/usr/lib/systemd/system/graphical.target&lt;span class="w"&gt; &lt;/span&gt;/etc/systemd/system/default.target

zypper …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;refresh
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;cinnamon
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;lightdm
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;xorg-x11-server
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;xorg-x11-server-wayland
update-alternatives&lt;span class="w"&gt; &lt;/span&gt;--list&lt;span class="w"&gt; &lt;/span&gt;default-displaymanager
update-alternatives&lt;span class="w"&gt; &lt;/span&gt;--config&lt;span class="w"&gt; &lt;/span&gt;default-displaymanager&lt;span class="w"&gt; &lt;/span&gt;选择lightdm
systemctl&lt;span class="w"&gt; &lt;/span&gt;disable&lt;span class="w"&gt; &lt;/span&gt;default.target&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 或者删除 /etc/systemd/system/default.target&lt;/span&gt;
ln&lt;span class="w"&gt; &lt;/span&gt;-s&lt;span class="w"&gt; &lt;/span&gt;/usr/lib/systemd/system/graphical.target&lt;span class="w"&gt; &lt;/span&gt;/etc/systemd/system/default.target

zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;wqy-microhei-fonts

&lt;span class="c1"&gt;# 然后安装输入法&lt;/span&gt;
zypper&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;fcitx-libpinyin&lt;span class="w"&gt; &lt;/span&gt;fcitx-config-gtk3

reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>openSUSE Leap &amp; Tumbleweed 添加软件源</title><link href="/posts/2019/12/16/openSUSE-addrepo.html" rel="alternate"></link><published>2019-12-16T14:55:38+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-12-16:/posts/2019/12/16/openSUSE-addrepo.html</id><summary type="html">&lt;p&gt;经测试, aliyun的软件源并不稳定, 更新慢. 经常只更新一部分, 不和官方完全同步.
tsinghuau源, 稳定, 好用.&lt;/p&gt;
&lt;p&gt;首先禁用全部仓库：
&lt;code&gt;sudo zypper mr -da&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;经测试, aliyun的软件源并不稳定, 更新慢. 经常只更新一部分, 不和官方完全同步.
tsinghuau源, 稳定, 好用.&lt;/p&gt;
&lt;p&gt;首先禁用全部仓库：
&lt;code&gt;sudo zypper mr -da&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果是Tumbleweed&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;https://mirrors.tuna.tsinghua.edu.cn/opensuse/tumbleweed/repo/oss&lt;span class="w"&gt;        &lt;/span&gt;Tumbleweed-Oss-tuna
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;https://mirrors.tuna.tsinghua.edu.cn/opensuse/tumbleweed/repo/non-oss&lt;span class="w"&gt;    &lt;/span&gt;Tumbleweed-Non-Oss-tuna
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;https://mirrors.tuna.tsinghua.edu.cn/packman/suse/openSUSE_Tumbleweed&lt;span class="w"&gt;    &lt;/span&gt;Tumbleweed-Packman-tuna

&lt;span class="c1"&gt;# 更新执行&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;dup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;如果是Leap&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/opensuse/distribution/leap/$releasever/repo/oss/&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;repo-oss-tuna
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/opensuse/distribution/leap/$releasever/repo/non-oss&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;repo-non-oss-tuna
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/opensuse/update/leap/$releasever/oss&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;                  &lt;/span&gt;repo-update-oss-tuna
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/opensuse/update/leap/$releasever/non-oss&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;repo-update-non-oss-tuna
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-fc&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://mirrors.tuna.tsinghua.edu.cn/packman/suse/openSUSE_Leap_$releasever&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;repo-packman-tuna
&lt;span class="c1"&gt;# 更新执行&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;zypper&lt;span class="w"&gt; &lt;/span&gt;update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>ext4断电丢失数据(零长文件)</title><link href="/posts/2019/11/29/ext4-data-lost.html" rel="alternate"></link><published>2019-11-29T21:10:42+08:00</published><updated>2022-11-21T10:57:18+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-11-29:/posts/2019/11/29/ext4-data-lost.html</id><summary type="html">&lt;p&gt;ext4断电丢失数据(零长文件).&lt;/p&gt;
&lt;p&gt;嵌入式设备, 经常拔掉电源, 以前/data分区有挂载选项 sync.&lt;/p&gt;
&lt;p&gt;后来发现sync方式挂载写入数据速度太慢 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;ext4断电丢失数据(零长文件).&lt;/p&gt;
&lt;p&gt;嵌入式设备, 经常拔掉电源, 以前/data分区有挂载选项 sync.&lt;/p&gt;
&lt;p&gt;后来发现sync方式挂载写入数据速度太慢了(100KB/S), 正常为10MB/S.&lt;/p&gt;
&lt;p&gt;去掉sync断电又会丢数据.&lt;/p&gt;
&lt;p&gt;ext4 man-pages 上说 &lt;code&gt;fd = open("foo", O_TRUNC)/write(fd,...)/close(fd)&lt;/code&gt; 或者好一点的 &lt;code&gt;fd = open("foo.new")/write(fd,...)/close(fd)/ rename("foo.new", "foo")&lt;/code&gt; 这种用法突然断电容易产生零长文件, 在close之前调用fsync好一点. 实际上 auto_da_alloc 挂载选项就是为了解决上面的一些情况的, man-pages上说auto_da_alloc 相对及时把数据写进硬盘. 但是自己测试断电依然会丢数据, 产生零长文件(&lt;code&gt;zero-length&lt;/code&gt;) .&lt;/p&gt;
&lt;p&gt;尝试新的挂载选项为 defaults,noatime,nodelalloc,auto_da_alloc,commit=1,data=journal, 不带sync. 不知道管用不管用.&lt;/p&gt;
&lt;p&gt;有人推荐xfs, 据说断电不容易丢数据, 但xfs用于读写密集的环境会有一些问题, 读写密集环境用ext4.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https://blogs.gnome.org/alexl/2009/03/16/ext4-vs-fsync-my-take/&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="linux"></category><category term="linux"></category><category term="ext4"></category></entry><entry><title>raspberry watchdog</title><link href="/posts/2019/11/22/raspberry-watchdog.html" rel="alternate"></link><published>2019-11-22T20:06:38+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-11-22:/posts/2019/11/22/raspberry-watchdog.html</id><content type="html">&lt;p&gt;raspberry 4b
Raspbian GNU/Linux 10 (buster)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;ls /dev/watchdog*&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/dev/watchdog  /dev/watchdog0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;grep Watchdog /etc/systemd/system.conf&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;RuntimeWatchdogSec=10
ShutdownWatchdogSec=10min&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;systemctl daemon-reexec&lt;/p&gt;
&lt;p&gt;:(){ :|:&amp;amp; };:&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="linux"></category><category term="linux"></category><category term="raspberry"></category></entry><entry><title>linux pptpd配置</title><link href="/posts/2019/11/14/linux-pptpd.html" rel="alternate"></link><published>2019-11-14T10:44:33+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-11-14:/posts/2019/11/14/linux-pptpd.html</id><content type="html">&lt;p&gt;yum install pptpd&lt;/p&gt;
&lt;p&gt;echo "user01  pptpd   123456  * " &amp;gt;&amp;gt;  chap-secrets &lt;/p&gt;
&lt;p&gt;echo "net.ipv4.ip_forward=1" &amp;gt; /etc/sysctl.d/ip_forward.conf
sysctl -p&lt;/p&gt;
&lt;p&gt;vim /etc/pptpd.conf&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;localip 192.168.0.1
remoteip        192.168.0.234-238,192.168.0.245
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;systemctl start pptpd.service&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="server"></category></entry><entry><title>dnsmasq DHCP功能和DNS缓存</title><link href="/posts/2019/07/12/dnsmasq.html" rel="alternate"></link><published>2019-07-12T13:59:41+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-07-12:/posts/2019/07/12/dnsmasq.html</id><summary type="html">&lt;p&gt;NetworkManager 热点默认配置:
dnsmasq --conf-file=/dev/null --no-hosts --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload --strict-order --listen-address=10.42.0.1 --dhcp-range=10.42.0.10,10.42.0.254,60m --dhcp-lease-max=50 --dhcp-leasefile=/var/lib/NetworkManager/dnsmasq-wlp8s0.leases --pid-file=/var/run/nm-dnsmasq-wlp8s0.pid --conf-dir=/etc/NetworkManager/dnsmasq-shared …&lt;/p&gt;</summary><content type="html">&lt;p&gt;NetworkManager 热点默认配置:
dnsmasq --conf-file=/dev/null --no-hosts --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload --strict-order --listen-address=10.42.0.1 --dhcp-range=10.42.0.10,10.42.0.254,60m --dhcp-lease-max=50 --dhcp-leasefile=/var/lib/NetworkManager/dnsmasq-wlp8s0.leases --pid-file=/var/run/nm-dnsmasq-wlp8s0.pid --conf-dir=/etc/NetworkManager/dnsmasq-shared.d&lt;/p&gt;
&lt;p&gt;dnsmasq HDCP+DNS缓存:
dnsmasq --conf-file=/dev/null --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload --strict-order --listen-address=127.0.0.1 --dhcp-range=10.42.0.10,10.42.0.254,60m&lt;/p&gt;
&lt;p&gt;只做DNS缓存:
dnsmasq --conf-file=/dev/null --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload  --listen-address=127.0.0.1 --cache-size=1000&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>2019-6-21名单</title><link href="/posts/2019/06/24/list-2019-6-21.html" rel="alternate"></link><published>2019-06-24T00:53:33+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-06-24:/posts/2019/06/24/list-2019-6-21.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;爱尔眼科
通策医疗
海天味业
中国国旅
片仔癀
宋城演艺
北方华创
安图生物
凯莱英
珀莱雅
正海生物
艾德生物
伊利股份
东 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;爱尔眼科
通策医疗
海天味业
中国国旅
片仔癀
宋城演艺
北方华创
安图生物
凯莱英
珀莱雅
正海生物
艾德生物
伊利股份
东方财富
中顺洁柔
苏泊尔
汤臣倍健
万孚生物
先导智能
瑞恒医药
华兰生物
美亚光电
智飞生物
培凌榨菜
欧普康视
泰格医药
贵州茅台
中国平安
视源股份
迈瑞医疗 (黑名单)
药明康德
海康威视
华测检测
顺恒醋业
海大集团
晨光文具
精测电子
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="stock"></category><category term="stock"></category></entry><entry><title>股票大佬推荐的书</title><link href="/posts/2019/06/01/stock-book.html" rel="alternate"></link><published>2019-06-01T18:40:12+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-06-01:/posts/2019/06/01/stock-book.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;价值投资实战手册&lt;/li&gt;
&lt;li&gt;周期&lt;/li&gt;
&lt;li&gt;穿过迷雾&lt;/li&gt;
&lt;li&gt;奥马哈之雾&lt;/li&gt;
&lt;li&gt;投资中最简单的事&lt;/li&gt;
&lt;li&gt;投资中不简单的事&lt;/li&gt;
&lt;li&gt;投资最重要的事&lt;/li&gt;
&lt;li&gt;股票魔法师 一二卷 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;价值投资实战手册&lt;/li&gt;
&lt;li&gt;周期&lt;/li&gt;
&lt;li&gt;穿过迷雾&lt;/li&gt;
&lt;li&gt;奥马哈之雾&lt;/li&gt;
&lt;li&gt;投资中最简单的事&lt;/li&gt;
&lt;li&gt;投资中不简单的事&lt;/li&gt;
&lt;li&gt;投资最重要的事&lt;/li&gt;
&lt;li&gt;股票魔法师 一二卷&lt;/li&gt;
&lt;li&gt;笑傲股市&lt;/li&gt;
&lt;li&gt;以交易为生&lt;/li&gt;
&lt;li&gt;伟大的博弈&lt;/li&gt;
&lt;li&gt;戴维斯王朝&lt;/li&gt;
&lt;li&gt;k线入门 (大跌保命)&lt;/li&gt;
&lt;li&gt;macd入门 (同上)&lt;/li&gt;
&lt;li&gt;中央帝国的财政密码&lt;/li&gt;
&lt;li&gt;中央帝国的哲学密码&lt;/li&gt;
&lt;li&gt;全球通史 上下卷 (非股票类)&lt;/li&gt;
&lt;li&gt;万历十五年&lt;/li&gt;
&lt;/ol&gt;</content><category term="股票"></category><category term="书"></category><category term="股票"></category></entry><entry><title>python3 nltk chapter 1</title><link href="/posts/2018/11/10/python-nltk-chapter1.html" rel="alternate"></link><published>2018-11-10T18:17:07+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-11-10:/posts/2018/11/10/python-nltk-chapter1.html</id><summary type="html">&lt;h1&gt;语言处理与Python&lt;/h1&gt;
&lt;h3&gt;1.语言计算：文本和单词&lt;/h3&gt;
&lt;h5&gt;1.2 NLTK 入门&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.3 搜索文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;text1.concordance(&amp;quot;monstrous&amp;quot;)  # 搜索文本

text1.similar(&amp;quot;monstrous&amp;quot;)  # 查看相识上下文出现 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h1&gt;语言处理与Python&lt;/h1&gt;
&lt;h3&gt;1.语言计算：文本和单词&lt;/h3&gt;
&lt;h5&gt;1.2 NLTK 入门&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.3 搜索文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;text1.concordance(&amp;quot;monstrous&amp;quot;)  # 搜索文本

text1.similar(&amp;quot;monstrous&amp;quot;)  # 查看相识上下文出现的单词

text2.common_contexts([&amp;quot;monstrous&amp;quot;, &amp;quot;very&amp;quot;])  # 查找两个词的共同上下文

text4.dispersion_plot([&amp;quot;citizens&amp;quot;, &amp;quot;democracy&amp;quot;, &amp;quot;freedom&amp;quot;, &amp;quot;duties&amp;quot;, &amp;quot;America&amp;quot;])  # 词汇分布图

len(set(text3)) / len(text3)  # 文本词汇丰富度
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.3 布朗语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cg22&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;editorial&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;reviews&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.4 路透社语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;reuters&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;training/9880&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.5 就职演说语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;inaugural&lt;/span&gt;
&lt;span class="n"&gt;inaugural&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.6 标注文本语料库&lt;/h5&gt;
&lt;p&gt;http://nltk.org/data
http://nltk.org/howto&lt;/p&gt;
&lt;h5&gt;1.7 其他语言的语料库&lt;/h5&gt;
&lt;p&gt;nltk.corpus.udhr  # 超过300种语言的世界人权宣言&lt;/p&gt;
&lt;h5&gt;1.8 文本语料库的结构&lt;/h5&gt;
&lt;h6&gt;NLTK 中定义的基本语料库函数, 使用help(nltk.corpus.reader)可以找到更多的文档&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;示例&lt;/span&gt;&lt;span class="w"&gt;                       &lt;/span&gt;&lt;span class="n"&gt;描述&lt;/span&gt;&lt;span class="w"&gt;                          &lt;/span&gt;
&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="n"&gt;语料库中的文件&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;
&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;这些分类对应的语料库中的文件&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;               &lt;/span&gt;&lt;span class="n"&gt;语料库中的分类&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;
&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;这些文件对应的语料库中的分类&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                      &lt;/span&gt;&lt;span class="n"&gt;语料库的原始内容&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;f1,f2,f3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;指定文件的原始内容&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;c1,c2&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;指定分类的原始内容&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;整个语料库中的词汇&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;f1,f2,f3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定文件中的词汇&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;c1,c2&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定分类中的词汇&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;整个语料库中的句子&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;f1,f2,f3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定文件中的句子&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;c1,c2&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定分类中的句子&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;指定文件在磁盘上的位置&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;
&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;           &lt;/span&gt;&lt;span class="n"&gt;文件的编码&lt;/span&gt;&lt;span class="err"&gt;（&lt;/span&gt;&lt;span class="n"&gt;如果知道的话&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="k"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;               &lt;/span&gt;&lt;span class="n"&gt;打开指定语料库文件的文件流&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt;                       &lt;/span&gt;&lt;span class="n"&gt;本地安装的语料库根目录的路径&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;readme&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                   &lt;/span&gt;&lt;span class="n"&gt;语料库的README文件的内容&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.9 加载你自己的语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/usr/share/dict&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;C:\corpora\penntreebank\parsed\mrg\wsj&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;file_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.*/wsj_.*\.mrg&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2 条件频率分布&lt;/h3&gt;
&lt;h5&gt;2.1 条件和事件&lt;/h5&gt;
&lt;h5&gt;2.2 按文体计数词汇&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConditionalFreqDist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;genre&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;  &lt;span class="c1"&gt;# &amp;lt;ConditionalFreqDist with 2 conditions&amp;gt;&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# [&amp;#39;news&amp;#39;, &amp;#39;romance&amp;#39;]&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;FreqDist with 14394 samples and 100554 outcomes&amp;gt;&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;FreqDist&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="mi"&gt;8452&lt;/span&gt; &lt;span class="n"&gt;samples&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="mi"&gt;70022&lt;/span&gt; &lt;span class="n"&gt;outcomes&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;most_common&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;could&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# 193&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;2.3 绘制分布图和分布表&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cfd.tabulate(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
             samples=range(10), cumulative=True)

cfd.plot(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
         samples=range(10), cumulative=True)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;2.4 使用双连词生成随机文本&lt;/h5&gt;
&lt;p&gt;条件频率分布是一个对许多NLP 任务都有用的数据结构。2.1总结了它们常用的方法。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;示例&lt;/span&gt;&lt;span class="w"&gt;                                 &lt;/span&gt;&lt;span class="n"&gt;描述&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ConditionalFreqDist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pairs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;从配对列表中创建条件频率分布&lt;/span&gt;&lt;span class="w"&gt;                       &lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="n"&gt;条件&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;此条件下的频率分布&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;此条件下给定样本的频率&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tabulate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;为条件频率分布制表&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tabulate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;samples&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定样本和条件限制下制表&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="n"&gt;为条件频率分布绘图&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;samples&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;指定样本和条件限制下绘图&lt;/span&gt;
&lt;span class="n"&gt;cfdist1&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;cfdist2&lt;/span&gt;&lt;span class="w"&gt;                      &lt;/span&gt;&lt;span class="n"&gt;测试样本在cfdist1中出现次数是否小于在cfdist2中出现次数&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;3 更多关于Python：代码重用&lt;/h3&gt;
&lt;h3&gt;4 词汇资源&lt;/h3&gt;</content><category term="nltk"></category><category term="python"></category><category term="nltk"></category></entry><entry><title>生成函数调用关系图</title><link href="/posts/2018/10/31/gprof2dot.html" rel="alternate"></link><published>2018-10-31T13:57:01+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-10-31:/posts/2018/10/31/gprof2dot.html</id><summary type="html">&lt;h4&gt;用gprof生成函数调用关系图&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;CMakeLists.txt&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;SET(CMAKE_BUILD_TYPE &amp;quot;Debug&amp;quot;)
SET(CMAKE_C_FLAGS_DEBUG &amp;quot;$ENV{CXXFLAGS} -O0 -Wall -g2 -pg -ggdb&amp;quot;)  
SET(CMAKE_C_FLAGS_RELEASE &amp;quot;$ENV{CXXFLAGS} -O3 -Wall&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;或&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;gcc -pg -g source.c -o binary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;./binary&lt;/code&gt; 生成 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h4&gt;用gprof生成函数调用关系图&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;CMakeLists.txt&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;SET(CMAKE_BUILD_TYPE &amp;quot;Debug&amp;quot;)
SET(CMAKE_C_FLAGS_DEBUG &amp;quot;$ENV{CXXFLAGS} -O0 -Wall -g2 -pg -ggdb&amp;quot;)  
SET(CMAKE_C_FLAGS_RELEASE &amp;quot;$ENV{CXXFLAGS} -O3 -Wall&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;或&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;gcc -pg -g source.c -o binary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;./binary&lt;/code&gt; 生成 gmon.out&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gprof ./binary&amp;gt; gprof_output.txt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;graph2dot.py gprof_output.txt&amp;gt; call_graph.dot&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4&gt;valgrind 生成函数调用图 (推荐)&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;valgrind&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="k"&gt;tool&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;callgrind&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;
&lt;span class="err"&gt;执行完成后在目录下生成&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;callgrind.out.XXX&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;的文件这是分析文件&lt;/span&gt;
&lt;span class="n"&gt;gprof2dot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;callgrind&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;callgrind&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;XXX&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xxx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>python3 nltk chapter 2</title><link href="/posts/2018/10/25/python-nltk-chapter2.html" rel="alternate"></link><published>2018-10-25T22:03:03+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-10-25:/posts/2018/10/25/python-nltk-chapter2.html</id><summary type="html">&lt;h1&gt;获得文本语料和词汇资源&lt;/h1&gt;
&lt;h3&gt;1.获取文本语料库&lt;/h3&gt;
&lt;h5&gt;1.1 古腾堡语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;emma&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;emma&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concordance …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h1&gt;获得文本语料和词汇资源&lt;/h1&gt;
&lt;h3&gt;1.获取文本语料库&lt;/h3&gt;
&lt;h5&gt;1.1 古腾堡语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;emma&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;emma&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concordance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;surprize&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.2 网络和聊天文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webtext&lt;/span&gt;
&lt;span class="n"&gt;webtext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;nps_chat&lt;/span&gt;
&lt;span class="n"&gt;nps_chat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;postsi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;10-19-20s_706posts.xml&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.3 布朗语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cg22&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;editorial&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;reviews&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.4 路透社语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;reuters&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;training/9880&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.5 就职演说语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;inaugural&lt;/span&gt;
&lt;span class="n"&gt;inaugural&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.6 标注文本语料库&lt;/h5&gt;
&lt;p&gt;http://nltk.org/data
http://nltk.org/howto&lt;/p&gt;
&lt;h5&gt;1.7 其他语言的语料库&lt;/h5&gt;
&lt;p&gt;nltk.corpus.udhr  # 超过300种语言的世界人权宣言&lt;/p&gt;
&lt;h5&gt;1.8 文本语料库的结构&lt;/h5&gt;
&lt;h6&gt;NLTK 中定义的基本语料库函数, 使用help(nltk.corpus.reader)可以找到更多的文档&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;示例&lt;/span&gt;&lt;span class="w"&gt;                       &lt;/span&gt;&lt;span class="n"&gt;描述&lt;/span&gt;&lt;span class="w"&gt;                          &lt;/span&gt;
&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="n"&gt;语料库中的文件&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;
&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;这些分类对应的语料库中的文件&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;               &lt;/span&gt;&lt;span class="n"&gt;语料库中的分类&lt;/span&gt;&lt;span class="w"&gt;                &lt;/span&gt;
&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;这些文件对应的语料库中的分类&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                      &lt;/span&gt;&lt;span class="n"&gt;语料库的原始内容&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;f1,f2,f3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;指定文件的原始内容&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;c1,c2&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;指定分类的原始内容&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;整个语料库中的词汇&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;f1,f2,f3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定文件中的词汇&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;c1,c2&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定分类中的词汇&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;整个语料库中的句子&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;
&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;f1,f2,f3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定文件中的句子&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=[&lt;/span&gt;&lt;span class="n"&gt;c1,c2&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定分类中的句子&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;
&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;指定文件在磁盘上的位置&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;
&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;           &lt;/span&gt;&lt;span class="n"&gt;文件的编码&lt;/span&gt;&lt;span class="err"&gt;（&lt;/span&gt;&lt;span class="n"&gt;如果知道的话&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="k"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;               &lt;/span&gt;&lt;span class="n"&gt;打开指定语料库文件的文件流&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt;                       &lt;/span&gt;&lt;span class="n"&gt;本地安装的语料库根目录的路径&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;readme&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                   &lt;/span&gt;&lt;span class="n"&gt;语料库的README文件的内容&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.9 加载你自己的语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/usr/share/dict&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;C:\corpora\penntreebank\parsed\mrg\wsj&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;file_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.*/wsj_.*\.mrg&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2 条件频率分布&lt;/h3&gt;
&lt;h5&gt;2.1 条件和事件&lt;/h5&gt;
&lt;h5&gt;2.2 按文体计数词汇&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConditionalFreqDist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;genre&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;  &lt;span class="c1"&gt;# &amp;lt;ConditionalFreqDist with 2 conditions&amp;gt;&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# [&amp;#39;news&amp;#39;, &amp;#39;romance&amp;#39;]&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;FreqDist with 14394 samples and 100554 outcomes&amp;gt;&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;FreqDist&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="mi"&gt;8452&lt;/span&gt; &lt;span class="n"&gt;samples&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="mi"&gt;70022&lt;/span&gt; &lt;span class="n"&gt;outcomes&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;most_common&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;could&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# 193&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;2.3 绘制分布图和分布表&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cfd.tabulate(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
             samples=range(10), cumulative=True)

cfd.plot(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
         samples=range(10), cumulative=True)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;2.4 使用双连词生成随机文本&lt;/h5&gt;
&lt;p&gt;条件频率分布是一个对许多NLP 任务都有用的数据结构。2.1总结了它们常用的方法。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;示例&lt;/span&gt;&lt;span class="w"&gt;                                 &lt;/span&gt;&lt;span class="n"&gt;描述&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ConditionalFreqDist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pairs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;从配对列表中创建条件频率分布&lt;/span&gt;&lt;span class="w"&gt;                       &lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="n"&gt;条件&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;此条件下的频率分布&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="o"&gt;][&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;此条件下给定样本的频率&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tabulate&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="n"&gt;为条件频率分布制表&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tabulate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;samples&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;指定样本和条件限制下制表&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="n"&gt;为条件频率分布绘图&lt;/span&gt;
&lt;span class="n"&gt;cfdist&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;samples&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;指定样本和条件限制下绘图&lt;/span&gt;
&lt;span class="n"&gt;cfdist1&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;cfdist2&lt;/span&gt;&lt;span class="w"&gt;                      &lt;/span&gt;&lt;span class="n"&gt;测试样本在cfdist1中出现次数是否小于在cfdist2中出现次数&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;3 更多关于Python：代码重用&lt;/h3&gt;
&lt;h3&gt;4 词汇资源&lt;/h3&gt;</content><category term="nltk"></category><category term="python"></category><category term="nltk"></category></entry><entry><title>git如何永久删除文件</title><link href="/posts/2018/08/03/git-delete-file.html" rel="alternate"></link><published>2018-08-03T17:01:42+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-08-03:/posts/2018/08/03/git-delete-file.html</id><content type="html">&lt;p&gt;&lt;a href="/git/pdfs/git-delete-file.pdf"&gt;git如何永久删除文件.pdf&lt;/a&gt;&lt;/p&gt;</content><category term="git"></category><category term="git"></category></entry><entry><title>websocketd</title><link href="/posts/2018/05/22/websocketd.html" rel="alternate"></link><published>2018-05-22T19:43:51+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-05-22:/posts/2018/05/22/websocketd.html</id><content type="html">&lt;p&gt;websocketd是一个简单的websocket代理服务。标准输入（stdin）就是 WebSocket 的输入，标准输出（stdout）就是 WebSocket 的输出。&lt;/p&gt;</content><category term="web"></category><category term="web"></category><category term="command"></category></entry><entry><title>shellinabox</title><link href="/posts/2018/05/22/shellinabox.html" rel="alternate"></link><published>2018-05-22T19:37:34+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-05-22:/posts/2018/05/22/shellinabox.html</id><summary type="html">&lt;p&gt;shellinabox 能够通过Web浏览器模拟一个远程系统的Shell. 它和SSH没有任何关系.&lt;/p&gt;
&lt;p&gt;shellinaboxd -t  (开启一个login shell)&lt;/p&gt;
&lt;p&gt;shellinaboxd -t -s '/:root:root:/:/bin/bash' --port=8080  (不需要输入 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;shellinabox 能够通过Web浏览器模拟一个远程系统的Shell. 它和SSH没有任何关系.&lt;/p&gt;
&lt;p&gt;shellinaboxd -t  (开启一个login shell)&lt;/p&gt;
&lt;p&gt;shellinaboxd -t -s '/:root:root:/:/bin/bash' --port=8080  (不需要输入密码,直接登陆)&lt;/p&gt;</content><category term="linux"></category><category term="shell"></category><category term="terminal"></category><category term="web"></category><category term="linux"></category></entry><entry><title>日历并不是连续的</title><link href="/posts/2018/04/30/cal-9-1752.html" rel="alternate"></link><published>2018-04-30T13:27:17+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-04-30:/posts/2018/04/30/cal-9-1752.html</id><content type="html">&lt;p&gt;一个小知识, 日历并不是连续的&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;zhiliao&lt;/span&gt;&lt;span class="nv"&gt;@zhiliao&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;~&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cal&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1752&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;九月&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1752&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;
&lt;span class="n"&gt;日&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;一&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;二&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;三&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;四&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;五&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;六&lt;/span&gt;
&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;
&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;22&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;23&lt;/span&gt;
&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;29&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="other"></category><category term="other"></category></entry><entry><title>linux 使用network manager 开启wifi热点</title><link href="/posts/2018/04/13/networkmanager-wifi-ap.html" rel="alternate"></link><published>2018-04-13T19:42:58+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-04-13:/posts/2018/04/13/networkmanager-wifi-ap.html</id><summary type="html">&lt;p&gt;linux 使用network manager 开启wifi热点&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;开启热点
&lt;span class="nv"&gt;nmcli&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;device&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;wifi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;hotspot&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;ssid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;12345678&lt;/span&gt;
或者
&lt;span class="nv"&gt;nmcli&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;device&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;wifi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;hotspot&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;con&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="nv"&gt;G&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ssid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="nv"&gt;G&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;band&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;12345678&lt;/span&gt;

删除热点配置 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;linux 使用network manager 开启wifi热点&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;开启热点
&lt;span class="nv"&gt;nmcli&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;device&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;wifi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;hotspot&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;ssid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;12345678&lt;/span&gt;
或者
&lt;span class="nv"&gt;nmcli&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;device&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;wifi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;hotspot&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;con&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="nv"&gt;G&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;ssid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="nv"&gt;G&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;band&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;password&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;12345678&lt;/span&gt;

删除热点配置
&lt;span class="nv"&gt;nmcli&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;connection&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;show&lt;/span&gt;
&lt;span class="nv"&gt;nmcli&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;connection&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;delete&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;zhiliao&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="nv"&gt;G&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="wireless"></category><category term="linux"></category></entry><entry><title>通过浏览器下载 google play app 的方法</title><link href="/posts/2018/01/03/google-play-app.html" rel="alternate"></link><published>2018-01-03T10:39:56+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-01-03:/posts/2018/01/03/google-play-app.html</id><content type="html">&lt;h4&gt;通过网站&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;https://apkpure.com/cn
https://www.apkmirror.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;通过firefox扩展&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;APK&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Downloader&lt;/span&gt;
&lt;span class="n"&gt;Toolbox&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Google&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Play&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Store&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="android"></category><category term="android"></category></entry><entry><title>记录一下我在Android上常用的APP</title><link href="/posts/2018/01/03/android-app.html" rel="alternate"></link><published>2018-01-03T10:20:33+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-01-03:/posts/2018/01/03/android-app.html</id><summary type="html">&lt;p&gt;一个常用软件列表&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Adobe Acrobat
AirDroid
Chrome
JuiceSSH
Pocket
QQ
Shadowsocks
Solid Explorer
Trello
Yandex Browser
mpv
京东
京东金融
哔哩哔哩
微信x2
支付宝
滴答清单
网易云音乐
网易有 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;一个常用软件列表&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Adobe Acrobat
AirDroid
Chrome
JuiceSSH
Pocket
QQ
Shadowsocks
Solid Explorer
Trello
Yandex Browser
mpv
京东
京东金融
哔哩哔哩
微信x2
支付宝
滴答清单
网易云音乐
网易有道词典
高德地图
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;一个不太常用软件列表&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Cortana
ES文件浏览器
Microsoft Remote Desktop
QQ邮箱
TeamViewer
WPS Office
X浏览器
双开助手多开分身
密罐
悟空遥控器
扫描全能王
招商银行
掌阅
有道云笔记
百词斩
简书
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;未完待续...&lt;/h4&gt;</content><category term="android"></category><category term="software"></category></entry><entry><title>在浏览器中显示gtk+应用</title><link href="/posts/2017/12/29/gtk-broadway.html" rel="alternate"></link><published>2017-12-29T18:14:49+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-29:/posts/2017/12/29/gtk-broadway.html</id><summary type="html">&lt;h3&gt;在浏览器中显示gtk+应用&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;GDK_BACKEND&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;broadway&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;BROADWAY_DISPLAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;:5&lt;span class="w"&gt; &lt;/span&gt;gtk3-demo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;BROADWAY_DISPLAY是可选的, 默认是0&lt;/p&gt;
&lt;p&gt;port = 8080 + display&lt;/p&gt;
&lt;p&gt;所以在浏览器中的访问地址是 &lt;code&gt;http://127.0.0.1:8085&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;参 …&lt;/h4&gt;</summary><content type="html">&lt;h3&gt;在浏览器中显示gtk+应用&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;GDK_BACKEND&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;broadway&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;BROADWAY_DISPLAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;:5&lt;span class="w"&gt; &lt;/span&gt;gtk3-demo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;BROADWAY_DISPLAY是可选的, 默认是0&lt;/p&gt;
&lt;p&gt;port = 8080 + display&lt;/p&gt;
&lt;p&gt;所以在浏览器中的访问地址是 &lt;code&gt;http://127.0.0.1:8085&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;参考连接&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developer.gnome.org/gtk3/stable/gtk-broadway.html"&gt;https://developer.gnome.org/gtk3/stable/gtk-broadway.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.gnome.org/gtk3/unstable/gtk-building.html"&gt;https://developer.gnome.org/gtk3/unstable/gtk-building.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.gnome.org/alexl/2011/03/15/gtk-html-backend-update"&gt;https://blogs.gnome.org/alexl/2011/03/15/gtk-html-backend-update&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.gnome.org/alexl/2011/04/18/broadway-update-3/"&gt;https://blogs.gnome.org/alexl/2011/04/18/broadway-update-3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/symbiose/symbiose/wiki/Broadway"&gt;https://github.com/symbiose/symbiose/wiki/Broadway&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.tarnyko.net/en/?q=node/8"&gt;Tutorial : using GTK+3 "Broadway" on Windows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="linux"></category><category term="linux"></category><category term="gtk+"></category><category term="gnome"></category></entry><entry><title>SysRq</title><link href="/posts/2017/12/29/linux-sysrq.html" rel="alternate"></link><published>2017-12-29T14:20:16+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-29:/posts/2017/12/29/linux-sysrq.html</id><summary type="html">&lt;h2&gt;SysRq HELP&lt;/h2&gt;
&lt;h5&gt;开启这个功能&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/proc/sys/kernel/sysrq&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 或者在 /etc/sysctl.conf 中设置 kernel.sysrq=1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;用法1:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;b&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/proc/sysrq-trigger
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;用法2:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Alt&lt;span class="w"&gt; &lt;/span&gt;+&lt;span class="w"&gt; &lt;/span&gt;SysRq&lt;span class="w"&gt; &lt;/span&gt;+&lt;span class="w"&gt; &lt;/span&gt;b&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# SysRq 键在x86上一般为 [print screen] 键 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;SysRq HELP&lt;/h2&gt;
&lt;h5&gt;开启这个功能&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/proc/sys/kernel/sysrq&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 或者在 /etc/sysctl.conf 中设置 kernel.sysrq=1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;用法1:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;b&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/proc/sysrq-trigger
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;用法2:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Alt&lt;span class="w"&gt; &lt;/span&gt;+&lt;span class="w"&gt; &lt;/span&gt;SysRq&lt;span class="w"&gt; &lt;/span&gt;+&lt;span class="w"&gt; &lt;/span&gt;b&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# SysRq 键在x86上一般为 [print screen] 键&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;命令介绍&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;loglevel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mh"&gt;0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mh"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reboot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;crash&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;terminate&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;full&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;oom&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;kill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;kill&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;thaw&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;filesystems&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;backtrace&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;active&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cpus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;usage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nice&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;RT&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;poweroff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;registers&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;timers&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;unraw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sync&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;task&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;states&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;unmount&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;force&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fb&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;V&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;blocked&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;dump&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ftrace&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>daemonize</title><link href="/posts/2017/12/11/daemonize.html" rel="alternate"></link><published>2017-12-11T16:43:49+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-11:/posts/2017/12/11/daemonize.html</id><summary type="html">&lt;p&gt;daemonize 能够把命令作为守护进程 (daemon) 运行.
并且支持自动创建pid文件, 自动创建/检查文件锁.&lt;/p&gt;
&lt;p&gt;顺便记录一下几个相关命令, &lt;code&gt;daemonize, nohup, setsid …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;daemonize 能够把命令作为守护进程 (daemon) 运行.
并且支持自动创建pid文件, 自动创建/检查文件锁.&lt;/p&gt;
&lt;p&gt;顺便记录一下几个相关命令, &lt;code&gt;daemonize, nohup, setsid, &amp;amp;, disown&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如何用bash实现daemon
http://blog.n01se.net/blog-n01se-net-p-145.html&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="bash"></category></entry><entry><title>git hooks post-receive 中 git pull 失败</title><link href="/posts/2017/12/11/git-hooks-post-receive.html" rel="alternate"></link><published>2017-12-11T15:35:51+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-11:/posts/2017/12/11/git-hooks-post-receive.html</id><content type="html">&lt;p&gt;git 在运行时会用 $GIT_DIR 这个环境变量&lt;/p&gt;
&lt;p&gt;解决方法是在hooks脚本里面加上 &lt;code&gt;unset $(git rev-parse --local-env-vars)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或者使用 env -i git pull&lt;/p&gt;</content><category term="git"></category><category term="git"></category></entry><entry><title>cpio</title><link href="/posts/2017/08/20/linux-cpio.html" rel="alternate"></link><published>2017-08-20T12:31:36+08:00</published><updated>2023-07-30T22:37:29+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-08-20:/posts/2017/08/20/linux-cpio.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;建立 cpio文件 &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find&lt;span class="w"&gt; &lt;/span&gt;./files&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cpio&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;-H&lt;span class="w"&gt; &lt;/span&gt;newc&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;filename.cpio

&lt;span class="c1"&gt;# -H 指定归档格式，也支持crc （crc的含义是带校验版本的newc, 打包时候自动保存校验码,解包时 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;建立 cpio文件 &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find&lt;span class="w"&gt; &lt;/span&gt;./files&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cpio&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;-H&lt;span class="w"&gt; &lt;/span&gt;newc&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;filename.cpio

&lt;span class="c1"&gt;# -H 指定归档格式，也支持crc （crc的含义是带校验版本的newc, 打包时候自动保存校验码,解包时候自动校验）&lt;/span&gt;
&lt;span class="c1"&gt;# 默认归档格式是binrary, 已经过时，因为无法跨平台。&lt;/span&gt;
&lt;span class="c1"&gt;# -o 意思是创建归档&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;解开cpio文件&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;dir1
cpio&lt;span class="w"&gt; &lt;/span&gt;-ivd&lt;span class="w"&gt;  &lt;/span&gt;&amp;lt;&lt;span class="w"&gt; &lt;/span&gt;filename.cpio&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="c1"&gt;# -d, --make-directories  在需要的地方创建目录.&lt;/span&gt;
&lt;span class="c1"&gt;# -i, --extract 解开归档&lt;/span&gt;
&lt;span class="c1"&gt;# -m, --preserve-modification-time 创建文件时, 保留以前的文件修改时间.&lt;/span&gt;
&lt;span class="c1"&gt;# -v, --verbose&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;查看cpio文件中的内容&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cpio&lt;span class="w"&gt; &lt;/span&gt;-ivt&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&lt;span class="w"&gt; &lt;/span&gt;filename.cpio
&lt;span class="c1"&gt;# -t, --list 显示归档包内容.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;* 如果find显示文件路径是绝对的， 那么解压后可能会覆盖已有文件。 最好使用相对路径压缩。&lt;/code&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>dd / 复制 文件显示进度</title><link href="/posts/2017/08/13/dd-status.html" rel="alternate"></link><published>2017-08-13T22:00:20+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-08-13:/posts/2017/08/13/dd-status.html</id><content type="html">&lt;h4&gt;dd&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;dd 使用参数 &lt;code&gt;status=progress&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;killall / pkill -USR1 dd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;使用pv命令. &lt;code&gt;pv src &amp;gt; dest&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;复制文件&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;rsync -a --progress src dest&lt;/li&gt;
&lt;li&gt;scp -v #在不同机器上拷贝显示进度条&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>linux开启键盘灯的方法</title><link href="/posts/2017/06/24/linux-keyboard-led.html" rel="alternate"></link><published>2017-06-24T00:13:44+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-24:/posts/2017/06/24/linux-keyboard-led.html</id><summary type="html">&lt;p&gt;现在许多背光键盘的背光灯是通过 Scroll 这个键控制的. 
在windows下这没啥问题, 一按 scroll 这个键 ,背光灯就亮了,再按,就灭了.
但是, 在 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;现在许多背光键盘的背光灯是通过 Scroll 这个键控制的. 
在windows下这没啥问题, 一按 scroll 这个键 ,背光灯就亮了,再按,就灭了.
但是, 在Linux下, 按这个键 scroll 没反应.
所以记录一下linux开启键盘灯的方法&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# X 中开启键盘灯
xset led on

# X 中关闭键盘灯
xset led off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="keyboard"></category><category term="command"></category></entry><entry><title>记录一些 firefox 附加组件</title><link href="/posts/2017/06/23/firefox-addons.html" rel="alternate"></link><published>2017-06-23T18:22:59+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-23:/posts/2017/06/23/firefox-addons.html</id><summary type="html">&lt;h3&gt;记录一些 firefox 附加组件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Adblock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;plus&lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Stylish&lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;iMacros&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Firefox&lt;/span&gt;
&lt;span class="nv"&gt;Awesome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Screenshot&lt;/span&gt;
&lt;span class="nv"&gt;DownThemAll&lt;/span&gt;
&lt;span class="nv"&gt;EPUBReader&lt;/span&gt;
&lt;span class="nv"&gt;FoxyProxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Standard&lt;/span&gt;
&lt;span class="nv"&gt;Ghostery&lt;/span&gt;
&lt;span class="nv"&gt;Greasemonkey&lt;/span&gt;
&lt;span class="nv"&gt;LastPass&lt;/span&gt;
&lt;span class="nv"&gt;MarkDown&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Here&lt;/span&gt;
&lt;span class="nv"&gt;PDF&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Mage&lt;/span&gt;
&lt;span class="nv"&gt;QR&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Generator&lt;/span&gt;
&lt;span class="nv"&gt;SimilarWeb&lt;/span&gt;
&lt;span class="nv"&gt;Tree&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Style&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Tab&lt;/span&gt;
&lt;span class="nv"&gt;User&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;Agent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Switcher&lt;/span&gt;
&lt;span class="nv"&gt;uBlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Origin&lt;/span&gt;
新同文堂
百度广告屏蔽 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h3&gt;记录一些 firefox 附加组件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Adblock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;plus&lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Stylish&lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;iMacros&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Firefox&lt;/span&gt;
&lt;span class="nv"&gt;Awesome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Screenshot&lt;/span&gt;
&lt;span class="nv"&gt;DownThemAll&lt;/span&gt;
&lt;span class="nv"&gt;EPUBReader&lt;/span&gt;
&lt;span class="nv"&gt;FoxyProxy&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Standard&lt;/span&gt;
&lt;span class="nv"&gt;Ghostery&lt;/span&gt;
&lt;span class="nv"&gt;Greasemonkey&lt;/span&gt;
&lt;span class="nv"&gt;LastPass&lt;/span&gt;
&lt;span class="nv"&gt;MarkDown&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Here&lt;/span&gt;
&lt;span class="nv"&gt;PDF&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Mage&lt;/span&gt;
&lt;span class="nv"&gt;QR&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Generator&lt;/span&gt;
&lt;span class="nv"&gt;SimilarWeb&lt;/span&gt;
&lt;span class="nv"&gt;Tree&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Style&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Tab&lt;/span&gt;
&lt;span class="nv"&gt;User&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;Agent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Switcher&lt;/span&gt;
&lt;span class="nv"&gt;uBlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Origin&lt;/span&gt;
新同文堂
百度广告屏蔽
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;下面是一些 userscripts&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;Crack&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Url&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;Wait&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Code&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;Login&lt;/span&gt;
&lt;span class="nv"&gt;My163MusicHelper&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;下面是一些 Stylish userstyles (https://userstyles.org)&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Baidu&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;NieR&lt;/span&gt;
&lt;span class="n"&gt;NieR&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;Google&lt;/span&gt;
&lt;span class="n"&gt;Taobao&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;XX&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="firefox"></category><category term="firefox"></category><category term="software"></category></entry><entry><title>记录一下我常装的 Arch Linux package</title><link href="/posts/2017/06/16/archlinux-package.html" rel="alternate"></link><published>2017-06-16T16:52:14+08:00</published><updated>2023-08-15T00:21:50+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-16:/posts/2017/06/16/archlinux-package.html</id><summary type="html">&lt;p&gt;Gnome主题 
1. numix (gnome)
2. discreet flat (cinnamon)
3. Orchis-dark-compact (gnome)
4. ePapirus 图标&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# dmidecode&lt;/span&gt;
&lt;span class="c1"&gt;# onboard  # 屏幕键盘 &lt;/span&gt;
&lt;span class="c1"&gt;# yay&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;notes&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pulseaudio&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;screenshooter&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sensors&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;terminal&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;weather&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Gnome主题 
1. numix (gnome)
2. discreet flat (cinnamon)
3. Orchis-dark-compact (gnome)
4. ePapirus 图标&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# dmidecode&lt;/span&gt;
&lt;span class="c1"&gt;# onboard  # 屏幕键盘 &lt;/span&gt;
&lt;span class="c1"&gt;# yay&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;notes&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pulseaudio&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;screenshooter&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sensors&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;terminal&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;weather&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;whiskermenu&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;plugin&lt;/span&gt;
&lt;span class="n"&gt;alsa&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;
&lt;span class="n"&gt;avahi&lt;/span&gt;
&lt;span class="n"&gt;base&lt;/span&gt;
&lt;span class="n"&gt;base&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;devel&lt;/span&gt;
&lt;span class="n"&gt;bash&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;completion&lt;/span&gt;
&lt;span class="n"&gt;calibre&lt;/span&gt;
&lt;span class="n"&gt;cinnamon&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xfce4&lt;/span&gt;
&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# (vscode)&lt;/span&gt;
&lt;span class="n"&gt;dconf&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;editor&lt;/span&gt;
&lt;span class="n"&gt;deepin&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;screenshot&lt;/span&gt;
&lt;span class="n"&gt;deepin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;qq&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;aur&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;devhelp&lt;/span&gt;
&lt;span class="n"&gt;dnsmasq&lt;/span&gt;
&lt;span class="n"&gt;dosfstools&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mtools&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# for fat32&lt;/span&gt;
&lt;span class="n"&gt;electron&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;netease&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cloud&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;music&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# (archlinuxcn)&lt;/span&gt;
&lt;span class="n"&gt;electronic&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wechat&lt;/span&gt;
&lt;span class="n"&gt;eog&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;gthumb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;evince&lt;/span&gt;
&lt;span class="n"&gt;fcitx&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;configtool&lt;/span&gt;
&lt;span class="n"&gt;fcitx&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt;
&lt;span class="n"&gt;fcitx&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libpinyin&lt;/span&gt;
&lt;span class="n"&gt;feedreader&lt;/span&gt;
&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;roller&lt;/span&gt;
&lt;span class="n"&gt;filezilla&lt;/span&gt;
&lt;span class="n"&gt;firefox&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;firefox&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i18n&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;zh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cn&lt;/span&gt;
&lt;span class="n"&gt;firejail&lt;/span&gt;
&lt;span class="n"&gt;fish&lt;/span&gt;
&lt;span class="n"&gt;flameshot&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 赞&lt;/span&gt;
&lt;span class="n"&gt;flashplugin&lt;/span&gt;
&lt;span class="n"&gt;fontconfig&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;infinality&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# (aur) 美化字体 &lt;/span&gt;
&lt;span class="n"&gt;gedit&lt;/span&gt;
&lt;span class="n"&gt;git&lt;/span&gt;
&lt;span class="n"&gt;gnome&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;terminal&lt;/span&gt;
&lt;span class="n"&gt;gnome&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;share&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# (共享文件, 支持局域网的windows与linux)&lt;/span&gt;
&lt;span class="n"&gt;gnote&lt;/span&gt;
&lt;span class="n"&gt;google&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;chrome&lt;/span&gt;
&lt;span class="n"&gt;gparted&lt;/span&gt;
&lt;span class="n"&gt;guake&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 下拉式终端 &lt;/span&gt;
&lt;span class="n"&gt;gvfs&lt;/span&gt;
&lt;span class="n"&gt;gvfs&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;mtp&lt;/span&gt;
&lt;span class="n"&gt;gvfs&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;smb&lt;/span&gt;
&lt;span class="n"&gt;htop&lt;/span&gt;
&lt;span class="n"&gt;kde&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;
&lt;span class="n"&gt;lftp&lt;/span&gt;
&lt;span class="n"&gt;libreoffice&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;still&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;zh&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;CN&lt;/span&gt;
&lt;span class="n"&gt;lightdm&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lightdm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;greeter&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# or lxdm&lt;/span&gt;
&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lts&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;zen&lt;/span&gt;
&lt;span class="n"&gt;mdadm&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lvm2&lt;/span&gt;
&lt;span class="n"&gt;minicom&lt;/span&gt;
&lt;span class="n"&gt;moc&lt;/span&gt;
&lt;span class="n"&gt;mosh&lt;/span&gt;
&lt;span class="n"&gt;mpv&lt;/span&gt;
&lt;span class="n"&gt;nautilus&lt;/span&gt;
&lt;span class="n"&gt;nautilus&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;terminal&lt;/span&gt;
&lt;span class="n"&gt;nautilus&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;share&lt;/span&gt;
&lt;span class="n"&gt;neofetch&lt;/span&gt;
&lt;span class="n"&gt;network&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;applet&lt;/span&gt;
&lt;span class="n"&gt;networkmanager&lt;/span&gt;
&lt;span class="n"&gt;ntfs&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;
&lt;span class="n"&gt;numix&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;circle&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;icon&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;theme&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;git&lt;/span&gt;
&lt;span class="n"&gt;numix&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;theme&lt;/span&gt;
&lt;span class="n"&gt;openssh&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;prober&lt;/span&gt;
&lt;span class="n"&gt;p7zip&lt;/span&gt;
&lt;span class="n"&gt;papirus&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;icon&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;theme&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 赞&lt;/span&gt;
&lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lftp&lt;/span&gt;
&lt;span class="n"&gt;pepper&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;flash&lt;/span&gt;
&lt;span class="n"&gt;pkgfile&lt;/span&gt;
&lt;span class="n"&gt;poppler&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;
&lt;span class="n"&gt;pulseaudio&lt;/span&gt;
&lt;span class="n"&gt;pycharm&lt;/span&gt;
&lt;span class="n"&gt;qbittorrent&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nox&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 远程下载&lt;/span&gt;
&lt;span class="n"&gt;qt5&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;doc&lt;/span&gt;
&lt;span class="n"&gt;qtcreator&lt;/span&gt;
&lt;span class="n"&gt;remmina&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ow"&gt;or&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vinagre&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#  remote desktop client written in GTK+  # vnc  &lt;/span&gt;
&lt;span class="n"&gt;rhythmbox&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;osdlyrics&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# music player &lt;/span&gt;
&lt;span class="n"&gt;scrcpy&lt;/span&gt;
&lt;span class="n"&gt;sdcv&lt;/span&gt;
&lt;span class="n"&gt;shadowsocks&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libev&lt;/span&gt;
&lt;span class="n"&gt;slock&lt;/span&gt;
&lt;span class="n"&gt;smplayer&lt;/span&gt;
&lt;span class="n"&gt;sshpass&lt;/span&gt;
&lt;span class="n"&gt;strace&lt;/span&gt;
&lt;span class="n"&gt;sushi&lt;/span&gt;
&lt;span class="n"&gt;sushi&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# A quick previewer for Nautilus&lt;/span&gt;
&lt;span class="n"&gt;thunderbird&lt;/span&gt;
&lt;span class="n"&gt;tmux&lt;/span&gt;
&lt;span class="n"&gt;transmission&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gtk&lt;/span&gt;
&lt;span class="n"&gt;tsocks&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxychains替代工具&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ttf&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wps&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;fonts&lt;/span&gt;
&lt;span class="n"&gt;uget2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;aria2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;axel&lt;/span&gt;
&lt;span class="n"&gt;unrar&lt;/span&gt;
&lt;span class="n"&gt;v2raya&lt;/span&gt;
&lt;span class="n"&gt;vim&lt;/span&gt;
&lt;span class="n"&gt;virtualbox&lt;/span&gt;
&lt;span class="n"&gt;visual&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;studio&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;
&lt;span class="n"&gt;wine&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wechat&lt;/span&gt;
&lt;span class="n"&gt;wireshark&lt;/span&gt;
&lt;span class="n"&gt;wqy&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;microhei&lt;/span&gt;
&lt;span class="n"&gt;xfsprogs&lt;/span&gt;
&lt;span class="n"&gt;xorg&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;drivers&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xf86&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;synaptics&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xf86&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;intel&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;xf86&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;video&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vesa&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;xorg&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;
&lt;span class="n"&gt;xorg&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;xinit&lt;/span&gt;
&lt;span class="n"&gt;xorg&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;xkill&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;yay&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# (yaourt 代替品)&lt;/span&gt;
&lt;span class="n"&gt;ydcv&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# or sdcv&lt;/span&gt;
&lt;span class="n"&gt;zip&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unzip&lt;/span&gt;
&lt;span class="n"&gt;zsh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# +oh-my-zsh&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ffmpeg
gimp
gnome-subtitles  # 字幕编辑
inkscape  # svg 编辑
shotcut  # 视频剪辑
simplescreenrecorder  # 录屏
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# flatpak 软件
com.anydesk.Anydesk
com.belmoussaoui.ReadItLater
com.calibre_ebook.calibre
com.github.alainm23.planner
com.github.artemanufrij.playmyvideos
com.github.babluboy.bookworm
com.github.calo001.fondo
com.github.iwalton3.jellyfin-media-player
com.github.iwalton3.jellyfin-mpv-shim
com.github.johnfactotum.Foliate
com.github.marktext.marktext
com.giuspen.cherrytree
com.jetbrains.PyCharm-Community
com.jgraph.drawio.desktop
com.netease.CloudMusic
com.qq.QQmusic
com.sublimetext.three
com.todoist.Todoist
com.valvesoftware.Steam
com.visualstudio.code
com.wps.Office
com.xnview.XnViewMP
com.xunlei.Thunder
io.mpv.Mpv
io.typora.Typora
md.obsidian.Obsidian
media.emby.EmbyServer
net.cozic.joplin_desktop
nl.hjdskes.gcolor3
org.gnome.Builder
org.inkscape.Inkscape
org.jamovi.jamovi
org.kde.krita
org.telegram.desktop
org.videolan.VLC
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Gnome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;扩展&lt;/span&gt;
&lt;span class="n"&gt;Applications&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;menu&lt;/span&gt;
&lt;span class="n"&gt;Gsconnect&lt;/span&gt;
&lt;span class="n"&gt;Gtk&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;
&lt;span class="n"&gt;Launch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;
&lt;span class="n"&gt;Netspeed&lt;/span&gt;
&lt;span class="n"&gt;Openweather&lt;/span&gt;
&lt;span class="n"&gt;Places&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;indicator&lt;/span&gt;
&lt;span class="n"&gt;Refresh&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;wifi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;connections&lt;/span&gt;
&lt;span class="n"&gt;Topicons&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;plus&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# Gnome44 上运行有bug&lt;/span&gt;
&lt;span class="n"&gt;tray&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;icons&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;reloaded&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 支持Gnome44&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;开发工具
cppreference-doc-devhelp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# 其他
linux QQ
Pidgin
Orchis gtk theme (https://www.gnome-look.org/p/1357889, https://github.com/vinceliuice/Orchis-theme)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;未完待续...&lt;/p&gt;
&lt;p&gt;本文不定期更新&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="software"></category><category term="arch"></category></entry><entry><title>遇到的一个python的坑</title><link href="/posts/2017/06/14/python.html" rel="alternate"></link><published>2017-06-14T16:23:03+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-14:/posts/2017/06/14/python.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;:::python
def fun(arg=[]):
    arg.append(&amp;#39;A&amp;#39;)
    print(arg)


fun()
# [&amp;#39;A&amp;#39;]

fun()
# [&amp;#39;A&amp;#39;, &amp;#39;A&amp;#39;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;第二个&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;:::python
a = [1, 3, 4]

b = {&amp;quot;a&amp;quot;: 7}

a += b

a
&amp;gt;&amp;gt;&amp;gt; [1, 3, 4, &amp;#39;a&amp;#39;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="python"></category><category term="python"></category></entry><entry><title>linux设置文件只读, 直到关机</title><link href="/posts/2017/06/14/set-file-readonly-until-reboot.html" rel="alternate"></link><published>2017-06-14T09:58:28+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-14:/posts/2017/06/14/set-file-readonly-until-reboot.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;:::bash
mount -o bind $file $file
mount -o remount,bind,ro $file
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="bash"></category><category term="command"></category></entry><entry><title>记录一下我在windows平台常用的软件</title><link href="/posts/2017/06/07/windows-software.html" rel="alternate"></link><published>2017-06-07T22:45:00+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/windows-software.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ADSafe
Adobe Acrobat Reader DC
LibreOffice
SMPlayer
SumatraPDF
UltraISO
VLC
VMware Workstation
Visual Studio Code
VitrualBox
Xshell
bootice
chrome
firefox
foobar2000
gimp
git-bash
google拼音输入法
grub4dos
haozip
listary
putty
swish
分区助手
有道词典
网易云音乐
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;未完待 …&lt;/h4&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ADSafe
Adobe Acrobat Reader DC
LibreOffice
SMPlayer
SumatraPDF
UltraISO
VLC
VMware Workstation
Visual Studio Code
VitrualBox
Xshell
bootice
chrome
firefox
foobar2000
gimp
git-bash
google拼音输入法
grub4dos
haozip
listary
putty
swish
分区助手
有道词典
网易云音乐
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;未完待续...&lt;/h4&gt;</content><category term="windows"></category><category term="windows"></category><category term="software"></category></entry><entry><title>bash的字符串模板</title><link href="/posts/2017/06/07/bash-string-template.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-08-12T16:25:06+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/bash-string-template.html</id><summary type="html">&lt;p&gt;在一个项目中，我想用一个配置模板文件自动生成配置文件，即为从&lt;code&gt;nginx.conf.template&lt;/code&gt; 自动生成一个特定的&lt;code&gt;nginx.conf&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如果使用bash来填充 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;在一个项目中，我想用一个配置模板文件自动生成配置文件，即为从&lt;code&gt;nginx.conf.template&lt;/code&gt; 自动生成一个特定的&lt;code&gt;nginx.conf&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如果使用bash来填充展开模板，则需要eval，或者source之类的操作，因为bash不支持对字符串（当作数据读取的文件中的字符串，而不是shell脚本中字符串）的变量替换。&lt;/p&gt;
&lt;p&gt;解决方案是用 &lt;code&gt;envsubst&lt;/code&gt;。 这个命令支持使用环境变量展开字符串模板。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;#一般用法&lt;/span&gt;
envsubst&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&lt;span class="w"&gt; &lt;/span&gt;nginx.conf.template&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;nanjing.conf

&lt;span class="c1"&gt;#指定特定待替换的环境变量&lt;/span&gt;
envsubst&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;${VAR_NAME}&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&lt;span class="w"&gt; &lt;/span&gt;nginx.conf.template&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;nanjing.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="bash"></category></entry><entry><title>磁盘分区，文件系统有关的命令</title><link href="/posts/2017/06/07/filesystem.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/filesystem.html</id><content type="html">&lt;p&gt;partx -a # 通知内核重新读取硬盘分区表&lt;/p&gt;
&lt;p&gt;partprobe # 同上，告诉内核分区表改变了&lt;/p&gt;
&lt;p&gt;mkfs.btrfs -m dup /dev/sda1&lt;/p&gt;</content><category term="filesystem"></category><category term="filesystem"></category></entry><entry><title>iperf3测试带宽</title><link href="/posts/2017/06/07/iperf3.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/iperf3.html</id><summary type="html">&lt;h1&gt;TCP&lt;/h1&gt;
&lt;p&gt;服务端&lt;code&gt;iperf3 -s -p 12345&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;客户端测试上传到服务器&lt;code&gt;iperf3 -c server_host -p 12345&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;客户端测试从服务器下载&lt;code&gt;iperf3 -c server_host -p 12345 -R&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;UDP&lt;/h1&gt;
&lt;p&gt;客户端添加 -u …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;TCP&lt;/h1&gt;
&lt;p&gt;服务端&lt;code&gt;iperf3 -s -p 12345&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;客户端测试上传到服务器&lt;code&gt;iperf3 -c server_host -p 12345&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;客户端测试从服务器下载&lt;code&gt;iperf3 -c server_host -p 12345 -R&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;UDP&lt;/h1&gt;
&lt;p&gt;客户端添加 -u 参数即可&lt;/p&gt;
&lt;h1&gt;传输多个流测试(必加参数)&lt;/h1&gt;
&lt;p&gt;加上参数 -P 10 (10个流同步测试)&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>mysql 中修改root密码</title><link href="/posts/2017/06/07/mysql-password.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/mysql-password.html</id><summary type="html">&lt;p&gt;整理了以下四种在MySQL中修改root密码的方法,可能对大家有所帮助!&lt;/p&gt;
&lt;h4&gt;方法1： 用SET PASSWORD命令&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;　　&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;root&lt;/span&gt;
&lt;span class="w"&gt;　　&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;SET&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PASSWORD&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FOR&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PASSWORD&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;newpass&amp;#39;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;方法2：用 …&lt;/h4&gt;</summary><content type="html">&lt;p&gt;整理了以下四种在MySQL中修改root密码的方法,可能对大家有所帮助!&lt;/p&gt;
&lt;h4&gt;方法1： 用SET PASSWORD命令&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;　　&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;root&lt;/span&gt;
&lt;span class="w"&gt;　　&lt;/span&gt;&lt;span class="nv"&gt;mysql&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;SET&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PASSWORD&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FOR&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;@&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PASSWORD&lt;/span&gt;&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;newpass&amp;#39;&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;方法2：用mysqladmin&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;　　mysqladmin -u root password &amp;quot;newpass&amp;quot;
　　# 如果root已经设置过密码，采用如下方法
　　mysqladmin -u root password oldpass &amp;quot;newpass&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;方法3： 用UPDATE直接编辑user表&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;　　mysql -u root
　　mysql&amp;gt; use mysql;
　　mysql&amp;gt; UPDATE user SET Password = PASSWORD(&amp;#39;newpass&amp;#39;) WHERE user = &amp;#39;root&amp;#39;;
　　mysql&amp;gt; FLUSH PRIVILEGES;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;在丢失root密码的时候，可以这样&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;　　mysqld_safe --skip-grant-tables&amp;amp;
　　mysql -u root mysql
　　mysql&amp;gt; UPDATE user SET password=PASSWORD(&amp;quot;new password&amp;quot;) WHERE user=&amp;#39;root&amp;#39;;
　　mysql&amp;gt; FLUSH PRIVILEGES;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="database"></category><category term="database"></category><category term="mysql"></category></entry><entry><title>记录一些网址</title><link href="/posts/2017/06/07/programming-notes.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/programming-notes.html</id><content type="html">&lt;p&gt;dht爬虫&lt;/p&gt;
&lt;p&gt;http://codemacro.com/2013/05/19/crawl-dht/&lt;/p&gt;
&lt;p&gt;http://developer.51cto.com/art/201402/430007.htm&lt;/p&gt;
&lt;p&gt;Gtk相关&lt;/p&gt;
&lt;p&gt;http://gtk.awaysoft.com/forum.php&lt;/p&gt;</content><category term="notes"></category><category term="notes"></category><category term="programming"></category></entry><entry><title>swappiness交换分区配置</title><link href="/posts/2017/06/07/swappiness.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/swappiness.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;swappiness=0的时候表示最大限度使用物理内存，然后才是 swap空间，swappiness＝100的时候表示积极的使用swap分区，并且把内存上的数据及时 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;swappiness=0的时候表示最大限度使用物理内存，然后才是 swap空间，swappiness＝100的时候表示积极的使用swap分区，并且把内存上的数据及时的搬运到swap空间里面。

Ubuntu系统swappiness默认值为60,表示的含义可以这样来理解,当剩余物理内存低于40%(40=100-60)时,开始使用swap分区。

手工修改
 sudo vim /etc/sysctl.conf 

你应该可以看到这样一行：
 vm.swappiness = 60

如果内存大于1GB，则可以将这个数值改为10或5。
提示：如果没有找到这一行，也可以自己添加。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="sysctl"></category></entry><entry><title>vim折叠设置</title><link href="/posts/2017/06/07/vim-fold.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/vim-fold.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;vim折叠设置&lt;/span&gt;
&lt;span class="x"&gt;set foldmethod=indent &amp;quot;set default foldmethod&lt;/span&gt;
&lt;span class="x"&gt;&amp;quot;zi 打开关闭折叠&lt;/span&gt;
&lt;span class="x"&gt;&amp;quot;zv 查看此行&lt;/span&gt;
&lt;span class="x"&gt;zm 关闭折叠&lt;/span&gt;
&lt;span class="x"&gt;zM 关闭所有&lt;/span&gt;
&lt;span class="x"&gt;zr 打开&lt;/span&gt;
&lt;span class="x"&gt;zR 打开所有&lt;/span&gt;
&lt;span class="x"&gt;zc 折叠当前行&lt;/span&gt;
&lt;span class="x"&gt;zo 打开 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;vim折叠设置&lt;/span&gt;
&lt;span class="x"&gt;set foldmethod=indent &amp;quot;set default foldmethod&lt;/span&gt;
&lt;span class="x"&gt;&amp;quot;zi 打开关闭折叠&lt;/span&gt;
&lt;span class="x"&gt;&amp;quot;zv 查看此行&lt;/span&gt;
&lt;span class="x"&gt;zm 关闭折叠&lt;/span&gt;
&lt;span class="x"&gt;zM 关闭所有&lt;/span&gt;
&lt;span class="x"&gt;zr 打开&lt;/span&gt;
&lt;span class="x"&gt;zR 打开所有&lt;/span&gt;
&lt;span class="x"&gt;zc 折叠当前行&lt;/span&gt;
&lt;span class="x"&gt;zo 打开当前折叠&lt;/span&gt;
&lt;span class="x"&gt;zd 删除折叠&lt;/span&gt;
&lt;span class="x"&gt;zD 删除所有折叠&lt;/span&gt;


&lt;span class="x"&gt;1. 折叠方式&lt;/span&gt;
&lt;span class="x"&gt;可用选项 &amp;#39;foldmethod&amp;#39; 来设定折叠方式：set fdm=*****。&lt;/span&gt;
&lt;span class="x"&gt;有 6 种方法来选定折叠：&lt;/span&gt;
&lt;span class="x"&gt;manual           手工定义折叠&lt;/span&gt;
&lt;span class="x"&gt;indent             更多的缩进表示更高级别的折叠&lt;/span&gt;
&lt;span class="x"&gt;expr                用表达式来定义折叠&lt;/span&gt;
&lt;span class="x"&gt;syntax             用语法高亮来定义折叠&lt;/span&gt;
&lt;span class="x"&gt;diff                  对没有更改的文本进行折叠&lt;/span&gt;
&lt;span class="x"&gt;marker            对文中的标志折叠&lt;/span&gt;
&lt;span class="x"&gt;注意，每一种折叠方式不兼容，如不能即用expr又用marker方式，我主要轮流使用indent和marker方式进行折叠。&lt;/span&gt;

&lt;span class="x"&gt;使用时，用：set fdm=marker 命令来设置成marker折叠方式（fdm是foldmethod的缩写）。&lt;/span&gt;
&lt;span class="x"&gt;要使每次打开vim时折叠都生效，则在.vimrc文件中添加设置，如添加：set fdm=syntax，就像添加其它的初始化设置一样。&lt;/span&gt;

&lt;span class="x"&gt;2. 折叠命令&lt;/span&gt;
&lt;span class="x"&gt;选取了折叠方式后，我们就可以对某些代码实施我们需要的折叠了，由于我使用indent和marker稍微多一些，故以它们的使用为例：&lt;/span&gt;
&lt;span class="x"&gt;如果使用了indent方式，vim会自动的对大括号的中间部分进行折叠，我们可以直接使用这些现成的折叠成果。&lt;/span&gt;
&lt;span class="x"&gt;在可折叠处（大括号中间）：&lt;/span&gt;
&lt;span class="x"&gt;zc      折叠&lt;/span&gt;
&lt;span class="x"&gt;zC     对所在范围内所有嵌套的折叠点进行折叠&lt;/span&gt;
&lt;span class="x"&gt;zo      展开折叠&lt;/span&gt;
&lt;span class="x"&gt;zO     对所在范围内所有嵌套的折叠点展开&lt;/span&gt;
&lt;span class="x"&gt;[z       到当前打开的折叠的开始处。&lt;/span&gt;
&lt;span class="x"&gt;]z       到当前打开的折叠的末尾处。&lt;/span&gt;
&lt;span class="x"&gt;zj       向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。&lt;/span&gt;
&lt;span class="x"&gt;zk      向上移动到前一折叠的结束处。关闭的折叠也被计入。&lt;/span&gt;

&lt;span class="x"&gt;当使用marker方式时，需要用标计来标识代码的折叠，系统默认是&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="err"&gt;和&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;}，最好不要改动之：）&lt;/span&gt;
&lt;span class="x"&gt;我们可以使用下面的命令来创建和删除折叠：&lt;/span&gt;
&lt;span class="x"&gt;zf      创建折叠，比如在marker方式下：&lt;/span&gt;
&lt;span class="x"&gt;zf56G，创建从当前行起到56行的代码折叠；&lt;/span&gt;
&lt;span class="x"&gt;10zf或10zf+或zf10↓，创建从当前行起到后10行的代码折叠。&lt;/span&gt;
&lt;span class="x"&gt;10zf-或zf10↑，创建从当前行起到之前10行的代码折叠。&lt;/span&gt;
&lt;span class="x"&gt;在括号处zf%，创建从当前行起到对应的匹配的括号上去（（），{}，[]，&amp;lt;&amp;gt;等）。&lt;/span&gt;
&lt;span class="x"&gt;zd      删除 (delete) 在光标下的折叠。仅当 &amp;#39;foldmethod&amp;#39; 设为 &amp;quot;manual&amp;quot; 或 &amp;quot;marker&amp;quot; 时有效。&lt;/span&gt;
&lt;span class="x"&gt;zD     循环删除 (Delete) 光标下的折叠，即嵌套删除折叠。&lt;/span&gt;
&lt;span class="x"&gt;仅当 &amp;#39;foldmethod&amp;#39; 设为 &amp;quot;manual&amp;quot; 或 &amp;quot;marker&amp;quot; 时有效。&lt;/span&gt;
&lt;span class="x"&gt;zE     除去 (Eliminate) 窗口里“所有”的折叠。&lt;/span&gt;
&lt;span class="x"&gt;仅当 &amp;#39;foldmethod&amp;#39; 设为 &amp;quot;manual&amp;quot; 或 &amp;quot;marker&amp;quot; 时有效。&lt;/span&gt;

&lt;span class="x"&gt;关于vim的代码折叠，小弟也是初学，仅做参考。&lt;/span&gt;




&lt;span class="x"&gt;使用Vim的折叠功能书写程序代码&lt;/span&gt;

&lt;span class="x"&gt;折行的用处：&lt;/span&gt;
&lt;span class="x"&gt;2 创建折行进行大纲预览&lt;/span&gt;
&lt;span class="x"&gt;2 移动到某处进行编辑&lt;/span&gt;
&lt;span class="x"&gt;2 使用jzij打开文本进行编辑&lt;/span&gt;
&lt;span class="x"&gt;2 编辑完毕后再用jzij打开折行进行移动&lt;/span&gt;

&lt;span class="x"&gt;打开vim的折叠功能，请在~/.vimrc 中加入:set foldmethod=marker ，使用vim默认的折叠标签进行处理。使用方法如下：&lt;/span&gt;
&lt;span class="x"&gt;1、加折叠标签&lt;/span&gt;
&lt;span class="x"&gt;在normal模式下，从键盘输入zf并回车，您就会看到折叠在一起的两行标签如下：&lt;/span&gt;
&lt;span class="x"&gt;/*&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="o"&gt;{*/&lt;/span&gt;
&lt;span class="err"&gt;....&lt;/span&gt;&lt;span class="nv"&gt;.这里输入您&lt;/span&gt; &lt;span class="err"&gt;的程序代码&lt;/span&gt;
&lt;span class="o"&gt;/*&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;}*/&lt;/span&gt;

&lt;span class="x"&gt;2、输入程序代码后，将代码折叠起来使用如下命令(normal模式)：&lt;/span&gt;
&lt;span class="x"&gt;zc 回车&lt;/span&gt;

&lt;span class="x"&gt;3、打开折叠的程序有以下几种方法&lt;/span&gt;
&lt;span class="x"&gt;a、在折叠的行上移动光标&lt;/span&gt;
&lt;span class="x"&gt;b、在normal模式下输入zo并回车&lt;/span&gt;

&lt;span class="x"&gt;4、给一段文字加折行（normal 模式）&lt;/span&gt;
&lt;span class="x"&gt;zfap&lt;/span&gt;

&lt;span class="x"&gt;5、zr命令可以打开折叠几层的内容 zm使用内容折叠的更多一些（多层折叠操作时可反复使用）。&lt;/span&gt;

&lt;span class="x"&gt;6、嵌套了多层的折行, 也可以用zR命令一次打开所有折行&lt;/span&gt;

&lt;span class="x"&gt;7、关闭所有的嵌套折行使用zM&lt;/span&gt;

&lt;span class="x"&gt;8、可以用jznj命令来禁用一个折行. 然后用jzNj还可以恢复它. jzij命令则可以在两者之间切换.&lt;/span&gt;

&lt;span class="x"&gt;其它的，请参考vim的使用手册。&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="editor"></category><category term="vim"></category><category term="editor"></category></entry><entry><title>vim 排序文字</title><link href="/posts/2017/06/07/vim-sort.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2022-04-25T15:01:47+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/vim-sort.html</id><content type="html">&lt;p&gt;可以用 &lt;code&gt;ctrl-V&lt;/code&gt; 选中后输入 &lt;code&gt;:sort&lt;/code&gt; 排序&lt;/p&gt;</content><category term="editor"></category><category term="editor"></category><category term="vim"></category></entry><entry><title>Linux环境下文件关联的设置xdg-mime</title><link href="/posts/2017/06/07/xdg-mime.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/xdg-mime.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;xdg-utils&lt;/span&gt;
&lt;span class="n"&gt;从网上下载了几本中文pdf文档，用系统自带的Evince——文档查看器打开后出现乱码。想到FoxitReader有个linux版本，于是从其官方网站下 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;xdg-utils&lt;/span&gt;
&lt;span class="n"&gt;从网上下载了几本中文pdf文档，用系统自带的Evince——文档查看器打开后出现乱码。想到FoxitReader有个linux版本，于是从其官方网站下载下来，打开该文档未出现乱码。&lt;/span&gt;
&lt;span class="n"&gt;但是因为默认pdf与Envince关联，所以想要用FoxitReader来看pdf文档，只能先打开FoxitReader，然后点文件-》打开菜单，选择pdf文档，才能阅读，稍有麻烦。怎么才能设置默认的pdf关联方式呢？&lt;/span&gt;
&lt;span class="n"&gt;文件关联的原理主要是设置文件类型与应用程序之间的联系。&lt;/span&gt;

&lt;span class="n"&gt;文件的类型由mimetype(.xml) 描述，存放在&lt;/span&gt;
&lt;span class="n"&gt;/usr/share/mime&lt;/span&gt;
&lt;span class="n"&gt;~/.local/share/mime&lt;/span&gt;

&lt;span class="n"&gt;应用程序由desktop entry(.desktop)描述，存放在&lt;/span&gt;
&lt;span class="n"&gt;/usr/share/applications&lt;/span&gt;
&lt;span class="n"&gt;~/.local/share/applications&lt;/span&gt;

&lt;span class="n"&gt;xdg-open程序负责根据关联的程序打开文件。&lt;/span&gt;
&lt;span class="n"&gt;xdg-open先判断文件类型，然后到&lt;/span&gt;
&lt;span class="n"&gt;/usr/share/applications/defaults.list&lt;/span&gt;
&lt;span class="n"&gt;~/.local/share/applications/defaults.list&lt;/span&gt;
&lt;span class="n"&gt;找到指定的.desktop，并根据其中的命令打开应用程序。&lt;/span&gt;

&lt;span class="n"&gt;xdg-mime可以修改默认文件关联。&lt;/span&gt;

&lt;span class="n"&gt;查看文件的mime类型：&lt;/span&gt;
&lt;span class="n"&gt;xdg-mime query filetype a.pdf&lt;/span&gt;

&lt;span class="n"&gt;查看mime类型的应用程序关联：&lt;/span&gt;
&lt;span class="n"&gt;xdg-mime query default application/pdf&lt;/span&gt;

&lt;span class="n"&gt;修改mime类型的应用程序关联：&lt;/span&gt;
&lt;span class="n"&gt;xdg-mime default evince.desktop application/pdf&lt;/span&gt;

&lt;span class="n"&gt;还可以直接改defaults.list。该文件存放于：&lt;/span&gt;
&lt;span class="n"&gt;/usr/share/application&lt;/span&gt;
&lt;span class="n"&gt;/etc/gnome&lt;/span&gt;
&lt;span class="n"&gt;~/.local/share/applictions&lt;/span&gt;
&lt;span class="n"&gt;按照全局性依次降低。&lt;/span&gt;
&lt;span class="n"&gt;快捷的方式是在Nautilus中选择用其他方式打开，选择想要打开的程序，将“记住打开pdf文档类型文件使用的程序“打勾，会自动创建文件关联，可在~/.local/share/applicaions中看到新加的条目。&lt;/span&gt;
&lt;span class="n"&gt;++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&lt;/span&gt;
&lt;span class="n"&gt;grep &amp;quot;pdf&amp;quot; applicaions &amp;gt;&amp;gt; ~/.local/share/applicaions&lt;/span&gt;
&lt;span class="n"&gt;&amp;quot;在application文件中查找出pdf文件关联的那一行并追加到~/.local/share/applicaions中&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="xdg"></category></entry><entry><title>apt install 一直 size mismatch</title><link href="/posts/2017/06/03/apt-size-mismatch.html" rel="alternate"></link><published>2017-06-03T08:32:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-03:/posts/2017/06/03/apt-size-mismatch.html</id><summary type="html">&lt;p&gt;raspberry pi 的 debian， apt安装软件是一直提示 size mismatch。
后来发现这是运营商(ISP)缓存的问题， 运营商有些时候是通过文件名作为缓存的， 导 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;raspberry pi 的 debian， apt安装软件是一直提示 size mismatch。
后来发现这是运营商(ISP)缓存的问题， 运营商有些时候是通过文件名作为缓存的， 导致服务器文件更新后，用户依然下载到旧的版本。
解决方法是， apt source 使用https协议就好了。&lt;/p&gt;
&lt;p&gt;后来发现有人和我遇到同样的问题：https://bbs.deepin.org/forum.php?mod=viewthread&amp;amp;tid=138536&lt;/p&gt;</content><category term="linux"></category><category term="debian"></category><category term="linux"></category></entry><entry><title>pelican博客搭建总结</title><link href="/posts/2017/06/03/pelican.html" rel="alternate"></link><published>2017-06-03T06:56:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-03:/posts/2017/06/03/pelican.html</id><summary type="html">&lt;h4&gt;pelican介绍&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://getpelican.com/" title="pelican"&gt;Pelican&lt;/a&gt; 是用Python实现的一个静态网站生成器. 支持以下功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 Markdown 或 reStructuredText 或 AsciiDoc 来编写内容&lt;/li&gt;
&lt;li&gt;生成静态网页&lt;/li&gt;
&lt;li&gt;支持许多主题与 …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h4&gt;pelican介绍&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://getpelican.com/" title="pelican"&gt;Pelican&lt;/a&gt; 是用Python实现的一个静态网站生成器. 支持以下功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 Markdown 或 reStructuredText 或 AsciiDoc 来编写内容&lt;/li&gt;
&lt;li&gt;生成静态网页&lt;/li&gt;
&lt;li&gt;支持许多主题与插件&lt;/li&gt;
&lt;li&gt;语法高亮&lt;/li&gt;
&lt;li&gt;支持从很多地方导入&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;使用方法&lt;/h4&gt;
&lt;p&gt;参考 https://getpelican.com/ 和 http://docs.getpelican.com/en/stable/&lt;/p&gt;
&lt;h4&gt;windows遇到的一些坑&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;windows 平台下 &lt;code&gt;ValueError: embedded null byte&lt;/code&gt; 的报错
解决方法：
在 &lt;code&gt;.\lib\site-packages\pelican\utils.py&lt;/code&gt; 文件中， 找到函数 &lt;code&gt;strftime&lt;/code&gt; ，在第一行添加 &lt;code&gt;locale.setlocale(locale.LC_ALL, 'en')&lt;/code&gt;
参考 &lt;a href="https://stackoverflow.com/questions/34434190/value-error-embedded-null-byte-when-using-pelican-content-command-to-generate-m" title="stackoverflow"&gt;stackoverflow中的解决方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;windows 平台下 &lt;code&gt;ghp-import&lt;/code&gt; 应该安装pip中的最新版， 并非 pelican3.7.1文档 所说的 &lt;code&gt;https://github.com/chevah/ghp-import/archive/win-support.zip&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;参考连接：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://getpelican.com/" title="pelican"&gt;pelican官方网站&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/stable/" title="pelican文档"&gt;pelican文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/34434190/value-error-embedded-null-byte-when-using-pelican-content-command-to-generate-m" title="stackoverflow"&gt;stackoverflow: How to fix Pelican error&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://xingjian.me/how-to-fix-value-error-embedded-null-byte-error.html" title="How to fix Python error: ValueError: embedded null byte"&gt;Chinese version: How to fix Pelican error&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="blog"></category><category term="pelican"></category><category term="python"></category><category term="blog"></category></entry><entry><title>gtags使用</title><link href="/posts/2015/06/18/gtags.html" rel="alternate"></link><published>2015-06-18T13:50:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-06-18:/posts/2015/06/18/gtags.html</id><summary type="html">&lt;h5&gt;gtags global&lt;/h5&gt;
&lt;p&gt;安装好以后，有global、gtags、gtags-cscope三个命令。global是查询，gtags是生成索引文件，gtags-cscope是与cscope一样的界面&lt;/p&gt;
&lt;h5&gt;example：&lt;/h5&gt;
&lt;p&gt;代码:&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;project/
$&lt;span class="w"&gt; &lt;/span&gt;gtags
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这样就生成了整个 …&lt;/p&gt;</summary><content type="html">&lt;h5&gt;gtags global&lt;/h5&gt;
&lt;p&gt;安装好以后，有global、gtags、gtags-cscope三个命令。global是查询，gtags是生成索引文件，gtags-cscope是与cscope一样的界面&lt;/p&gt;
&lt;h5&gt;example：&lt;/h5&gt;
&lt;p&gt;代码:&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;project/
$&lt;span class="w"&gt; &lt;/span&gt;gtags
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这样就生成了整个目录的索引文件，包括GTAGS、GRTAGS、GPATH三个文件。&lt;/p&gt;
&lt;p&gt;你也可以先用find命令生成一个文件列表，叫gtags.files，然后再执行gtags，就会只索引gtags.files里的文件。&lt;/p&gt;
&lt;h5&gt;example：&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nl"&gt;代码&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;*.[ch]&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;gtags&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;gtags&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;查询使用的命令是global和gtags-cscope。前者是命令行界面，后者是与cscope兼容的ncurses界面。这里就不多介绍了，重点是如何在vim里查询：&lt;/p&gt;
&lt;p&gt;首先进入vim，然后:&lt;/p&gt;
&lt;h5&gt;example&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;代码:
:set cscopeprg=gtags-cscope
:cs add GTAGS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后就可以像cscope一样，用cs find g等命令进行查询了。&lt;/p&gt;
&lt;p&gt;当我们更改了某个文件以后，比如project/subdir1/subdir2/file1.c，想更新索引文件(索引文件是project/GTAGS)，只消这样：&lt;/p&gt;
&lt;h5&gt;example:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;代码:
$ cd project/subdir1/subdir2/
$ vim file1.c
$ global -u
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="editor"></category><category term="editor"></category><category term="vim"></category></entry><entry><title>将man page输出到pdf和HTML</title><link href="/posts/2015/01/20/man-pages-to-pdf.html" rel="alternate"></link><published>2015-01-20T16:37:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-01-20:/posts/2015/01/20/man-pages-to-pdf.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 方法1：直接浏览器查看html&lt;/span&gt;
man&lt;span class="w"&gt; &lt;/span&gt;-Hfirefox&lt;span class="w"&gt; &lt;/span&gt;memfd_create


&lt;span class="c1"&gt;# 方法2：查询手册页文件位置&lt;/span&gt;
man&lt;span class="w"&gt; &lt;/span&gt;-w&lt;span class="w"&gt; &lt;/span&gt;timerfd_create&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 或 man -w 2 timerfd_create&lt;/span&gt;
&lt;span class="c1"&gt;# 然后转换为html&lt;/span&gt;
zcat&lt;span class="w"&gt; &lt;/span&gt;/usr/share/man/man2/timerfd_create …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# 方法1：直接浏览器查看html&lt;/span&gt;
man&lt;span class="w"&gt; &lt;/span&gt;-Hfirefox&lt;span class="w"&gt; &lt;/span&gt;memfd_create


&lt;span class="c1"&gt;# 方法2：查询手册页文件位置&lt;/span&gt;
man&lt;span class="w"&gt; &lt;/span&gt;-w&lt;span class="w"&gt; &lt;/span&gt;timerfd_create&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;# 或 man -w 2 timerfd_create&lt;/span&gt;
&lt;span class="c1"&gt;# 然后转换为html&lt;/span&gt;
zcat&lt;span class="w"&gt; &lt;/span&gt;/usr/share/man/man2/timerfd_create.2.gz&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;roff2html&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;timerfd_create.html


&lt;span class="c1"&gt;# 方法3：转换为pdf&lt;/span&gt;
man&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;eventfd&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;ps2pdf&lt;span class="w"&gt; &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;eventfd.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>linux-man-pages</title><link href="/posts/2015/01/20/linux-man-pages.html" rel="alternate"></link><published>2015-01-20T11:41:06+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-01-20:/posts/2015/01/20/linux-man-pages.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;关键字&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;从&lt;/span&gt;&lt;span class="n"&gt;man手册页描述内容中搜索&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;全文暴力搜索，&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;速度比较慢&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;显示手册中包含的所有可用的手册页&lt;/span&gt;
&lt;span class="n"&gt;whatis&lt;/span&gt;
&lt;span class="n"&gt;which …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;关键字&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;从&lt;/span&gt;&lt;span class="n"&gt;man手册页描述内容中搜索&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;全文暴力搜索，&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;速度比较慢&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;显示手册中包含的所有可用的手册页&lt;/span&gt;
&lt;span class="n"&gt;whatis&lt;/span&gt;
&lt;span class="n"&gt;which&lt;/span&gt;

&lt;span class="n"&gt;manpages里面还有一些有趣而且实用的资料&lt;/span&gt;&lt;span class="err"&gt;：&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;intro&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;一篇对从未接触过&lt;/span&gt;&lt;span class="n"&gt;Linux的用户的简明教程&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;syscalls&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;内核系统请求的列表，按内核版本注释分类，系统编程必备。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;select_tut&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;关于&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="err"&gt;系统请求的教程。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;string&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;在头文件内的所有函数。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stdio&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;关于头文件的使用，标准输入&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="err"&gt;输出库的说明。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;3&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;errno&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;所有&lt;/span&gt;&lt;span class="n"&gt;errorno的取值及说明&lt;/span&gt;&lt;span class="err"&gt;。（&lt;/span&gt;&lt;span class="n"&gt;C语言内类似其他语言的异常告知机制&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;console_codes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Linux的终端控制码及其使用解释&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;full&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;介绍&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;full这个总是处于&lt;/span&gt;&lt;span class="err"&gt;“满”状态的磁盘。（对应&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;null这个总是空的设备&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;5&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;proc&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;介绍&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;proc下的文件系统&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;5&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;filesystems&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;各种&lt;/span&gt;&lt;span class="n"&gt;Linux文件系统&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;

&lt;span class="err"&gt;第&lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="err"&gt;区里面的资料通常最酷：&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bootparam&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;详细解释内核启动参数。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;charsets&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;解释各种语言的编码集。（&lt;/span&gt;&lt;span class="n"&gt;gbk&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;gb2312等&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;解释&lt;/span&gt;&lt;span class="n"&gt;glob文件名管理机制的工作过程&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;hier&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;解释&lt;/span&gt;&lt;span class="n"&gt;Linux文件系统结构各个部分的作用&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C语言的运算符的列表&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;regex&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;介绍正则表达式。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;suffixes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;常见文件后缀名的列表跟解释。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Linux的时钟机制解释&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;units&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;数值单位及其数值的解释。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;描述&lt;/span&gt;&lt;span class="n"&gt;UTF&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mh"&gt;8&lt;/span&gt;&lt;span class="err"&gt;编码。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;–&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;解释&lt;/span&gt;&lt;span class="n"&gt;URL&lt;/span&gt;&lt;span class="err"&gt;、&lt;/span&gt;&lt;span class="n"&gt;URI&lt;/span&gt;&lt;span class="err"&gt;、&lt;/span&gt;&lt;span class="n"&gt;URN等的标准&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;
&lt;span class="n"&gt;man&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ascii&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>coreutils</title><link href="/posts/2015/01/10/coreutils.html" rel="alternate"></link><published>2015-01-10T10:31:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-01-10:/posts/2015/01/10/coreutils.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;arch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;显示机器的架构
&lt;span class="nv"&gt;basenc&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;编码解码数据（&lt;span class="nv"&gt;base32&lt;/span&gt;等）
&lt;span class="nv"&gt;cksum&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;校验文件&lt;span class="nv"&gt;CRC&lt;/span&gt;
&lt;span class="nv"&gt;expand&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;将制表符转化为空格
&lt;span class="nv"&gt;factor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;分解质因数
&lt;span class="nv"&gt;fmt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;简单的格式化文本，&lt;span class="w"&gt; &lt;/span&gt;折行 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;arch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;显示机器的架构
&lt;span class="nv"&gt;basenc&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;编码解码数据（&lt;span class="nv"&gt;base32&lt;/span&gt;等）
&lt;span class="nv"&gt;cksum&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;校验文件&lt;span class="nv"&gt;CRC&lt;/span&gt;
&lt;span class="nv"&gt;expand&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;将制表符转化为空格
&lt;span class="nv"&gt;factor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;分解质因数
&lt;span class="nv"&gt;fmt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;简单的格式化文本，&lt;span class="w"&gt; &lt;/span&gt;折行等
&lt;span class="nv"&gt;fold&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;对文件折行以适应宽度
&lt;span class="nv"&gt;join&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;按字段合并文件
&lt;span class="nv"&gt;paste&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;合并文件
&lt;span class="nv"&gt;logname&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;用户登录文件名
&lt;span class="nv"&gt;nproc&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;显示处理器单元个数
&lt;span class="nv"&gt;numfmt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;转换数字单位
&lt;span class="nv"&gt;printf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;按照格式打印参数
&lt;span class="nv"&gt;readlink&lt;/span&gt;
&lt;span class="nv"&gt;realpath&lt;/span&gt;
&lt;span class="nv"&gt;seq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;首数&lt;span class="w"&gt; &lt;/span&gt;增量&lt;span class="w"&gt; &lt;/span&gt;尾数&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;打印数列
&lt;span class="nv"&gt;shuf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;把输入行按随机顺序输出
&lt;span class="nv"&gt;sort&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;对文本文件中的行排序
&lt;span class="nv"&gt;split&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;分割文件
&lt;span class="nv"&gt;stdbuf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;设置命令的标准输入输出流的缓冲区配置
&lt;span class="nv"&gt;tac&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;逆序版&lt;span class="nv"&gt;cat&lt;/span&gt;
&lt;span class="nv"&gt;tee&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#复制标准输入到文件
&lt;span class="nv"&gt;truncate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;缩减或扩展文件到指定大小
&lt;span class="nv"&gt;tsort&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;拓扑排序&lt;span class="w"&gt; &lt;/span&gt;（&lt;span class="nv"&gt;tsort&lt;/span&gt;输入数据的规则，把每两个数据作为一组，这两个数据就表明了一种部分顺序，每个数据之间以空白分隔，&lt;span class="nv"&gt;tsort&lt;/span&gt;处理结果就是根据这些部分顺序来推导出整体顺序来）
&lt;span class="nv"&gt;unexpand&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;把空格转换成制表符
&lt;span class="nv"&gt;uniq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;报告或省略重复行
&lt;span class="k"&gt;unlink&lt;/span&gt;
&lt;span class="nv"&gt;users&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;显示当前登录在系统上的用户名称
&lt;span class="nv"&gt;who&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;显示已登录用户
&lt;span class="nv"&gt;whoami&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;显示有效用户&lt;span class="nv"&gt;id&lt;/span&gt;
&lt;span class="nv"&gt;yes&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;#&lt;span class="w"&gt; &lt;/span&gt;不断的输出一个字符串，直到被杀死

#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;script&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;命令&lt;span class="ss"&gt;(&lt;/span&gt;终端录屏&lt;span class="ss"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;script&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;.&lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;.&lt;span class="nv"&gt;txt&lt;/span&gt;
&lt;span class="nv"&gt;scriptreplay&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;.&lt;span class="nv"&gt;time&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;test&lt;/span&gt;.&lt;span class="nv"&gt;txt&lt;/span&gt;

&lt;span class="nv"&gt;env&lt;/span&gt;
&lt;span class="nv"&gt;printevn&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>linux入门</title><link href="/posts/2015/01/07/linux-primer.html" rel="alternate"></link><published>2015-01-07T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-01-07:/posts/2015/01/07/linux-primer.html</id><content type="html">&lt;p&gt;man intro # 用户命令介绍
man hier # 文件系统描述
man file-hierarchy # # 文件系统描述
vimtutor # vim教程&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="book"></category></entry><entry><title>ArchLinux 安装笔记</title><link href="/posts/2015/01/01/install-archlinux.html" rel="alternate"></link><published>2015-01-01T20:31:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-01-01:/posts/2015/01/01/install-archlinux.html</id><summary type="html">&lt;h3&gt;ArchLinux 安装笔记&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;制作usb启动盘&lt;/li&gt;
&lt;li&gt;为要安装系统的磁盘分区， 一般需要 / /boot /home swap， 服务器的/srv /var 是可选的。也可以考虑使用lvm或者btrfs …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h3&gt;ArchLinux 安装笔记&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;制作usb启动盘&lt;/li&gt;
&lt;li&gt;为要安装系统的磁盘分区， 一般需要 / /boot /home swap， 服务器的/srv /var 是可选的。也可以考虑使用lvm或者btrfs。 推荐使用btrfs。&lt;/li&gt;
&lt;li&gt;格式化分区， 启用交换分区。&lt;/li&gt;
&lt;li&gt;分区挂到/mnt, mkdir /mnt/{boot,home} ,  挂载boot home 等分区。&lt;/li&gt;
&lt;li&gt;nano /etc/pacman.d/mirrorlist 修改软件源地址&lt;/li&gt;
&lt;li&gt;pacstrap /mnt base base-devel 安装系统&lt;/li&gt;
&lt;li&gt;genfatab -U -p /mnt &amp;gt;&amp;gt; /mnt/etc/fstab  生成fstab&lt;/li&gt;
&lt;li&gt;arch-chroot /mnt  切换到新系统&lt;/li&gt;
&lt;li&gt;nano /etc/locale.gen&lt;/li&gt;
&lt;li&gt;locale-gen&lt;/li&gt;
&lt;li&gt;echo zhiliao &amp;gt; /etc/hostname&lt;/li&gt;
&lt;li&gt;passwd 创建root用户密码&lt;/li&gt;
&lt;li&gt;pacman -S openssh vim grub net-tools&lt;/li&gt;
&lt;li&gt;grub-install --target=i386-pc --recheck /dev/sda 安装grub&lt;/li&gt;
&lt;li&gt;grub-mkconfig -o /boot/grub/grub.cfg 配置grub&lt;/li&gt;
&lt;li&gt;exit&lt;/li&gt;
&lt;li&gt;umount /mnt/ &amp;amp; reboot 结束安装&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>C++书籍推荐</title><link href="/posts/2015/01/01/cpp-books.html" rel="alternate"></link><published>2015-01-01T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2015-01-01:/posts/2015/01/01/cpp-books.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;C++Primer 5th 中文版 (no Plus)&lt;/li&gt;
&lt;li&gt;Inside C++ Object Model&lt;/li&gt;
&lt;li&gt;The Design and Evolution of C++&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这三本就够用了，可以应付绝大多数的工作&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;下面是转载的在博客上看到的一 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;C++Primer 5th 中文版 (no Plus)&lt;/li&gt;
&lt;li&gt;Inside C++ Object Model&lt;/li&gt;
&lt;li&gt;The Design and Evolution of C++&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这三本就够用了，可以应付绝大多数的工作&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;下面是转载的在博客上看到的一个C++书籍阅读清单，可以参考下：&lt;/p&gt;
&lt;h2&gt;阶段 1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;《Essential C++》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是一本内容不多但很实用的C++入门书籍，强调快速上手与理解C++编程。本书主要围绕一系列逐渐复杂的程序问题，以及用以解决这些问题的语言特性展开讲解。你不只学到C++的函数和结构，也会学习到它们的设计目的和基本原理。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《C++ Primer》（不是 plus）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本书对C++基本概念、技术、以及现代C++编程风格进行了全面而且权威的阐述，是C++初学者的最佳指南；本书可以帮助你编写实用的程序，而无需首先精通每个语言细节。对于中高级程序员，本书也是不可或缺的参考书。&lt;/p&gt;
&lt;h2&gt;阶段 2&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;《Effective C++》和《More effective C++》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作者是Scott Meyers。你应该熟读它们，并清楚地理解每个项目。该书围绕55条准则，每一条都介绍了一个可让你写出更好的C++程序代码的方法，并以特别设计过的例子详加讨论。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《Exceptional C++（C++编程剖析）》和《More exceptional C++》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这两本书中都包含了40个C++编程问题，这些问题会让你磨练自己的技能，最终成为优秀的C++程序员。这些问题是Herb Sutter精心挑选，与ISO/ANSI C++官方标准相一致，帮助程序员在设计、架构和编码过程中保持良好的风格，从而使编写的C++软件更健壮、更高效。&lt;/p&gt;
&lt;h2&gt;阶段 3&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;《Inside the C++ object model（深度探索C++对象模型）》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本书专注于C++面向对象程序设计的底层机制，包括结构式语意、临时性对象的生成、封装、继承，以及虚拟——虚拟函数和虚拟继承，帮助你理解程序的底层实现，以便写出更高效的代码。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《The design and evolution of C++（C++语言的设计与演化）》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本书作者也是C++语言的设计者Bjarne Stroustrup，作者在书中综合性地介绍了C++的发展历史，C++中各种重要机制的本质意义和设计背景，这些机制的基本用途和使用方法，讨论了C++所适合的应用领域及其未来的发展前景，既没有忽略关键性的详情，又没有过多地陷入技术细节。&lt;/p&gt;
&lt;h2&gt;阶段 4&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;《The C++ standard library（C++标准程序库）》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是标准模板库字典，你可以在本书中找到STL相关的一切知识。本书焦点放在标准模板库、检查容器、迭代器、函数对象和STL算法上。每一个元素都有深刻的呈现，包括其介绍、设计、运用实例、细节解说、陷阱、意想不到的危险，以及相关类别和函数等。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《Effective STL》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是Scott Meyers的第三本C++专著，也是学习STL最权威的书籍。作者对书中的50个指导方针都作了详尽的分析，并配以示例。通过这些规则，C++开发者可以最大限度地使用STL。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《Generic programming and the STL（泛型编程与STL）》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本书阐述了泛型程序设计的核心理念：concepts（概念）、modeling（模型）和refinement（改善），并为你展示这些观念如何导出STL的基础概念：iterators（迭代器）、containers（容器）和function objects（函数对象）。按照本书所述，你可以把STL想象成一个由concepts组成的library，你将学习到STL正式结构并理解其强大的优势。&lt;/p&gt;
&lt;h2&gt;阶段 5&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;《Exceptional C++ style》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作者为Herb Sutter。本书同样提出了40个C++风格相关的问题，对一些至关重要的C++细节和相互关系提出了新的见解，为当今的关键C++编程技术（如泛型编程、STL、异常安全等）提供了新的策略，帮助开发者在开销与功能之间、优雅与可维护性之间、灵活性与过分灵活之间寻找完美的平衡点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《C++ template》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是一本关于C++模板的完整的参考手册和教程，它强调模板的使用实践，包含了现实世界中的例子。每个C++程序员都应该好好读一读这本书。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《Modern C++ design（现代C++设计）》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作者Andrei Alexandrescu为C++程序员打开了一个新的局面。本书提供了一些针对软件设计的前沿方法，如联合设计模式、泛型编程，使程序员可以编写有表现力的、灵活的、高度可重用的代码。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;《Thinking in C++（C++编程思想）》&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;C++ 领域权威著作，介绍了C++实用的编程技术和最佳的实践方法。&lt;/p&gt;</content><category term="programming"></category><category term="programming"></category><category term="C++"></category><category term="book"></category></entry><entry><title>bash</title><link href="/posts/2014/09/26/bash.html" rel="alternate"></link><published>2014-09-26T21:55:00+08:00</published><updated>2023-08-12T16:59:46+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-09-26:/posts/2014/09/26/bash.html</id><summary type="html">&lt;h4&gt;Linux 下shell基本上默认是 bash, 下面是我总结的一些技巧。&lt;/h4&gt;
&lt;h4&gt;bash 重定向&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find&lt;span class="w"&gt; &lt;/span&gt;/etc&lt;span class="w"&gt; &lt;/span&gt;-name&lt;span class="w"&gt; &lt;/span&gt;passwd&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.txt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 把标准输出重定向到 1.txt，屏幕上只显示错 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h4&gt;Linux 下shell基本上默认是 bash, 下面是我总结的一些技巧。&lt;/h4&gt;
&lt;h4&gt;bash 重定向&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find&lt;span class="w"&gt; &lt;/span&gt;/etc&lt;span class="w"&gt; &lt;/span&gt;-name&lt;span class="w"&gt; &lt;/span&gt;passwd&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.txt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 把标准输出重定向到 1.txt，屏幕上只显示错误输出&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;/etc&lt;span class="w"&gt; &lt;/span&gt;-name&lt;span class="w"&gt; &lt;/span&gt;passwd&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.txt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 略&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;/etc&lt;span class="w"&gt; &lt;/span&gt;-name&lt;span class="w"&gt; &lt;/span&gt;passwd&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.txt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 标准错误标准输出，同时导出到一个文件&lt;/span&gt;
find&lt;span class="w"&gt; &lt;/span&gt;/etc&lt;span class="w"&gt; &lt;/span&gt;-name&lt;span class="w"&gt; &lt;/span&gt;passwd&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&amp;gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.txt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# 标准错误标准输出，同时导出到一个文件  &amp;amp;代表all(0,1,2,3....)，不建议使用&lt;/span&gt;

tr&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a-z&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;A-Z&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;

tr&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a-z&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;A-Z&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class="s"&gt;hello world&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;历史命令搜索&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ctrl+r  
ctrl+r 搜索下一条
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;trap 可以捕获信号&lt;/h4&gt;
&lt;h4&gt;目录跳转&lt;/h4&gt;
&lt;p&gt;pushd, popd, dirs 实现多目录跳转
pushd 命令用来更改您的当前目录并将其存储在堆栈中。 popd 命令用来从堆栈的顶部移除目录并使您返回该位置。 dirs 命令来显示当前目录堆栈。（dir –v –p)
pushd +n; popd +n 可以操作虚拟目录堆栈
 &lt;/p&gt;
&lt;h4&gt;快速跳至常用目录&lt;/h4&gt;
&lt;p&gt;你可能已经知道$PATH变量可以列出 bash的“搜索路径”——当在当前目录不能找到请求的文件时，bash会自动搜索的目录。不过，bash也支持$CDPATH变量，当试图改变目录时该变量列出cd命令转向的目录。为了使用这个特性，我们要对$CDPATH变量赋值一个目录列表，如下面的例子所示：
bash&amp;gt; CDPATH='.:~:/usr/local/apache/htdocs:/disk1/backups'
bash&amp;gt; export CDPATH
现在，无论何时使用cd命令，bash将会检查$CDPATH列表中的所有目录来查找要转向的目录名。
 &lt;/p&gt;
&lt;h4&gt;特殊参数&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;代表所有参数&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;其间隔为IFS内定参数的第一个字元&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$@&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;与&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;星号类同&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="n"&gt;不同之处在於不参照IFS&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;3.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$#&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;代表参数数量&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;4.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$?&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;执行上一个指令的返回值&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;5.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;最近执行的foreground&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pipeline的选项参数&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;6.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$$&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;本身的Process&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ID&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;7.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$!&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;执行上一个背景指令的PID&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="mf"&gt;8.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;显示出最後一个执行的命令&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;bash快捷键&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Emacs风格&lt;/li&gt;
&lt;li&gt;ctrl+p: 方向键 上 ↑ &lt;/li&gt;
&lt;li&gt;ctrl+n: 方向键下 ↓ &lt;/li&gt;
&lt;li&gt;ctrl+b: 方向键 ← &lt;/li&gt;
&lt;li&gt;alt+f: 光标右移一个单词 &lt;/li&gt;
&lt;li&gt;ctrl+f :方向键 → &lt;/li&gt;
&lt;li&gt;alt+b: 光标左移一个单词 &lt;/li&gt;
&lt;li&gt;ctrl+a:光标移到行首 &lt;/li&gt;
&lt;li&gt;ctrl+e:光标移到行尾 &lt;/li&gt;
&lt;li&gt;ctrl+k:清除光标后至行尾的内容。 &lt;/li&gt;
&lt;li&gt;ctrl+d: 删除光标所在字母;注意和backspace以及ctrl+h的区别，这2个是删除光标前的字符 &lt;/li&gt;
&lt;li&gt;ctrl+r:搜索之前打过的命令。会有一个提示，根据你输入的关键字进行搜索bash的history &lt;/li&gt;
&lt;li&gt;ctrl+m : 输入回车 &lt;/li&gt;
&lt;li&gt;ctrl+i : 输入tab &lt;/li&gt;
&lt;li&gt;ctrl+[ : 输入esc&lt;/li&gt;
&lt;li&gt;其它 &lt;/li&gt;
&lt;li&gt;ctrl+h:删除光标前一个字符，同 backspace 键相同。 &lt;/li&gt;
&lt;li&gt;alt + p 非增量方式反向搜索历史 &lt;/li&gt;
&lt;li&gt;alt + &amp;gt; 历史命令列表中的最后一行命令开始向前 &lt;/li&gt;
&lt;li&gt;ctrl+u: 清除光标前至行首间的所有内容。 &lt;/li&gt;
&lt;li&gt;ctrl+w: 移除光标前的一个单词 &lt;/li&gt;
&lt;li&gt;ctrl+t: 交换光标位置前的两个字符 &lt;/li&gt;
&lt;li&gt;ctrl+y: 粘贴或者恢复上次的删除 &lt;/li&gt;
&lt;li&gt;ctrl+l:清屏，相当于clear。 &lt;/li&gt;
&lt;li&gt;ctrl + xx 光标在行头与行尾进行跳转 &lt;/li&gt;
&lt;li&gt;alt+r 撤销当前行的所有内容 &lt;/li&gt;
&lt;li&gt;ctrl+z : 把当前进程转到后台运行 &lt;/li&gt;
&lt;li&gt;ctrl+s : 锁住屏幕 &lt;/li&gt;
&lt;li&gt;ctrl+q : 恢复屏幕 &lt;/li&gt;
&lt;li&gt;ctrl+v key: 输入特殊字符 &lt;/li&gt;
&lt;li&gt;alt + l 将当前光标处之后的字母转化成小写字母 &lt;/li&gt;
&lt;li&gt;alt + u 将当前光标处之后的字母转化成大写字母 &lt;/li&gt;
&lt;li&gt;ctrl + Alt + e 扩展命令行的内容（例如：ls  =&amp;gt;  ls  -l  --color=tty） &lt;/li&gt;
&lt;li&gt;ctrl+c:杀死当前进程, 输入模式下，中断输入的命令。 &lt;/li&gt;
&lt;li&gt;ctrl+d:退出当前 Shell &lt;/li&gt;
&lt;li&gt;esc + . 快捷键可以轮询历史命令的参数或选项。 &lt;/li&gt;
&lt;li&gt;esc + t 快捷键可以 置换前两个单词。 &lt;/li&gt;
&lt;li&gt;输入重复字母 Esc {100} e 可以输入100个e字符&lt;/li&gt;
&lt;li&gt;按多次{esc}可以补全 &lt;/li&gt;
&lt;li&gt;{esc}{~}可以补全本机上的用户名 &lt;/li&gt;
&lt;li&gt;{esc}{/}可以补全文件名 &lt;/li&gt;
&lt;li&gt;{esc}{@}可以补全主机名,localhost可以方便地用 lo补全.
 &lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Bang Bang 历史命令&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="sx"&gt;!!    重新执行上一条命令 &lt;/span&gt;
&lt;span class="sx"&gt;!N  重新执行第N条命令。比如 !3 &lt;/span&gt;
&lt;span class="sx"&gt;!-N 重新执行倒数第N条命令。!-3 &lt;/span&gt;
&lt;span class="sx"&gt;!string  重新执行以字符串打头的命令。 比如 !vim &lt;/span&gt;
&lt;span class="sx"&gt;!?string?  重新执行包含字符串的命令。 比如 !?test.cpp? &lt;/span&gt;
&lt;span class="sx"&gt;!?string?%  替换为： 最近包含这个字符串的命令的参数。比如：   vim !?test.cpp?% &lt;/span&gt;
&lt;span class="sx"&gt;!$   替换为：上一条命令的最后一个参数。比如 vim !$ &lt;/span&gt;
&lt;span class="sx"&gt;!!string  在上一条命令的后面追加 string ，并执行。 &lt;/span&gt;
&lt;span class="sx"&gt;!Nstring  在第N条指令后面追加string，并执行。 &lt;/span&gt;
^&lt;span class="n"&gt;old&lt;/span&gt;^&lt;span class="n"&gt;new&lt;/span&gt;^&lt;span class="w"&gt;  &lt;/span&gt;对上一条指令进行替换&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;修饰&lt;/span&gt;
&lt;span class="s"&gt;:s/old/new/&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;对第&lt;span class="n"&gt;N条指令中第一次出现的new替换为old&lt;/span&gt;。&lt;span class="w"&gt; &lt;/span&gt;比如&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vim&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;!?&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cpp&lt;/span&gt;?&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cpp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;全部替换&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;wn&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;w为数字&lt;/span&gt;，&lt;span class="w"&gt; &lt;/span&gt;取指令的第&lt;span class="n"&gt;w个参数&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;回显命令而不是执行&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;比如&lt;span class="w"&gt; &lt;/span&gt;!&lt;span class="nb"&gt;ls&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;。&lt;span class="w"&gt; &lt;/span&gt;这个很有用，&lt;span class="w"&gt; &lt;/span&gt;你可以先查看你选的命令对不对，要执行时再使用!!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Bash相关文件&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;     /etc/profile 设置环境变量(所有用户) 
     ~/.bash_profile 设置环境变量(当前用户) 
     ~/.bashrc 
     ~/.bash_history 
     ~/.bash_logout
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;login shell 和 no-login shell&lt;/h4&gt;
&lt;p&gt;“login shell” 代表用户登入, 比如使用 “su -“ 命令, 或者用 ssh 连接到某一个服务器上, 都会使用该用户默认 shell 启动 login shell 模式.&lt;/p&gt;
&lt;p&gt;该模式下的 shell 会去自动执行 /etc/profile 和 ~/.profile 文件, 但不会执行任何的 bashrc 文件, 所以一般再 /etc/profile 或者 ~/.profile 里我们会手动去 source bashrc 文件.&lt;/p&gt;
&lt;p&gt;而 no-login shell 的情况是我们在终端下直接输入 bash 或者 bash -c “CMD” 来启动的 shell. 该模式下是不会自动去运行任何的 profile 文件.&lt;/p&gt;
&lt;h4&gt;bashrc 和 profile 的区别&lt;/h4&gt;
&lt;h5&gt;profile&lt;/h5&gt;
&lt;p&gt;其实看名字就能了解大概了, profile 是某个用户唯一的用来设置环境变量的地方, 因为用户可以有多个 shell 比如 bash, sh, zsh 之类的, 但像环境变量这种其实只需要在统一的一个地方初始化就可以了, 而这就是 profile.&lt;/p&gt;
&lt;h5&gt;bashrc&lt;/h5&gt;
&lt;p&gt;bashrc 也是看名字就知道, 是专门用来给 bash 做初始化的比如用来初始化 bash 的设置, bash 的代码补全, bash 的别名, bash 的颜色. 以此类推也就还会有 shrc, zshrc 这样的文件存在了, 只是 bash 太常用了而已.&lt;/p&gt;
&lt;hr&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;！76&lt;/span&gt;&lt;span class="w"&gt;                 &lt;/span&gt;&lt;span class="n"&gt;没有空格，运行history中76号指令&lt;/span&gt;
&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;把上个指令中的2改为1，并执行&lt;/span&gt;
&lt;span class="n"&gt;eg&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;196&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;家目录&lt;/span&gt;
&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;user1&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;user1的家目录&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;上一个目录&lt;/span&gt;

&lt;span class="n"&gt;touch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;建立&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;b两个文件&lt;/span&gt;
&lt;span class="n"&gt;touch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;将建立&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;aa&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ab两个文件&lt;/span&gt;
&lt;span class="n"&gt;touch&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="err"&gt;{}&lt;/span&gt;&lt;span class="n"&gt;作用：排列组合&lt;/span&gt;
&lt;span class="n"&gt;将建立四个文件&lt;/span&gt;

&lt;span class="n"&gt;使用指令运行结果作为输入&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;用&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n n-Quoted"&gt;``&lt;/span&gt;
&lt;span class="n"&gt;可以用在&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="n"&gt;中，优先级比&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="n"&gt;高&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;`command`&lt;/span&gt;&lt;span class="n"&gt;和$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;一样&lt;/span&gt;

&lt;span class="n"&gt;设置环境变量&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;
&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;$a&lt;/span&gt;

&lt;span class="n"&gt;用指令做数学运算&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;$&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;$a&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;let&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a=$b+1&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;用法：&lt;/span&gt;
&lt;span class="n"&gt;$&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;表达式&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;（表达式中的空格不影响结果）&lt;/span&gt;
&lt;span class="n"&gt;建议表达式中变量和运算符用空格隔开，并前后各保留一个空格（标准语法）&lt;/span&gt;
&lt;span class="n"&gt;eg&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;$&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;$a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;$b&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;除法结果只保留整数&lt;/span&gt;
&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;表示次方&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;（幂运算）&lt;/span&gt;

&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;反斜线&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;叫跳脱字元（符）&lt;/span&gt;
&lt;span class="n"&gt;可以把后面的字符按原本的样子呈现出来&lt;/span&gt;
&lt;span class="n"&gt;eg&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;your&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cost&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;$5&lt;/span&gt;&lt;span class="mf"&gt;.00&lt;/span&gt;
&lt;span class="n"&gt;结果显示&lt;/span&gt;
&lt;span class="n"&gt;your&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cost&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;.00&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;your&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cost&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;$5&lt;/span&gt;&lt;span class="mf"&gt;.00&lt;/span&gt;
&lt;span class="n"&gt;显示正常&lt;/span&gt;
&lt;span class="n"&gt;如果指令最后一行是&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;，表示下一行继续输入这个指令，（直接去掉换行符）&lt;/span&gt;

&lt;span class="n"&gt;单双引号的使用&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;显示目录里有那些文件&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;显示&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;显示&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;显示&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;

&lt;span class="n"&gt;单引号可以禁止所有特殊字符的功能&lt;/span&gt;
&lt;span class="n"&gt;双引号可以禁止大多数特殊字符的功能，除了以下四个&lt;/span&gt;
&lt;span class="n"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n n-Quoted"&gt;` ! &lt;/span&gt;
&lt;span class="n n-Quoted"&gt; &lt;/span&gt;
&lt;span class="n n-Quoted"&gt;echo  !3&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;显示 ls -l&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;!3被解释为历史输入中的第3个&lt;/span&gt;

&lt;span class="n n-Quoted"&gt;ctrl+r   搜索历史输入的指令&lt;/span&gt;

&lt;span class="n n-Quoted"&gt;将上个指令的最后一个参数补进来&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;用  按esc，松开，再按.   (dot)&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;或 按alt+.   &lt;/span&gt;

&lt;span class="n n-Quoted"&gt;bash的指令编辑模式&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;预设是emacs-style模式&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;切换到vi-style模式 &lt;/span&gt;
&lt;span class="n n-Quoted"&gt;set  -o  vi&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;set  -o  查看目前设定&lt;/span&gt;
&lt;span class="n n-Quoted"&gt; 这里的 -  是disable的意思&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;o是off的意思&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;停用vi编辑模式   set +o vi&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;切换到emacs模式  set  -o  emacs&lt;/span&gt;

&lt;span class="n n-Quoted"&gt;gnome-终端 快捷键&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;ctrl+shift+t 打开新标签&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;ctrl+pg up切换到写一个标签&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;ctrl+ pg dn切换到上一个标签&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;alt+N         N是数字，指定要切换到哪个标签&lt;/span&gt;
&lt;span class="n n-Quoted"&gt;ctrl+shift+w  关闭当前标签&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;readline库的键绑定&lt;/h2&gt;
&lt;p&gt;在bash里面键绑定有两种方式， 1是通过readline库的~/.inputrc文件实现。2是通过bash的内建命令bind实现。
bind 可以绑定a. bash命令 b. readline命令 c. 宏 （意思是在当前行中插入字符串）
bind 用法：&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;查询键绑定：
bind -l 列出所有readline函数
bind -p 列出所有readline函数 以及对应的键绑定
bind -s 显示绑定的键序列和对应的宏
bind -q function 查询那些键将执行function

设置键绑定：
bind &amp;#39;&amp;quot;keyseq&amp;quot;: command&amp;#39; 绑定一个readline功能
bind &amp;#39;&amp;quot;keyseq&amp;quot;:&amp;quot;keystrokes&amp;quot;&amp;#39; 绑定readline宏 （自动输入按键序列）
bind -x &amp;#39;&amp;quot;keyseq&amp;quot;: shell-command&amp;#39; 绑定shell命令 
bind -r keyseq 取消当前任何 keyseq 的关联


常见快捷键转义序列：
\C-    Ctrl 前缀
\M-    Meta 前缀
\e     一个 Esc 字符
keyseq是快捷键对应的转义序列， 支持多个快捷键和普通按键。可以使用 Ctrl-v 来查看快捷键对应的转义序列

一个例子：
bind &amp;#39;&amp;quot;\C-x\C-r&amp;quot;: re-read-init-file&amp;#39; # 先按ctrl+x, 在按ctrl+r
bind bind &amp;#39;&amp;quot;^Xb&amp;quot;: backward-kill-word&amp;#39; # 先按ctrl+x,在按b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="bash"></category></entry><entry><title>关于Linux内核学习</title><link href="/posts/2014/08/15/linux-kernel.html" rel="alternate"></link><published>2014-08-15T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-08-15:/posts/2014/08/15/linux-kernel.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;请推荐一些好的Linux内核参考书&lt;/span&gt;&lt;span class="err"&gt;？&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;Linux&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Device&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Drivers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Second&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Edition&lt;/span&gt;&lt;span class="err"&gt;》，&lt;/span&gt;&lt;span class="n"&gt;有中文译本&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;Understanding&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Linux&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Kernel&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;2&lt;/span&gt;&lt;span class="n"&gt;nd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Edition&lt;/span&gt;&lt;span class="err"&gt;》&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;Linux内核源代码情景分析&lt;/span&gt;&lt;span class="err"&gt;》，&lt;/span&gt;&lt;span class="n"&gt;分上下两册&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;d …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;请推荐一些好的Linux内核参考书&lt;/span&gt;&lt;span class="err"&gt;？&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;Linux&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Device&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Drivers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Second&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Edition&lt;/span&gt;&lt;span class="err"&gt;》，&lt;/span&gt;&lt;span class="n"&gt;有中文译本&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;Understanding&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Linux&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Kernel&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;2&lt;/span&gt;&lt;span class="n"&gt;nd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Edition&lt;/span&gt;&lt;span class="err"&gt;》&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;Linux内核源代码情景分析&lt;/span&gt;&lt;span class="err"&gt;》，&lt;/span&gt;&lt;span class="n"&gt;分上下两册&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="err"&gt;《&lt;/span&gt;&lt;span class="n"&gt;边干边学&lt;/span&gt;&lt;span class="err"&gt;－&lt;/span&gt;&lt;span class="n"&gt;Linux内核指导&lt;/span&gt;&lt;span class="err"&gt;》&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;

&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;请推荐一些源代码查看工具&lt;/span&gt;&lt;span class="err"&gt;？&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Windows系统可以用Source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Insight&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;Linux系统可以用Source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Navigator&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vim或emacs编辑器&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;配合cscope&lt;/span&gt;&lt;span class="err"&gt;、&lt;/span&gt;&lt;span class="n"&gt;ctags&lt;/span&gt;&lt;span class="err"&gt;、&lt;/span&gt;&lt;span class="n"&gt;etags等交叉索引工具&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vim或emacs编辑器&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;配合grep&lt;/span&gt;&lt;span class="err"&gt;、&lt;/span&gt;&lt;span class="n"&gt;egrep等文本搜索工具&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;不过最好要对源代码目录结构有所熟悉&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;LXR&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;以网页的形式通过浏览器浏览&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;安装复杂&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;可从http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;lxr&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;下&lt;/span&gt;
&lt;span class="n"&gt;载该工具也可以直接访问http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;lxr&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;source&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;在线阅读Linux内核源代码&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;

&lt;span class="mf"&gt;3.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;为什么看不到用printk打印的信息&lt;/span&gt;&lt;span class="err"&gt;？&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;打印消息受级别的限制&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;消息级别可以通过printk设置&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;如&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="kr"&gt;print&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;something&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;其中0&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="mf"&gt;7&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;假设控制台的消息级别为m&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;当n&lt;/span&gt;
&lt;span class="n"&gt;这样一方面可以提高要打印消息本身的级别&lt;/span&gt;&lt;span class="err"&gt;（&lt;/span&gt;&lt;span class="n"&gt;数字越小级别越高&lt;/span&gt;&lt;span class="err"&gt;），&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;另一方面可以改变控制台的消息级别&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;可从1到8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;如改为8可用以下命令&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;proc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="kr"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="kr"&gt;print&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;用dmesg命令看&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;当系统运行klogd和syslogd时&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;内核消息就会由klogd分发到syslogd&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="kr"&gt;sys&lt;/span&gt;&lt;span class="nb"&gt;log&lt;/span&gt;&lt;span class="n"&gt;d会根据配置文件&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="kr"&gt;sys&lt;/span&gt;&lt;span class="nb"&gt;log&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf作相应处理&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;具体可以查看syslogd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;和syslog&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conf的man页&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="kernel"></category></entry><entry><title>C语言深度解剖</title><link href="/posts/2014/08/06/programming-C.html" rel="alternate"></link><published>2014-08-06T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-08-06:/posts/2014/08/06/programming-C.html</id><summary type="html">&lt;p&gt;register 变量必须是一个单个的值，并且其长度应小于或等于整型的长度。 而且 register 变量可能不存放在内存中，所以不能用取址运 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;register 变量必须是一个单个的值，并且其长度应小于或等于整型的长度。 而且 register 变量可能不存放在内存中，所以不能用取址运算符“&amp;amp;”来获取 register 变量的地址。
 
static 静态全局变量，作用域仅限于变量被定义的文件中，其他文件即使用 extern 声明也没法
使用他。准确地说作用域是从定义之处开始，到文件结尾处结束，在定义之处前面的那些
代码行也不能使用它。想要使用就得在前面再加 extern ***。恶心吧？要想不恶心，很简单，
直接在文件顶端定义不就得了。&lt;/p&gt;
&lt;p&gt;静态局部变量，在函数体里面定义的，就只能在这个函数里用了，同一个文档中的其他
函数也用不了。由于被 static 修饰的变量总是存在内存的静态区，所以即使这个函数运行结
束，这个静态变量的值还是不会被销毁，函数下次使用时仍然能用到这个值。&lt;/p&gt;
&lt;p&gt;函数前加 static 使得函数成为静态函数。但此处“static”的含义不是指存储方式，而是指对函数的作用域仅局限于本文件(所以又称内部函数)。使用内部函数的好处是：不同的人编写不同的函数时，不用担心自己定义的函数，是否会与其它文件中的函数同名。
 
关键字 static 有着不寻常的历史。起初，在 C 中引入关键字 static 是为了表示退出一个
块后仍然存在的局部变量。随后，static 在 C 中有了第二种含义：用来表示不能被其它文件访问的全局变量和函数。为了避免引入新的关键字，所以仍使用 static 关键字来表示这第二种含义。
 
 
对在多个文件之间共同使用的全局变量或函数要加范围限定符(建议使用模块名
(缩写)作为范围限定符)。(GUI_ ，etc)
 
 特别注意的就是 1（数字 1）和 l（小写字母 l）之间，0（数字 0）和 o
（小写字母 o）之间的区别&lt;/p&gt;
&lt;p&gt;所有宏定义、枚举常数、只读变量全用大写字母命名，用下划线分割单词。&lt;/p&gt;
&lt;p&gt;float 变量与“零值”进行比较的 if 语句怎么写？
  
同样的也不要在很大的浮点数和很小的浮点数之间进行运算
 
一般来说习惯上用 n,m,i,j,k 等表示 int 类型的变量；c，ch 等表示字符类型变量；a 等表
示数组；p 等表示指针。当然这仅仅是一般习惯，除了 i,j,k 等可以用来表示循环变量外，别
的字符变量名尽量不要使用。 &lt;/p&gt;
&lt;p&gt;程序中不得出现仅靠大小写区分的相似的标识符。&lt;/p&gt;
&lt;p&gt;定义变量的同时千万千万别忘了初始化。定义变量时编译器并不一定清空了 这块内存，它的值可能是无效的数据。&lt;/p&gt;
&lt;p&gt;case 后面只能是整型或字符型的常量或常量表达式（想想字符型数据在内存里
是怎么存的
 
有时候，你只剩下了最后一种情况需要处理，于是就决定把这种情况用 default 子句来
处理。这样也许会让你偷懒少敲几个字符，但是这却很不明智。这样将失去 case 语句的标
号所提供的自说明功能，而且也丧失了使用 default 子句处理错误情况的能力。
 
 
在多重循环中，如果有可能，应当将最长的循环放在最内层，最短的循环放
在最外层，以减少 CPU 跨切循环层的次数
 
长循环在最内层，效率高&lt;/p&gt;
&lt;p&gt;当循环嵌套超过 3 层，程序员对循环的理解能力会极大的降低。&lt;/p&gt;
&lt;p&gt;void *则不同，任何类型的指针都可以直接赋值给它，无需进行强制类型转换：&lt;/p&gt;
&lt;p&gt;在 C 语言中，凡不加返回值类型限定的函数，就会被编译器作为返回整型值处理&lt;/p&gt;
&lt;p&gt;在 C 语言中，可以给无参数的函数传送任意类型的参数，
但是在 C++编译器中编译同样的代码则会出错
无论在 C 还是 C++中，若函数不接受任何参数，一定要指明参数为 void。
 &lt;/p&gt;
&lt;p&gt;要求余数与被除数的正负号相同&lt;/p&gt;</content><category term="programming"></category><category term="programming"></category><category term="C"></category></entry><entry><title>apue读书笔记</title><link href="/posts/2014/06/23/apue-note.html" rel="alternate"></link><published>2014-06-23T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-06-23:/posts/2014/06/23/apue-note.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;打印出错信息：
Strerror  perror
一个unix惯例是把argv[0]作为参数传递给perror
好处是当用管道连接多个程序时，能分清错误是哪一个产生 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;打印出错信息：
Strerror  perror
一个unix惯例是把argv[0]作为参数传递给perror
好处是当用管道连接多个程序时，能分清错误是哪一个产生的。

可以free（NULL）

 fork  ，pthread create 之前要fflsh(null) 刷新缓存区
否则可能会输出两次
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="programming"></category><category term="python"></category></entry><entry><title>linux错误执行chmod 777 / 的处理方法</title><link href="/posts/2014/06/11/chmod777.html" rel="alternate"></link><published>2014-06-11T20:50:00+08:00</published><updated>2022-07-26T18:17:52+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-06-11:/posts/2014/06/11/chmod777.html</id><summary type="html">&lt;h4&gt;setfacl&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;getfacl -R / &amp;gt;systemP.bak&lt;/code&gt;  将这个系统中的 / ，以及 / 底下所有的文件及目录权限导出到一个文件中&lt;/li&gt;
&lt;li&gt;将systemP.bak文件想办法拷贝到被破坏的机 …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;h4&gt;setfacl&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;getfacl -R / &amp;gt;systemP.bak&lt;/code&gt;  将这个系统中的 / ，以及 / 底下所有的文件及目录权限导出到一个文件中&lt;/li&gt;
&lt;li&gt;将systemP.bak文件想办法拷贝到被破坏的机器上   并执行
&lt;code&gt;setfacl --restore=systemP.bak&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;进行手动恢复命令权限&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;chmod u+s `which passwd`
chmod u+s `which su`
chmod u+s `which sudo`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>C语言零长数组</title><link href="/posts/2014/03/23/zero-length-array.html" rel="alternate"></link><published>2014-03-23T18:28:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-03-23:/posts/2014/03/23/zero-length-array.html</id><summary type="html">&lt;p&gt;前言：计算机语言是编译器和程序员交流的依据和规范，GNU C是GCC特有的功能，在Linux内核中被广泛应用。&lt;/p&gt;
&lt;p&gt;帮助文档：http://gcc.gnu.org …&lt;/p&gt;</summary><content type="html">&lt;p&gt;前言：计算机语言是编译器和程序员交流的依据和规范，GNU C是GCC特有的功能，在Linux内核中被广泛应用。&lt;/p&gt;
&lt;p&gt;帮助文档：http://gcc.gnu.org/onlinedocs/gcc-4.6.2/gcc/C-Extensions.html#C-Extensions&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;int *p;
p=(int[]){99};
GCC 临时变量
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;1、零长数组&lt;/h2&gt;
&lt;p&gt;GNU C允许声明长度为零的数组，但它只能被用于结构体的最后一个成员。&lt;/p&gt;
&lt;p&gt;举例，如清单1： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="cp"&gt;#include &lt;/span&gt;
&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;line&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;letter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;line&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;line&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;malloc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;letter&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sizeof(struct line) = %d&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;line&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%c &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="o"&gt;-&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;例子输出结果： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sizeof(struct line) = 4  
A B C D E F G H I
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;如例子中的第6行，contents就是一个零长数组，在sizeof看来它所占的空间为零。&lt;/p&gt;
&lt;h2&gt;在ISO C99中，使用变长数组也可以实现同样的功能，如清单2：&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;char&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="err"&gt;[]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;sizeof(struct line) = %d\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;sizeof(thisline) = %d\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thislinelengthispan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;%c &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thisline&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contents&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;例子输出结果： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sizeof(struct line) = 4  
sizeof(thisline) = 4  
1 2 3 4 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;变长数组是不完全数据类型，不能使用sizeof获得它的大小。&lt;/p&gt;
&lt;p&gt;注意，此结构体的变量必须在函数外定义和初始化，否则会报错： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="kd"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;initialization&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;flexible&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;member&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;near&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;initialization&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;thisline&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="err"&gt;不能使用这样的形式：&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;

&lt;span class="n"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mystruct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="n"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;[];&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="o"&gt;};&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="err"&gt;否则会报错：&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;flexible&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;member&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;otherwise&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;struct&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2、变长数组&lt;/h3&gt;
&lt;p&gt;在支持变长数组之前，C语言数组的大小是在声明时确定的（下标是一个常量表达式）并一直保持不变。所谓变长数组就是指数组的大小可以在运行时指定，如清单3： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;scanf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;%d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;sizeof(arr[%d]) = %d\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;例子输出结果： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sizeof(arr[6]) = 24 //输入数字6
sizeof(arr[9]) = 36 //输入数字9
    输入不同的值，数组的大小随之改变。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;变长数组作为参数进行传递的例子，如清单4： &lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;numispan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="err"&gt;[]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="nc"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="err"&gt;[]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;a[] total value: %d\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;b[] total value: %d\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sizeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;例子输出结果：&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;a[] total value: 10  
b[] total value: 45  
    函数sum形参中的arr可以匹配任意的一维整型数组。
    注意，num一定要声明在变长数组arr之前。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="programming"></category><category term="programming"></category><category term="C"></category></entry><entry><title>vim使用</title><link href="/posts/2014/03/13/vim-usage.html" rel="alternate"></link><published>2014-03-13T00:00:00+08:00</published><updated>2023-08-20T15:41:53+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2014-03-13:/posts/2014/03/13/vim-usage.html</id><summary type="html">&lt;p&gt;&lt;img alt="vim" src="/posts/2014/03/13/vi-vim-cheat-sheet-sch1.gif"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://app.waibc.com/manual/vimcdoc/doc/help.html"&gt;vim帮助文档（中文）&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;VIM使用&lt;/h1&gt;
&lt;h2&gt;插入模式&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;i     从当前光标处进入插入模式
I     进入插入模式，并置光标于行首
a     追加模式，置光标于 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="vim" src="/posts/2014/03/13/vi-vim-cheat-sheet-sch1.gif"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://app.waibc.com/manual/vimcdoc/doc/help.html"&gt;vim帮助文档（中文）&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;VIM使用&lt;/h1&gt;
&lt;h2&gt;插入模式&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;i     从当前光标处进入插入模式
I     进入插入模式，并置光标于行首
a     追加模式，置光标于当前光标之后
A     追加模式，置光标于行末
o     在当前行之下新加一行，并进入插入模式
O     在当前行之上新加一行，并进入插入模式
Esc     退出插入模式
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;移动光标和滚动屏幕&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;上&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;下&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;左&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;右&lt;/span&gt;
&lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;移动光标到当前屏幕上最上边的一行&lt;/span&gt;
&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;移动光标到当前屏幕上中间的一行&lt;/span&gt;
&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;移动光标到当前屏幕上最下边的一行&lt;/span&gt;

&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;向下翻半页&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;向上翻半页&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;上翻一页&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;下翻一页&lt;/span&gt;

&lt;span class="n"&gt;gg&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;跳至文件的第一行&lt;/span&gt;
&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到文件最后一行&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;跳到第N行&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;如0G&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;就等价于gg&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="n"&gt;G就是第100行&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;跳到第N行&lt;/span&gt;

&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳至行首&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;不管有无缩进&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;就是跳到第0个字符&lt;/span&gt;
&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳至行首的第一个字符&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳至行尾&lt;/span&gt;


&lt;span class="n"&gt;文字段落&lt;/span&gt;
&lt;span class="o"&gt;--------------&lt;/span&gt;
&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到下一个字首&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;按标点或单词分割&lt;/span&gt;
&lt;span class="n"&gt;W&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到下一个字首&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;长跳&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;如end&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;of&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;line被认为是一个字&lt;/span&gt;
&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到下一个字尾&lt;/span&gt;
&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到下一个字尾&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;长跳&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到上一个字&lt;/span&gt;
&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳到上一个字&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;长跳&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;跳到上一个句子&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;跳到下一个句子&lt;/span&gt;
&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;跳到上一个段落&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;跳到下一个段落&lt;/span&gt;

&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;[ 跳往上一个函式(markdown 可以跳到下一标题，很好用)&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;跳往下一个函式&lt;/span&gt;


&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;可以查找配对的括号&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;、]、}。&lt;/span&gt;
&lt;span class="n"&gt;gd&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;跳至当前光标所在的变量的声明处&lt;/span&gt;
&lt;span class="n"&gt;fx&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;在当前行中找x字符&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;找到了就跳转至&lt;/span&gt;
&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;重复上一个f命令&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;而不用重复的输入fx&lt;/span&gt;
&lt;span class="n"&gt;tx&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;与fx类似&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;但是只是跳转到x的前一个字符处&lt;/span&gt;
&lt;span class="n"&gt;Fx&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;跟fx的方向相反&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;编辑和保存&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;复制粘贴
dd     删除光标所在行
dw     删除一个字(word)
x     删除当前字符
X     删除前一个字符
D     删除到行末
yy     复制一行，此命令前可跟数字，标识复制多行，如6yy，表示从当前行开始复制6行
yw     复制一个字
y$     复制到行末
p     粘贴粘贴板的内容到当前行的下面
P     粘贴粘贴板的内容到当前行的上面
]p     有缩进的粘贴，vim会自动调节代码的缩进
&amp;quot;a     将内容放入/存入a寄存器，可以支持多粘贴板
附：比如常用的一个寄存器就是系统寄存器，名称为+，所以从系统粘贴板粘贴到vim中的命令为&amp;quot;+p,注意此处的+不表示操作符，二十一个寄存器。

u  撤销（undo）
ctrl+r    反撤销
x   删除一个字符
R   进入覆盖模式
退格键 取消覆盖

编辑
r     替换一个字符
J     将下一行和当前行连接为一行
cc     删除当前行并进入编辑模式
cw     删除当前单词，并进入编辑模式
c$     擦除从当前位置至行末的内容，并进入编辑模式
s     删除当前字符并进入编辑模式
S     删除光标所在行并进入编辑模式
xp     交换当前字符和下一个字符
u     撤销
ctrl+r     重做
.     重复上一个编辑命令
~     切换大小写，当前字符
g~iw     切换当前字的大小写
gUiw     将当前字变成大写
guiw     将当前字变成小写

:w     将缓冲区写入文件，即保存修改
:wq     保存修改并退出
:x     保存修改并退出
:q     退出，如果对缓冲区进行过修改，则会提示
:q!     强制退出，放弃修改
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;标记文本&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;v     进入可视模式，单字符模式
V     进入可视模式，行模式
ctrl+v     进入可视模式，列模式，类似于UE的列模式
o     跳转光标到选中块的另一个端点
O     跳转光标到选中块的另一个端点（同上）
U     将选中块中的内容转成大写
aw     选中一个字
ab     选中括号中的所有内容，包括括号本身
aB     选中{}括号中的所有内容
ib     选中括号中的内容，不含括号
iB     选中{}中的内容，不含{}

对标记进行动作
&amp;gt;     块右移
&amp;lt;     块左移
y     复制块
d     删除块
~     切换块中内容的大小写
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;缩进&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;     将当前行右移一个单位
&amp;lt;&amp;lt;     将当前行左移一个单位(一个tab符)
==     自动缩进当前行
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;标示位置&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;你可以先做标记再随时返回被标记的位置.

m char  把这个地方标示成 char
&amp;#39; char  跳到被标为 char的那一行
&amp;#39;&amp;#39; (按两次&amp;#39;) 回到刚才的位置

char 可以是小写的 a-z中的任一个。 一个标记在除了下面的这两种情况外会一直存在

1) 重覆使用相同的标示 char
或 2) 删掉了被标示的那一行
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;标签页，窗口和buffer&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;同时编辑多个文件&lt;/span&gt;
&lt;span class="n"&gt;在vim众多的插件中&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;有一个叫minibuffer的插件&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;就是下面所说的标签页功能了&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;可以支持同时编辑多个文件&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;

&lt;span class="nl"&gt;标签命令&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;tabe&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;在一个新的标签页中编辑文件fn&lt;/span&gt;
&lt;span class="n"&gt;gt&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;切换到下一个标签页&lt;/span&gt;
&lt;span class="n"&gt;gT&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;切换到上一个标签页&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;tabr&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;切换到第一个标签页&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;tabl&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;切换到最后一个标签页&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;tabm&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;把当前tab移动到第N个tab之后&lt;/span&gt;
&lt;span class="n"&gt;对&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;正如你所想象的那样&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;跟eclipse&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ue等的标签页是一个意思&lt;/span&gt;&lt;span class="err"&gt;！&lt;/span&gt;

&lt;span class="nl"&gt;窗口命令&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;水平分割窗口&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;垂直分割窗口&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;水平分割窗口&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;vsplit&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;垂直分割窗口&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;切换窗口&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;hjkl&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;按方向切换窗口&lt;/span&gt;
&lt;span class="n"&gt;ctrl&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;退出当前窗口&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;由于同时有多个文件&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;此命令不会影响其他窗口&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nl"&gt;buffer操作&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;显示所有buffer&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;badd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;&lt;span class="n"&gt;fname&lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;添加文件到缓冲区列表&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;bd&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;elete&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;删除缓冲区&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;关闭文件&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;edit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;file&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;把file加载到新的缓冲区中&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;bf&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;irst&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳转到第一个缓冲区&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;bl&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ast&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳转到最后一个缓冲区&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;bp&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳转到上一个缓冲区&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;bn&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳转到下一个缓冲区&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;vim配置&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;set nu sts=4 ts=4 sw=4 et si ai
nu是显示行号，ts是tabstop，sts是softtabstop，sw是shiftwidth，这三个参数是指代啥我都忘了，就知道是和tab制表符相关的。
et是expandtab，即把自动把一个tab扩展为空格。si是smart indent，ai是auto indent，有何区别呢？

完整的Vim配置，如下：
set nu sts=4 ts=4 sw=4 et si ai
set ruler
set hlsearch
syntax on
filetype plugin on

ruler是在右下角显示光标当前位置
hlsearch是高亮搜索关键字
最后把根据文件类型作相关调整的插件也打开。例如Makefile里是必须要用到tab制表符的，即使你之前设置了expandtab，设置了filetype plugin on之后，按tab也不会用空格代替制表符。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;其他&lt;/h2&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;高级一些的编辑器&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;都会包含宏功能&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;vim当然不能缺少了&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;在vim中使用宏是非常方便的&lt;/span&gt;&lt;span class="err"&gt;：&lt;/span&gt;

&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;qx&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;开始记录宏&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;并将结果存入寄存器x&lt;/span&gt;
&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;退出记录模式&lt;/span&gt;
&lt;span class="nv"&gt;@x&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;播放记录在x寄存器中的宏命令&lt;/span&gt;
&lt;span class="n"&gt;稍微解释一下&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="nl"&gt;当在normal模式下输入&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;qx后&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;你对文本的所有编辑动作将会被记录下来&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;再次输入q即退出了记录模&lt;/span&gt;
&lt;span class="n"&gt;式&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;然后输入&lt;/span&gt;&lt;span class="nv"&gt;@x对刚才记录下来的命令进行重复&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;此命令后可跟数字&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;表示要重复多少次&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;比如&lt;/span&gt;&lt;span class="nv"&gt;@x20&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;可以重复20次&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="n"&gt;这个在文本的批处理中是非常有用的&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;

&lt;span class="n"&gt;查找替换&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;向后搜索字符串pattern&lt;/span&gt;
&lt;span class="vm"&gt;?&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;向前搜索字符串pattern&lt;/span&gt;
&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;下一个匹配&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;如果是&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;搜索&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;则是向下的下一个&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="vm"&gt;?&lt;/span&gt;&lt;span class="n"&gt;搜索则是向上的下一个&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;上一个匹配&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;同上&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;old&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;搜索整个文件&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;将所有的old替换为new&lt;/span&gt;
&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;old&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gc&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;搜索整个文件&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;将所有的old替换为new&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;每次都要你确认是否替换&lt;/span&gt;
&lt;span class="n"&gt;要替换两行之间出现的每个匹配串&lt;/span&gt;
&lt;span class="n"&gt;输入&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="err"&gt;:#&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;#s&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;old&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;其中&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;代表的是替换操作的若干行中首尾两行的行号&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;


&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;查找光标所在处的单词&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;向下查找&lt;/span&gt;
&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;查找光标所在处的单词&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;向上查找&lt;/span&gt;
&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;跳转至上次编辑位置&lt;/span&gt;



&lt;span class="n"&gt;要向当前文件中插入另外的文件的内容&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;请输入&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;FILENAME&lt;/span&gt;
&lt;span class="err"&gt;：&lt;/span&gt;&lt;span class="n"&gt;您还可以读取外部命令的输出&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="n"&gt;例如&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;可以读取&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;命令的输出&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;并把它放置在光标下面&lt;/span&gt;

&lt;span class="n"&gt;仅在一次查找时忽略字母大小写&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;您可以使用&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="err"&gt;：&lt;/span&gt;
&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;ignore&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;回车&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;vim要回到您之前的位置按&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;CTRL&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;按住&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Ctrl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;键不放同时按下字母&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="n"&gt;重复按可以&lt;/span&gt;
&lt;span class="n"&gt;回退更多步&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;&lt;span class="n"&gt;CTRL&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;会跳转到较新的位置&lt;/span&gt;&lt;span class="err"&gt;。&lt;/span&gt;

&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="n"&gt;termianl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;打开一个终端窗口&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="editor"></category><category term="editor"></category><category term="vim"></category></entry><entry><title>mail命令，收发邮件</title><link href="/posts/2013/09/29/linux-command-mail.html" rel="alternate"></link><published>2013-09-29T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2013-09-29:/posts/2013/09/29/linux-command-mail.html</id><summary type="html">&lt;p&gt;常用命令行邮件客户端有mail（mailx）和mutt&lt;/p&gt;
&lt;h3&gt;发邮件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;主题&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;收件人&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;代表发邮件&lt;/span&gt;
&lt;span class="n"&gt;收件人可以用本机的用户名&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;如帐号&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;user1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;或者一 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;常用命令行邮件客户端有mail（mailx）和mutt&lt;/p&gt;
&lt;h3&gt;发邮件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;主题&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;收件人&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;代表发邮件&lt;/span&gt;
&lt;span class="n"&gt;收件人可以用本机的用户名&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;如帐号&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;user1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;或者一般的邮件地址&lt;/span&gt;
&lt;span class="n"&gt;如&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;writebug&lt;/span&gt;&lt;span class="nv"&gt;@qq&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;测试了QQ邮箱&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;真的收到了&lt;/span&gt;


&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;“&lt;/span&gt;&lt;span class="n"&gt;abcdef&lt;/span&gt;&lt;span class="err"&gt;”&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;user1&lt;/span&gt;
&lt;span class="n"&gt;然后输入正文&lt;/span&gt;
&lt;span class="n"&gt;结束输入要在新的一行&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;按&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;再按回车&lt;/span&gt;
&lt;span class="n"&gt;或ctrl&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;
&lt;span class="n"&gt;这时会出现&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nl"&gt;Cc&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="n"&gt;意思是邮件副本&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;可以寄给另外一个人&lt;/span&gt;

&lt;span class="n"&gt;但邮件正文来自文件时&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;用mail&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;“&lt;/span&gt;&lt;span class="n"&gt;abcdef&lt;/span&gt;&lt;span class="err"&gt;”&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;user1&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;阅读邮件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mail
z 显示下一个窗口里面所有消息 （邮件列表）
z- 显示上一个窗口里面所有消息
r 阅读邮件，后面跟上id
d 删除邮件
u 撤销删除
q 退出
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>linux 查看info文档</title><link href="/posts/2013/09/27/linux-info.html" rel="alternate"></link><published>2013-09-27T17:59:00+08:00</published><updated>2023-08-10T21:56:02+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2013-09-27:/posts/2013/09/27/linux-info.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;info &amp;lt;command&amp;gt;
info 比man 更详细
info 中 按tab 跳到下一个 连接 （有*的，可以连接到其他info）
按enter跳转
空格或者page down翻页

n按键跳到下一个小 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;info &amp;lt;command&amp;gt;
info 比man 更详细
info 中 按tab 跳到下一个 连接 （有*的，可以连接到其他info）
按enter跳转
空格或者page down翻页

n按键跳到下一个小节
p跳到上一个小节
u跳到上一层
&amp;lt; 跳到第一节
&amp;gt; 跳到最后一节
s查找关键字
q离开
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>命令参数</title><link href="/posts/2013/09/27/linux-command.html" rel="alternate"></link><published>2013-09-27T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2013-09-27:/posts/2013/09/27/linux-command.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;less
 按v进入编辑模式 （实际上是调用了vi）
/text 查找text
n 查找下一个
空格或enter，下一页
b上一页
ctrl+d下半页
ctrl+u上半页
g回 …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;less
 按v进入编辑模式 （实际上是调用了vi）
/text 查找text
n 查找下一个
空格或enter，下一页
b上一页
ctrl+d下半页
ctrl+u上半页
g回到最顶端
G最末端
===============================
cat -A 显示换行符
-s 压缩多个空白行，变成一行
-b 显示行号
===============================
ldd 命令  查看程序运行时要加载的库
ssh -YC
dconf
hostapd
Doxygen 文档系统
ping命令有个audible ping参数，-a，当它终于ping通你的服务器时会让小喇叭叫起来。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>learn-grub2</title><link href="/posts/2013/09/26/grub2.html" rel="alternate"></link><published>2013-09-26T00:47:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2013-09-26:/posts/2013/09/26/grub2.html</id><summary type="html">&lt;h2&gt;设备的命名&lt;/h2&gt;
&lt;p&gt;grub2同样以fd表示软盘，hd表示硬盘（包含IDE和SCSI硬盘）。设备是从0开始编号，分区则是从1开始，主分区从1-4，逻辑 …&lt;/p&gt;</summary><content type="html">&lt;h2&gt;设备的命名&lt;/h2&gt;
&lt;p&gt;grub2同样以fd表示软盘，hd表示硬盘（包含IDE和SCSI硬盘）。设备是从0开始编号，分区则是从1开始，主分区从1-4，逻辑分区从5开始，而grub分区编号是从0开始的。下面给出几个例子 ：&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(fd0)：表示整个软盘
(hd0,1)：表示BIOS中的第一个硬盘的第1个分区
(hd0,5)/boot/vmlinuz：表示BIOS中的第一个硬盘的第一个逻辑分区下的boot目录下的vmlinuz文件
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;按c进入命令行状态，按Tab键可查看所有可用的命令&lt;/p&gt;
&lt;p&gt;按e进入己选择菜单的编辑状态，在编辑状态下，由上下左右箭号来移动光标，enter键换行，ctrl+x以编辑的内容启动，ctrl+c进命令行状态，按Esc退出，回到菜单项。&lt;/p&gt;
&lt;p&gt;在需要使用额外的内核参数启动时，比如要加上acpi=off时，把光标移动到linux这一行最后，在splash后加上一空格再输入acpi=off，然后按ctrl+x启动。&lt;/p&gt;
&lt;p&gt;grub2中一些常用的命令
```
1)help
    查看命令用法，如
help search：查看search命令详细用法
2)set
    设置变量值，如
set default=0
set timeout=5
set root=(hd0,3)等等
    需要调用变量AA的值时，使用${AA}，如set root=(hd1,1)，则${root}=(hd1,1)
3)default
    定义默认引导的操作系统。0 表示第一个操作系统，1表示第2个，依此类推
4)timeout
    定义在时间内用户没有按下键盘上的某个按键，自动引导default指定的操作系统。
5)root
    指定用于启动系统的分区。
6)insmod和rmmod
    加载或移除某模块，如
insmod jpeg
insmod png
insmod ntfs
rmmod png
等&lt;/p&gt;
&lt;p&gt;7)drivemap
drivemap兼容grub的map，主要用于只能从第一硬盘(hd0)引导启动的系统如 win2000 xp 2003，比如要添加第二硬盘第一分区上的xp系统：
menuentry "Windows XP" {
set root=(hd1,1)
drivemap -s (hd0) ${root}
chainloader +1
}&lt;/p&gt;
&lt;p&gt;8)ls
    列出当前的所有设备。如(hd0)，(hd0,1)，(hd0,5)，(hd1)，(hd1,1)，(hd1,2)等
ls -l
    详细列出当前的所有设备。对于分区，会显示其label及uuid。
ls /
    列出当前设为root的分区下的文件
ls (hd1,1)/
    列出(hd1,1)分区根目录的文件&lt;/p&gt;
&lt;p&gt;9)search
search -f /ntldr
    列出根目录里包含ntldr文件的分区，返回为分区号
search -l LINUX
    搜索label是LINUX的分区。
search --set -f /ntldr
    搜索根目录包含ntldr文件的分区并设为root，注意如果多个分区含有ntldr文件，
set失去作用。&lt;/p&gt;
&lt;p&gt;10)loopback
loopback命令可用于建立回放设备，如
loopback lo0 (hd1,1)/abc.iso
    可以使用lo0设备来访问abc.iso里的内容，比如说，可以从abc.iso里的软盘映像中启动
loopback lo0 (hd1,1)/aa.iso
linux (lo0)/memdisk
initrd (lo0)/abc.img
    要删除某一回放设备，可以使用-d参数：
loopback -d lo0&lt;/p&gt;
&lt;p&gt;11)pager
    分页显示。
set pager=1
    显示满一页时暂停，按space继续
set pager=0
    取消分页显示&lt;/p&gt;
&lt;p&gt;12)linux
    用linux命令取代grub中的kernel命令&lt;/p&gt;
&lt;p&gt;13)chainloader
    调用另一个启动器，如
chainloader (hd0,1)+1
    调用第一硬盘第一分区引导扇区内的启动器，可以是windows或linux的启动器&lt;/p&gt;</content><category term="bootloader"></category><category term="linux"></category><category term="bootloader"></category></entry><entry><title>grub4dos-menu</title><link href="/posts/2013/09/10/grub4dos-menu-lst.html" rel="alternate"></link><published>2013-09-10T17:37:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2013-09-10:/posts/2013/09/10/grub4dos-menu-lst.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;black&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cyan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;yellow&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cyan&lt;/span&gt;
&lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;
&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;

&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;
&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vmlinuz&lt;/span&gt;
&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vmlinuz&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;casper&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;scan&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;quiet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;splash&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;locale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zh_CN&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;UTF&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;
&lt;span class="n"&gt;initrd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;initrd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lz&lt;/span&gt;

&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;启动&lt;/span&gt;&lt;span class="n"&gt;winpe迷你系统&lt;/span&gt;
&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;black&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cyan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;yellow&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cyan&lt;/span&gt;
&lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;
&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;

&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;
&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vmlinuz&lt;/span&gt;
&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vmlinuz&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;casper&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;scan&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;quiet&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;splash&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;locale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zh_CN&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;UTF&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;
&lt;span class="n"&gt;initrd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;initrd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lz&lt;/span&gt;

&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;启动&lt;/span&gt;&lt;span class="n"&gt;winpe迷你系统&lt;/span&gt;
&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;
&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iso&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mh"&gt;0xff&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;hook&lt;/span&gt;
&lt;span class="n"&gt;chainloader&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mh"&gt;0xff&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;启动&lt;/span&gt;&lt;span class="n"&gt;MAXDOS工具箱&lt;/span&gt;
&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;imgs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;maxdos&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;
&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;boot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;imgs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;maxdos&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;hook&lt;/span&gt;
&lt;span class="n"&gt;chainloader&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;rootnoverify&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;关闭计算机&lt;/span&gt;
&lt;span class="n"&gt;halt&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="bootloader"></category><category term="bootloader"></category><category term="linux"></category></entry><entry><title>linux书籍推荐</title><link href="/posts/2013/09/10/linux-books.html" rel="alternate"></link><published>2013-09-10T00:00:00+08:00</published><updated>2023-02-21T09:52:21+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2013-09-10:/posts/2013/09/10/linux-books.html</id><summary type="html">&lt;h1&gt;书籍推荐&lt;/h1&gt;
&lt;h2&gt;在线学习&lt;/h2&gt;
&lt;h3&gt;在线基础学习&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《鸟哥的Linux私房菜 基础篇（第三版）》在线阅读（推荐）&lt;/li&gt;
&lt;li&gt;《鸟哥的Linux私房菜 服务器篇（第三版）》在线阅 …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h1&gt;书籍推荐&lt;/h1&gt;
&lt;h2&gt;在线学习&lt;/h2&gt;
&lt;h3&gt;在线基础学习&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《鸟哥的Linux私房菜 基础篇（第三版）》在线阅读（推荐）&lt;/li&gt;
&lt;li&gt;《鸟哥的Linux私房菜 服务器篇（第三版）》在线阅读（推荐）&lt;/li&gt;
&lt;li&gt;IterCast：免费的专业Linux视频、教学、问答及交流平台（推荐）&lt;/li&gt;
&lt;li&gt;Linux From Scratch：从源代码编译Linux系统中文版&lt;/li&gt;
&lt;li&gt;Linux中文man在线手册 已经完全汉化&lt;/li&gt;
&lt;li&gt;Linux 常用命令速查 可按分类查询&lt;/li&gt;
&lt;li&gt;开源世界旅行手册（较缓慢更新中）&lt;/li&gt;
&lt;li&gt;51CTO:大量Linux书籍在线阅读&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;在线编程学习&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Linux C编程一站式学习:本书定位在入门级，虽然内容很多，但不是一本百科全书，除了C语言基本要讲透之外其它内容都不深入，书中列出了很多参考资料，是读者进一步学习的起点。&lt;/li&gt;
&lt;li&gt;简明 Python 教程:无论您刚接触电脑还是一个有经验的程序员，本书都将有助您学习使用Python语言。&lt;/li&gt;
&lt;li&gt;w3school 在线教程:在w3school，你可以找到你所需要的所有的网站建设教程。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;书籍推荐&lt;/h2&gt;
&lt;h3&gt;基础入门（必读其一）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《Linux其实很简单》作者为刘金鹏，是网上《笨兔兔的故事》的实体书，本书是一本与众不同的Linux入门读物。将技术图书也以风趣幽默的风格一一道来。书中以一个拟人化的Ubuntu操作系统为主角，以Ubuntu 10.04为基础，讲解了Ubuntu系统从安装、配置，到搭建开发平台、投入使用的过程。适合没有基础知识的朋友。&lt;/li&gt;
&lt;li&gt;《完美应用Ubuntu（第二版）》作者为何晓龙、李明 ，本书将向您展示一个年轻的Linux发行版——Ubuntu，一个产生于太空中的崇高梦想，从初识到安装，从使用到管理，《完美应用Ubuntu》秉承开源社区所践行并传播的“乐于分享、待他人”的Ubuntu理念，向您阐释如何完美应用Ubuntu。适合有较少基础知识的朋友。&lt;/li&gt;
&lt;li&gt;《Ubuntu Linux从初学到精通》作者为华清远见嵌入式培训中心/潘光洋，本书详述了Ubuntu Linux的安装和使用。其中内容包括了Linux操作系统的概述、Ubuntu系列操作系统的安装、Ubuntu的多种桌面环境、Ubuntu的命令操作、Ubuntu中常用软件的安装与使用、Ubuntu服务器的应用，以及Ubuntu环境下的编程。适合刚使用Ubuntu Linux操作系统的普通用户和系统管理员，同时也适合以Ubuntu为开发环境的开发者。&lt;/li&gt;
&lt;li&gt;《鸟哥的Linux私房菜 基础学习篇（第三版）》作者为：台湾Linux达人鸟哥（Mr蔡），是中国最具知名度的Linux入门书（知名度相当于谭浩强的C语言程序设计），全面而详细地介绍了Linux操作系统。适合有一定基础的朋友。推荐！&lt;/li&gt;
&lt;li&gt;《LINUX权威指南》作者为Matt Welsh、Matthias Dalheimer、Kaufman，译者:为洪峰，本书包含了其他任何Linux文档资料中都没有涉及到的主题，本书包括你应该理解的一切，还有怎样安装，怎样使用Linux操作系统。本书包含完整的安装指导教程，系统维护的完整信息、文档开发和编程工具、网络管理的指导原则。适合基础知识较扎实的朋友。推荐！！&lt;/li&gt;
&lt;li&gt;《Linux Kernel in a nutshell》 作者为Greg Kroah-Hartman，该书的作者为 Linux 内核的主要开发者与维护者，如果你想知道怎样在你的机器上构建、配置、并安装一个定制的 Linux 内核的话，那么开始阅读此书吧。&lt;/li&gt;
&lt;li&gt;《Linux系统管理技术手册》作者为Evi Nemeth 、Trent R.Hein 、Garth Snyder，本书以当前主流的5种Linux发行版本（RedHatES、SUSE、Debian、FedoraCore和Ubuntu）为例，把Linux系统管理技术分为3个方面分别介绍。第1部分全面介绍了运行单机Linux系统涉及的各种管理知识和技术，如系统引导和关机、进程控制、文件系统管理、用户管理、设备管理、系统备份、软件配置以及cron和系统曰志的管理使用等。第2部分从详细讲解TCP/IP协议基本原理开始，深入讨论了网络的两大基本应用——域名系统和路由技术，然后逐章讲解Linux上的各种Internet关键应用，如电子邮件、NFS、文件共享、Web托管和Intemet服务，在这部分里还有专门的章节介绍网络硬件、网络管理与调试以及系统...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注意：以上书籍，必须选读一本，以备下一阶段的分类入门做好扎实的基础。
想尝试接触Linux(Ubuntu)的朋友，推荐选读《Linux其实很简单》、《完美应用Ubuntu（第二版）》或《Ubuntu Linux从初学到精通》其一（后2本感觉差不多）。
想深入研究以下分类的朋友，务必选读《鸟哥的Linux私房菜 基础学习篇（第三版）》或者《LINUX权威指南》其一。&lt;/p&gt;
&lt;h3&gt;分类入门（分类选读）&lt;/h3&gt;
&lt;h4&gt;驱动入门&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;《LINUX设备驱动程序》作者为JonahanCorbet，本书描述了如何针对各种设备编写驱动程序，就是网上说的“LDD”，经典之作，必备书籍。&lt;/li&gt;
&lt;li&gt;《Linux驱动详细解》书中源代码分析比较多，基于2440的，对linux外围驱动有很全面的讲解。&lt;/li&gt;
&lt;li&gt;《嵌入式 Linux 应用开发完全手册》作者：韦东山，本书全面介绍了嵌入式Linux系统开发过程中，从底层系统支持到上层GUI应用的方方面面，内容涵盖Linux操作系统的安装及相关工具的使用、配置，嵌入式编程所需要的基础知识(交叉编译工具的选项设置、Makefile语法、ARM汇编指令等)，硬件部件的使用及编程(囊括了常见硬件，比如UART、I*IC、LCD等)，UBoot、Linux内核的分析、配置和移植，根文件系统的构造(包括移植busybox、glibc、制作映象文件等)，内核调试技术(比如添加kgdb补丁、栈回溯等)，驱动程序编写及移植(LED、按键、扩展串口、网卡、硬盘、SD卡、LCD和USB等)，GUI系统的移植(包含两个GUI系统：基于Qtopia和基于X)，应用程序调试技术。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;内核入门&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;《LINUX内核源代码情景分析》 作者：浙江大学/毛德操，全面深入地剖析了Linux最新版本核心源代码，并对Linux核心的独特优点和需要进一步改进的问题作了精辟的评述。&lt;/li&gt;
&lt;li&gt;《莱昂氏UNIX源代码分析》 作者：John Lions，本书上篇为UNIX版本6的源代码，下篇是莱昂先生对UNIX操作系统版本6源代码的详细分析。本书语言简洁、透彻，曾作为未公开出版物广泛流传了二十多年，是一部杰出经典巨作。&lt;/li&gt;
&lt;li&gt;《深入理解linux内核》 作者：DanielP、Bovet，该书指导你对内核中使用的最重要的数据结构、算法和程序设计诀窍进行一次遍历，是一本出名的经典巨作。&lt;/li&gt;
&lt;li&gt;《LINUX内核完全剖析--基于0.12内核》 作者：赵炯，本书对早期Linux内核（V0.12）全部代码文件进行了详细、全面的注释和说明，旨在帮助读者用较短的时间对Linux的工作机理获得全面而深刻的理解，为进一步学习和研究Linux打下坚实的基础。&lt;/li&gt;
&lt;li&gt;《Linux内核精髓：精通Linux内核必会的75个绝技》 作者：高桥 浩和（Hirokazu Takahashi），本书选取了资源管理（CPU、内存、进程等）、文件系统、网络、虚拟化、省电、调试、概要分析、追踪、内核调整等Linux内核的核心主题进行了深入剖析和讲解，总结出了75个能有助于读者深刻理解Linux内核精髓的技巧和最佳实践。&lt;/li&gt;
&lt;li&gt;《Linux内核API完全参考手册》 作者：邱铁、周玉、邓莹莹，作为源码开放的操作系统已经广泛应用于计算机与嵌入式设备，因此学会Linux内核开发与编程显得越来越重要。《Linux内核API完全参考手册》以最新的Linux内核版本2.6.3 0为依据，对常用的内核API作了系统分析和归纳，设计了典型实例并对开发场景进行了详细讲解。《Linux内核API完全参考手册》中分析的内核API模块包括：内核模块机制API、进程管理内核API、进程调度内核API、中断机制内核API、内存管理内核API、内核定时机制API、内核同步机制API、文件系统内核API和设备驱动及设备管理API。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Shell入门&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;《LINUX与UNIX Shell编程指南》作者为David Tansley，本书共分五部分，详细介绍了shell编程技巧，各种UNIX命令及语法，还涉及了UNIX下的文字处理以及少量的系统管理问题。本书内容全面、文字简洁流畅，适合Shell编程人员学习、参考。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;应用编程入门&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;《unix环境高级编程（第二版）》作者为W.Richard Stevens、Stephen A.Rago，本书在保持了前一版风格的基础上，根据最新的标准对内容进行了修订和增补，反映了最新的技术发展。书中除了介绍UNIX文件和目录、标准I/O库、系统数据文件和信息、进程环境、进程控制、进程关系、信号、线程、线程控制、守护进程、各种I/O、进程间通信、网络IPC、伪终端等方面的内容，还在此基础上介绍了多个应用示例，包括如何创建数据库函数库以及如何与网络打印机通信等。此外，还在附录中给出了函数原型和部分习题的答案。 被称为unix编程的圣经。&lt;/li&gt;
&lt;li&gt;《linux程序设计》作者为：Neil Matthew 、Richard Stones，本书讲述了Linux系统及其他UNIX风格的操作系统上的程序开发，主要内容包括标准Linux C语言函数库和由不同的Linux或UNIX标准指定的各种工具的使用方法，大多数标准Linux开发工具的使用方法，通过DBM和MySQL数据库系统存储Linux中的数据，为X视窗系统建立图形化用户界面等。
TCP/IP入门&lt;/li&gt;
&lt;li&gt;《TCP/IP详解（共三卷）》作者W.Richard Stevens，也是《unix环境高级编程》的作者。&lt;/li&gt;
&lt;li&gt;《TCP/IP详解，卷1：协议》是一本完整而详细的TCP/IP协议指南。描述了属于每一层的各个协议以及它们如何在不同操作系统中运行。&lt;/li&gt;
&lt;li&gt;《TCP/IP详解 卷2：实现》完整而详细地介绍了TCP/IP协议是如何实现的。&lt;/li&gt;
&lt;li&gt;《TCP-IP详解卷三TCP事务协议,HTTP,NNTP和UNIX域协议》是“TCP/IP详解系列”的延续。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;C语言入门&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《The C Programming Language》作者为Brian W.Kernighan、Dennis M.Ritchie，是由著名的计算机科学家Brian W. Kernighan和C语言之父的Dennis M. Ritchie合著的一部计算机科学著作。是第一部介绍C语言编程方法的书籍，它也被公认为计算机技术著作的典范，以清晰简洁的文字讲述而著称。书中用"hello world"为实例开始讲解程序设计，也已经成为程序设计语言图书的传统。&lt;/li&gt;
&lt;li&gt;《C和指针》作者为KennethA．Reek，本书提供与C语言编程相关的全面资源和深入讨论。通过对指针的基础知识和高级特性的探讨，帮助程序员把指针的强大功能融入到自己的程序中去。全书共18章，覆盖了数据、语句、操作符和表达式、指针、函数、数组、字符串、结构和联合等几乎所有重要的C编程话题。书中给出了很多编程技巧和提示，每章后面有针对性很强的练习，附录部分则给出了部分练习的解答。&lt;/li&gt;
&lt;li&gt;《C缺陷和陷阱》作者为Andrew Koenig，作者以自己1985年在Bell实验室时发表的一篇论文为基础，结合自己的工作经验扩展成为这本对C程序员具有珍贵价值的经典著作。写作本书的出发点不是要批判C语言，而是要帮助C程序员绕过编程过程中的陷阱和障碍。全书分为8章，分别从词法分析、语法语义、连接、库函数、预处理器、可移植性缺陷等几个方面分析了C编程中可能遇到的问题。最后，作者用一章的篇幅给出了若干具有实用价值的建议。本书适合有一定经验的C程序员阅读学习，即便你是C编程高手，本书也应该成为你的案头必备书籍。&lt;/li&gt;
&lt;li&gt;《Linux C编程从初学到精通》作者为张繁 等，本书深入浅出、循序渐进地讲解了Linux平台下的C程序设计，并通过大量的程序实例，以及综合开发案例的演示，帮助读者快速掌握Linux下C语言编程的方法和技巧。本书内容翔实，共分为三大部分。第一部分为基础篇，共有5章，主要讲解了Linux系统的概述、C语言编程基础、Linux下的两种常用文本编辑器vi和Emacs、程序编译器gcc和调试器gdb，以及make管理工具。第二部分为提高篇，共有7章，主要讲解了Linux系统下各种操作的系统调用，包括文件操作、进程控制、进程间通信、网络编程、GTK+图形界面编程等。第三部分为实践篇，共有5章，分别为5个不同的Linux平台下C程序开发的综合案例，向读者详细阐述了Linux文件操作、GTK+图形界面编程、Linux网络编程，以及基于Linux平台的嵌入式软件开发的方法和技巧。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;语言算法入门&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《算法导论》作者为Thomas H.Cormen、Charles E.Leiserson、Ronald L.Rivest、Clifford Stein，本书深入浅出，全面地介绍了计算机算法。对每一个算法的分析既易于理解又十分有趣，并保持了数学严谨性。本书的设计目标全面，适用于多种用途。涵盖的内容有：算法在计算中的作用，概率分析和随机算法的介绍。本书专门讨论了线性规划，介绍了动态规划的两个应用，随机化和线性规划技术的近似算法等，还有有关递归求解、快速排序中用到的划分方法与期望线性时间顺序统计算法，以及对贪心算法元素的讨论。本书还介绍了对强连通子图算法正确性的证明，对哈密顿回路和子集求和问题的NP完全性的证明等内容。全书提供了900多个练习题和思考题以及叙述较为详细的实例研究。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Linux服务器运维入门&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《Ubuntu Server 最佳方案》 作者：冷罡华（Hiweed），是第一本全面介绍UbuntuLinuxServer的中文书籍，是作者10多年实战经验的结晶；从构思到出版，花费作者近3年时间。无论您是初学者还是Linux高手，都能从中获益。在内容上，《Ubuntu Server最佳方案》基本上涉猎到了Linux服务器的各方面常见应用。“最佳方案”是《Ubuntu Server最佳方案》的特色。对于每一种应用，作者都不是泛泛而谈，而是推荐一个“最佳方案”——从硬件服务器的选型到Linux入门，从LAMP到Tomcat，从代理服务器到邮件服务器，从DHCP到DNS，从Samba到虚拟化，从负载均衡到远程控制，从RAID到LVM再到系统安全——不管您是在校学生还是在职Linux管理员，不管您是小公司还是大企业，都可以直接复制《Ubuntu Server最佳方案》内容，在最短的时间内您就可以架设起自己的最佳Linux服务器。&lt;/li&gt;
&lt;li&gt;《构建高可用Linux服务器（第2版）》 作者：余洪春（抚琴煮酒），本书是资深Linux/Unix系统管理专家兼架构师多年一线工作经验的结晶，51CTO和ChinaUnix等知名社区联袂推荐。本书结合实际生产环境，从Linux虚拟化、集群、服务器故障诊断与排除、系统安全性等多角度阐述构建高可用Linux服务器的最佳实践。本书实践性非常强，包含大量企业级的应用案例及相应的解决方案，读者可以直接用这些方案解决在实际工作中遇到的问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;构建开源社区入门&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;《The art of Community》作者为Jono Bacon，一本关于如何构建开源社区的书籍。Jono Bacon 于 2006 年加入 Canonical，管理着世界范围内的 Ubuntu 开发者、贡献者及用户社区，有着丰富的开源社区运维经验。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;提示：上面所列书籍，并不适合所有初学者，请读者根据自己能力来选择。&lt;/p&gt;
&lt;h3&gt;参考链接&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;21IC电子工程师论坛：Linux经典书籍推荐(入门导读)&lt;/li&gt;
&lt;/ul&gt;</content><category term="linux"></category><category term="linux"></category><category term="book"></category></entry></feed>