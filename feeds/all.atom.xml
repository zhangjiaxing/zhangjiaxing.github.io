<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>cat ~/.zhiliao.history</title><link href="/" rel="alternate"></link><link href="/feeds/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2020-08-05T13:24:13+08:00</updated><subtitle>无聊就该多读书。</subtitle><entry><title>openSUSE zypper</title><link href="/posts/2020/08/05/openSUSE-zypper.html" rel="alternate"></link><published>2020-08-05T13:24:13+08:00</published><updated>2020-08-05T13:24:13+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-08-05:/posts/2020/08/05/openSUSE-zypper.html</id><content type="html">&lt;ol&gt;
&lt;li&gt;zypper 安装软件时候版本选择&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;查看仓库中有firefox的哪些版本
sudo zypper se -s firefox

安装指定版本
sudo zypper in --oldpackage MozillaFirefox=78.0.1-lp152.2.5.1
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;zypper 和 其他包管理器 使用对比&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://wiki.archlinux.org/index.php/Pacman/Rosetta"&gt;Pacman/Rosetta&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>在chromebook上安装archlinux</title><link href="/posts/2020/07/26/arch-linux-samsung-arm-chromebook.html" rel="alternate"></link><published>2020-07-26T22:56:00+08:00</published><updated>2020-07-26T22:56:00+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-26:/posts/2020/07/26/arch-linux-samsung-arm-chromebook.html</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;把安装到U盘的教程中的 /dev/sda 替换成 mmcblk0 即可把archlinux安装进入系统盘.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑 /etc/pacman.conf 文件, 添加 &lt;code&gt;IgnorePkg   = linux-armv7 linux-armv7-chromebook linux-firmware&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;参考https://calvin.me/arch-linux-samsung-arm-chromebook 修改亮度控制 绑定按键 取消静音 设置休眠&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;alsamixer

Go across the page (arrow keys) and press M to unmute
    Left Speaker Mixer Left DAC1
    Left Speaker Mixer Mono DAC2
    Left Speaker Mixer Mono …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;把安装到U盘的教程中的 /dev/sda 替换成 mmcblk0 即可把archlinux安装进入系统盘.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编辑 /etc/pacman.conf 文件, 添加 &lt;code&gt;IgnorePkg   = linux-armv7 linux-armv7-chromebook linux-firmware&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;参考https://calvin.me/arch-linux-samsung-arm-chromebook 修改亮度控制 绑定按键 取消静音 设置休眠&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;alsamixer

Go across the page (arrow keys) and press M to unmute
    Left Speaker Mixer Left DAC1
    Left Speaker Mixer Mono DAC2
    Left Speaker Mixer Mono DAC3
    Left Speaker Mixer Right DAC1
    Right Speaker Mixer Left DAC1
    Right Speaker Mixer Mono DAC2
    Right Speaker Mixer Mono DAC3
    Right Speaker Mixer Right DAC1
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /usr/local/bin/brightness

#!/bin/bash
cur_bri=$(/usr/bin/cat /sys/class/backlight/backlight.12/brightness)

if [ $1 == &amp;quot;up&amp;quot; ] ; then
    bri=$(($cur_bri+200))
    `echo $bri &amp;gt; /sys/class/backlight/backlight.12/brightness`
fi

if [ $1 == &amp;quot;down&amp;quot; ] ; then
    bri=$(($cur_bri-200))
    `echo $bri &amp;gt; /sys/class/backlight/backlight.12/brightness`
fi

if [ $1 == &amp;quot;-s&amp;quot; ]; then
    `echo $2 &amp;gt; /sys/class/backlight/backlight.12/brightness`
fi
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Other Notes&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;* The trackpad sometimes doesn&amp;#39;t work on boot. A restart fixes it (press the power button)
* Can&amp;#39;t seem to get PulseAudio working
* Two finger clicks that are too wide apart don&amp;#39;t register as a right click. Two finger taps do though
* Current RAM usage for me is 123M, A LOT better than Chrome OS which always sits around 1.5GB
* Still can&amp;#39;t get 720p video to run smoothly. Chrome OS is a bit better here but even then it dies on a 720p60 video. Sticking to 480p seems to be the best thing to do
* It is possible to get rid having to press CTRL + D on each boot, I did that once and totally forgot how to get it back. I eventually did but it was crazy stuff.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;参考
&lt;a href="https://archlinuxarm.org/platforms/armv7/samsung/samsung-chromebook"&gt;archlinuxarm&lt;/a&gt;
&lt;a href="https://calvin.me/arch-linux-samsung-arm-chromebook"&gt;Arch Linux on Samsung ARM Chromebook&lt;/a&gt;
&lt;a href="https://www.cnblogs.com/ouyangsong/p/9348163.html"&gt;Chromebook安装ArchLinux&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="archlinux"></category><category term="linux"></category></entry><entry><title>openSUSE Leap 系统省级</title><link href="/posts/2020/07/20/openSUSE-upgrade.html" rel="alternate"></link><published>2020-07-20T23:38:50+08:00</published><updated>2020-07-20T23:38:50+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-20:/posts/2020/07/20/openSUSE-upgrade.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 首先启用 repo-update 软件源&lt;/span&gt;
zypper modifyrepo --enable repo-update

&lt;span class="c1"&gt;# 然后更到最新&lt;/span&gt;
zypper refresh
zypper update

&lt;span class="c1"&gt;# 下面的命令建议在tty中执行.  Ctrl + Alt + F2&lt;/span&gt;

&lt;span class="c1"&gt;# 如果 /etc/zypp/repos.d/中定义的Leap 仓库已经使用$releasever变量时, 则使用:&lt;/span&gt;
zypper --releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2 ref


&lt;span class="c1"&gt;# 或者仓库地址使用特定的Leap版本号对它们进行硬编码，则需要首先对其进行修改:&lt;/span&gt;
sudo sed -i &lt;span class="s1"&gt;&amp;#39;s/15.1/$releasever/g&amp;#39;&lt;/span&gt; /etc/zypp/repos.d/*.repo
&lt;span class="c1"&gt;# 然后执行:&lt;/span&gt;
zypper --releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2 …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 首先启用 repo-update 软件源&lt;/span&gt;
zypper modifyrepo --enable repo-update

&lt;span class="c1"&gt;# 然后更到最新&lt;/span&gt;
zypper refresh
zypper update

&lt;span class="c1"&gt;# 下面的命令建议在tty中执行.  Ctrl + Alt + F2&lt;/span&gt;

&lt;span class="c1"&gt;# 如果 /etc/zypp/repos.d/中定义的Leap 仓库已经使用$releasever变量时, 则使用:&lt;/span&gt;
zypper --releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2 ref


&lt;span class="c1"&gt;# 或者仓库地址使用特定的Leap版本号对它们进行硬编码，则需要首先对其进行修改:&lt;/span&gt;
sudo sed -i &lt;span class="s1"&gt;&amp;#39;s/15.1/$releasever/g&amp;#39;&lt;/span&gt; /etc/zypp/repos.d/*.repo
&lt;span class="c1"&gt;# 然后执行:&lt;/span&gt;
zypper --releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.2 ref


&lt;span class="c1"&gt;# 最后重新启动系统.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>openSUSE Leap &amp; Tumbleweed 安装解码器</title><link href="/posts/2020/07/20/openSUSE-multimedia.html" rel="alternate"></link><published>2020-07-20T23:15:46+08:00</published><updated>2020-07-20T23:15:46+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-20:/posts/2020/07/20/openSUSE-multimedia.html</id><content type="html">&lt;p&gt;添加全部packman仓库&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo zypper ar -fc http://mirrors.aliyun.com/packman/openSUSE_Leap_15.2/    packman-aliyun

&lt;span class="c1"&gt;# 将系统软件包切换到packman中的软件包(两者混用会导致各种问题)&lt;/span&gt;
zypper dup --from packman --allow-vendor-change
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或者仅仅添加packman中的Essentials(解码器)仓库&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo zypper ar -fc http://mirrors.aliyun.com/packman/openSUSE_Leap_15.2/Essentials/   packman-essentials-aliyun

&lt;span class="c1"&gt;# 将系统软件包切换到packman中的软件包(两者混用会导致各种问题)&lt;/span&gt;
zypper dup --from packman-essentials --allow-vendor-change
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://en.opensuse.org/Additional_package_repositories"&gt;openSUSE_Additional_package_repositories&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>斐讯N1刷机过程记录</title><link href="/posts/2020/07/01/phicomm-N1.html" rel="alternate"></link><published>2020-07-01T23:38:09+08:00</published><updated>2020-07-01T23:38:09+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-07-01:/posts/2020/07/01/phicomm-N1.html</id><summary type="html">&lt;p&gt;&lt;img alt="刷机" src="/posts/2020/07/01/phicomm-N1-flash.jpg"&gt;&lt;/p&gt;
&lt;p&gt;去年买的N1盒子, 一直没时间折腾, 最近刚好需要作下载机用, 于是刷机, 顺便整理下步骤.&lt;/p&gt;
&lt;p&gt;首先说下N1配置. 处理器Amlogic S905, 内存 2G, emmc 8G, 千兆网口, 2个USB 2.0, 1个HDMI接口, 双频WIFI(支持 802.11 ac), 支持蓝牙. &lt;/p&gt;
&lt;p&gt;价格目前不到100元. 和raspberry 4 相比性能差不多, 重要的是能用Android系统, 便宜, 自带外壳.&lt;/p&gt;
&lt;h4&gt;目前用的人多的N1系统, 大致为 (不分先后)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Openwrt做主路由     &lt;/li&gt;
&lt;li&gt;小钢炮做下载机Docker里做旁路由 (恩山无线论坛 荒野无灯 所开发的专注于下载的系统, 基于linux)&lt;/li&gt;
&lt;li&gt;Armbian玩Docker&lt;/li&gt;
&lt;li&gt;Android (电视盒子)&lt;/li&gt;
&lt;li&gt;游戏机 (EmuELEC)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;刷机第一步系统降级&lt;/h2&gt;
&lt;p&gt;不管是N1什么版本，首先必须要降级到能线刷的版本，并且能够使用，便于后期emmc能恢复。&lt;/p&gt;
&lt;h6&gt;准备环境 …&lt;/h6&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="刷机" src="/posts/2020/07/01/phicomm-N1-flash.jpg"&gt;&lt;/p&gt;
&lt;p&gt;去年买的N1盒子, 一直没时间折腾, 最近刚好需要作下载机用, 于是刷机, 顺便整理下步骤.&lt;/p&gt;
&lt;p&gt;首先说下N1配置. 处理器Amlogic S905, 内存 2G, emmc 8G, 千兆网口, 2个USB 2.0, 1个HDMI接口, 双频WIFI(支持 802.11 ac), 支持蓝牙. &lt;/p&gt;
&lt;p&gt;价格目前不到100元. 和raspberry 4 相比性能差不多, 重要的是能用Android系统, 便宜, 自带外壳.&lt;/p&gt;
&lt;h4&gt;目前用的人多的N1系统, 大致为 (不分先后)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Openwrt做主路由     &lt;/li&gt;
&lt;li&gt;小钢炮做下载机Docker里做旁路由 (恩山无线论坛 荒野无灯 所开发的专注于下载的系统, 基于linux)&lt;/li&gt;
&lt;li&gt;Armbian玩Docker&lt;/li&gt;
&lt;li&gt;Android (电视盒子)&lt;/li&gt;
&lt;li&gt;游戏机 (EmuELEC)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;刷机第一步系统降级&lt;/h2&gt;
&lt;p&gt;不管是N1什么版本，首先必须要降级到能线刷的版本，并且能够使用，便于后期emmc能恢复。&lt;/p&gt;
&lt;h6&gt;准备环境&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;N1盒子&lt;/li&gt;
&lt;li&gt;装有windows的电脑主机&lt;/li&gt;
&lt;li&gt;网线&lt;/li&gt;
&lt;li&gt;HDMI线&lt;/li&gt;
&lt;li&gt;支持HDMI的电视或者显示器&lt;/li&gt;
&lt;li&gt;USB接口鼠标&lt;/li&gt;
&lt;li&gt;USB2.0公对公数据线&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;降级过程&lt;/h6&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-340279-1-1.html"&gt;WEBPAD大神降级教程&amp;gt;&amp;gt;&lt;/a&gt;
&lt;a href="https://www.right.com.cn/forum/thread-413863-1-1.html"&gt;超快速恢复EMMC法&amp;gt;&amp;gt;&lt;/a&gt;&lt;/p&gt;
&lt;h6&gt;设置开启U盘引导, 设置以后, 只要不动bootloader, N1 就刷不死&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adb connect N1的IP
adb shell reboot update
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;下面是刷armbian的方法&lt;/h2&gt;
&lt;h6&gt;下载armbian系统&lt;/h6&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-927225-1-1.html"&gt;当前适配的armbian介绍,下载连接&lt;/a&gt;&lt;/p&gt;
&lt;h6&gt;烧录进入U盘&lt;/h6&gt;
&lt;p&gt;linux可以尝试用dd (没测试过)&lt;/p&gt;
&lt;p&gt;windows用etcher (亲测可用)&lt;/p&gt;
&lt;p&gt;按照上面的说明, 替换 btd文件&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[/boot/uEnv.ini] 第一行改为
dtb_name=/dtb/meson-gxl-s905d-phicomm-n1.dtb
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;然后关闭N1, 开始启动armbian&lt;/h6&gt;
&lt;p&gt;插上U盘,N1通电, 开机就是U盘启动的armbian系统.&lt;/p&gt;
&lt;p&gt;也可以通过home目录下面的 install.sh 安装进入emmc. (覆盖掉默认的android)&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;参考资料 &lt;code&gt;主要参考 恩山无线论坛 和 什么值得买&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-415880-1-1.html"&gt;N1刷不死的玩法整理&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-413863-1-1.html"&gt;N1刷完ARMBIAN想恢复EMMC超级简单线刷法&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.right.com.cn/forum/thread-421805-1-1.html"&gt;N1玩法总结整理&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://post.smzdm.com/p/akmg5dv4/"&gt;N1盒子不拆机救砖&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://post.smzdm.com/p/aekemx44/"&gt;N1改电视盒子&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://post.smzdm.com/p/a99vxp9e/"&gt;N1简明降级&amp;amp;刷机教程&lt;/a&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="phicomm"></category></entry><entry><title>inotify-tools</title><link href="/posts/2020/04/24/inotify-tools.html" rel="alternate"></link><published>2020-04-24T19:40:05+08:00</published><updated>2020-04-24T19:40:05+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-04-24:/posts/2020/04/24/inotify-tools.html</id><summary type="html">&lt;p&gt;inotify-tools 可以用来监控文件系统的事件。inotify-tools提供两种工具，一是 inotifywait，它是用来监控文件或目录的变化，二是inotifywatch，它是用来统计文件系统访问的次数。&lt;/p&gt;
&lt;p&gt;常用&lt;code&gt;inotifywait -qcrm $dir&lt;/code&gt;&lt;/p&gt;
&lt;h6&gt;inotifywait&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;参数：
@
排除不需要监视的文件，可以是相对路径，也可以是绝对路径。
–fromfile 
从文件读取需要监视的文件或排除的文件，一个文件一行，排除的文件以@开头。
-m, –monitor
接收到一个事情而不退出，无限期地执行。默认的行为是接收到一个事情后立即退出。
-d, –daemon
跟–monitor一样，除了是在后台运行，需要指定–outfile把事情输出到一个文件。也意味着使用了–syslog。
-o, –outfile 
输出事情到一个文件而不是标准输出。
-s, –syslog
输出错误信息到系统日志
-r, –recursive
监视一个目录下的所有子目录。
-q, –quiet
指定一次，不会输出详细信息，指定二次 …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;inotify-tools 可以用来监控文件系统的事件。inotify-tools提供两种工具，一是 inotifywait，它是用来监控文件或目录的变化，二是inotifywatch，它是用来统计文件系统访问的次数。&lt;/p&gt;
&lt;p&gt;常用&lt;code&gt;inotifywait -qcrm $dir&lt;/code&gt;&lt;/p&gt;
&lt;h6&gt;inotifywait&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;参数：
@
排除不需要监视的文件，可以是相对路径，也可以是绝对路径。
–fromfile 
从文件读取需要监视的文件或排除的文件，一个文件一行，排除的文件以@开头。
-m, –monitor
接收到一个事情而不退出，无限期地执行。默认的行为是接收到一个事情后立即退出。
-d, –daemon
跟–monitor一样，除了是在后台运行，需要指定–outfile把事情输出到一个文件。也意味着使用了–syslog。
-o, –outfile 
输出事情到一个文件而不是标准输出。
-s, –syslog
输出错误信息到系统日志
-r, –recursive
监视一个目录下的所有子目录。
-q, –quiet
指定一次，不会输出详细信息，指定二次，除了致命错误，不会输出任何信息。
–exclude 
正则匹配需要排除的文件，大小写敏感。
–excludei 
正则匹配需要排除的文件，忽略大小写。
-t , –timeout 
设置超时时间，如果为0，则无限期地执行下去。
-e , –event 
指定监视的事件。
-c, –csv
输出csv格式。
&lt;/pre&gt;&lt;/div&gt;


&lt;h6&gt;inotifywatch&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;参数：
@
排除不需要监视的文件，可以是相对路径，也可以是绝对路径。
–fromfile 
从文件读取需要监视的文件或排除的文件，一个文件一行，排除的文件以@开头。
-z, –zero
输出表格的行和列，即使元素为空
–exclude 
正则匹配需要排除的文件，大小写敏感。
–excludei 
正则匹配需要排除的文件，忽略大小写。
-r, –recursive
监视一个目录下的所有子目录。
-t , –timeout 
设置超时时间
-e , –event 
只监听指定的事件。
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="kernel"></category></entry><entry><title>通过nc命令查看服务器端口和客户端能不能正常连接</title><link href="/posts/2020/01/08/linux-nc.html" rel="alternate"></link><published>2020-01-08T09:57:04+08:00</published><updated>2020-01-08T09:57:04+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-01-08:/posts/2020/01/08/linux-nc.html</id><content type="html">&lt;p&gt;tcp&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;服务器
nc bind地址 监听端口

客户端
nc 服务器地址 服务器端口
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;udp &lt;code&gt;nc&lt;/code&gt; 加上 &lt;code&gt;-u&lt;/code&gt; 参数即可&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>笔记本把无线网络连接分享给网线</title><link href="/posts/2020/01/07/laptop-router.html" rel="alternate"></link><published>2020-01-07T22:11:18+08:00</published><updated>2020-01-07T22:11:18+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-01-07:/posts/2020/01/07/laptop-router.html</id><summary type="html">&lt;p&gt;笔记本把无线网络连接分享给网线.&lt;/p&gt;
&lt;p&gt;首先如果笔记本开了NetworkManager服务, 建议在NetworkManager的配置中取消托管有线网络接口 eth0. (可选, 如果修改了配置, 要重启NetworkManager)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat /etc/NetworkManager/NetworkManager.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[main]&lt;/span&gt;
&lt;span class="na"&gt;plugins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;ifupdown,keyfile&lt;/span&gt;

&lt;span class="k"&gt;[ifupdown]&lt;/span&gt;
&lt;span class="na"&gt;managed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;

&lt;span class="k"&gt;[keyfile]&lt;/span&gt;
&lt;span class="na"&gt;unmanaged-devices&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;interface-name:eth0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;确定笔记本已经连接好了WIFI&lt;/p&gt;
&lt;p&gt;然后在笔记本上面设置 eth0 ip
&lt;code&gt;sudo ifconfig eth0 192.168.9.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启DHCP
&lt;code&gt;sudo dnsmasq --dhcp-range=192.168.9.10,192.168.9.20,999m --interface=eth0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启转发 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;笔记本把无线网络连接分享给网线.&lt;/p&gt;
&lt;p&gt;首先如果笔记本开了NetworkManager服务, 建议在NetworkManager的配置中取消托管有线网络接口 eth0. (可选, 如果修改了配置, 要重启NetworkManager)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cat /etc/NetworkManager/NetworkManager.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[main]&lt;/span&gt;
&lt;span class="na"&gt;plugins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;ifupdown,keyfile&lt;/span&gt;

&lt;span class="k"&gt;[ifupdown]&lt;/span&gt;
&lt;span class="na"&gt;managed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;true&lt;/span&gt;

&lt;span class="k"&gt;[keyfile]&lt;/span&gt;
&lt;span class="na"&gt;unmanaged-devices&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;interface-name:eth0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;确定笔记本已经连接好了WIFI&lt;/p&gt;
&lt;p&gt;然后在笔记本上面设置 eth0 ip
&lt;code&gt;sudo ifconfig eth0 192.168.9.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启DHCP
&lt;code&gt;sudo dnsmasq --dhcp-range=192.168.9.10,192.168.9.20,999m --interface=eth0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启转发
&lt;code&gt;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;设置NAT
&lt;code&gt;iptables -t nat -A POSTROUTING -j MASQUERADE&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;需要上网的设备连接笔记本eth0即可&lt;/p&gt;
&lt;p&gt;查看笔记本下面连接的设备ip
&lt;code&gt;cat /var/lib/misc/dnsmasq.leases&lt;/code&gt; 或者 &lt;code&gt;cat /var/db/dnsmasq.leases&lt;/code&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linuix"></category><category term="network"></category></entry><entry><title>Linux性能优化</title><link href="/posts/2020/01/05/linux-improving-performance.html" rel="alternate"></link><published>2020-01-05T22:05:19+08:00</published><updated>2020-01-05T22:05:19+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2020-01-05:/posts/2020/01/05/linux-improving-performance.html</id><content type="html">&lt;ol&gt;
&lt;li&gt;挂载选项添加noatime&lt;/li&gt;
&lt;li&gt;mitigations=off&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>openSUSE Tumbleweed server 安装cinnamon桌面</title><link href="/posts/2019/12/19/openSUSE-server-install-cinnamon.html" rel="alternate"></link><published>2019-12-19T11:11:01+08:00</published><updated>2019-12-19T11:11:01+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-12-19:/posts/2019/12/19/openSUSE-server-install-cinnamon.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;zypper refresh
zypper install cinnamon
zypper install lightdm
zypper install xorg-x11-server
zypper install xorg-x11-server-wayland
update-alternatives --list default-displaymanager
update-alternatives --config default-displaymanager 选择lightdm
systemctl disable default.target  &lt;span class="c1"&gt;# 或者删除 /etc/systemd/system/default.target&lt;/span&gt;
ln -s /usr/lib/systemd/system/graphical.target /etc/systemd/system/default.target

zypper install wqy-microhei-fonts

&lt;span class="c1"&gt;# 然后安装输入法&lt;/span&gt;
zypper install …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;zypper refresh
zypper install cinnamon
zypper install lightdm
zypper install xorg-x11-server
zypper install xorg-x11-server-wayland
update-alternatives --list default-displaymanager
update-alternatives --config default-displaymanager 选择lightdm
systemctl disable default.target  &lt;span class="c1"&gt;# 或者删除 /etc/systemd/system/default.target&lt;/span&gt;
ln -s /usr/lib/systemd/system/graphical.target /etc/systemd/system/default.target

zypper install wqy-microhei-fonts

&lt;span class="c1"&gt;# 然后安装输入法&lt;/span&gt;
zypper install fcitx-libpinyin fcitx-config-gtk3

reboot
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>openSUSE Leap &amp; Tumbleweed 添加软件源</title><link href="/posts/2019/12/16/openSUSE-addrepo.html" rel="alternate"></link><published>2019-12-16T14:55:38+08:00</published><updated>2019-12-16T14:55:38+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-12-16:/posts/2019/12/16/openSUSE-addrepo.html</id><summary type="html">&lt;p&gt;首先禁用全部仓库：
&lt;code&gt;sudo zypper mr -da&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果是Tumbleweed&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/tumbleweed/repo/oss/      Tumbleweed-Oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/tumbleweed/repo/non-oss/  Tumbleweed-Non-Oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/packman/openSUSE_Tumbleweed/       Tumbleweed-Packman-aliyun

&lt;span class="c1"&gt;# 更新执行&lt;/span&gt;
sudo zypper dup
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果是Leap&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo zypper …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;首先禁用全部仓库：
&lt;code&gt;sudo zypper mr -da&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果是Tumbleweed&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/tumbleweed/repo/oss/      Tumbleweed-Oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/tumbleweed/repo/non-oss/  Tumbleweed-Non-Oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/packman/openSUSE_Tumbleweed/       Tumbleweed-Packman-aliyun

&lt;span class="c1"&gt;# 更新执行&lt;/span&gt;
sudo zypper dup
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果是Leap&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/distribution/leap/&lt;span class="nv"&gt;$releasever&lt;/span&gt;/repo/oss/      repo-oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/distribution/leap/&lt;span class="nv"&gt;$releasever&lt;/span&gt;/repo/non-oss/  repo-non-oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/update/leap/&lt;span class="nv"&gt;$releasever&lt;/span&gt;/oss/                 repo-update-oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/opensuse/update/leap/&lt;span class="nv"&gt;$releasever&lt;/span&gt;/non-oss/             repo-update-non-oss-aliyun
sudo zypper ar -fc http://mirrors.aliyun.com/packman/openSUSE_Leap_&lt;span class="nv"&gt;$releasever&lt;/span&gt;/                    repo-packman-aliyun

&lt;span class="c1"&gt;# 更新执行&lt;/span&gt;
sudo zypper update
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="openSUSE"></category><category term="linux"></category></entry><entry><title>ext4断电丢失数据(零长文件)</title><link href="/posts/2019/11/29/ext4-data-lost.html" rel="alternate"></link><published>2019-11-29T21:10:42+08:00</published><updated>2019-11-29T21:10:42+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-11-29:/posts/2019/11/29/ext4-data-lost.html</id><summary type="html">&lt;p&gt;ext4断电丢失数据(零长文件).&lt;/p&gt;
&lt;p&gt;嵌入式设备, 经常拔掉电源, 以前/data分区有挂载选项 sync.&lt;/p&gt;
&lt;p&gt;后来发现sync方式挂载写入数据速度太慢了(100KB/S), 正常为10MB/S.&lt;/p&gt;
&lt;p&gt;去掉sync断电又会丢数据.&lt;/p&gt;
&lt;p&gt;ext4 man-pages 上说 &lt;code&gt;fd = open("foo", O_TRUNC)/write(fd,...)/close(fd)&lt;/code&gt; 或者好一点的 &lt;code&gt;fd = open("foo.new")/write(fd,...)/close(fd)/ rename("foo.new", "foo")&lt;/code&gt; 这种用法突然断电容易产生零长文件, 在close之前调用fsync好一点. 实际上 auto_da_alloc 挂载选项就是为了解决上面的一些情况的, man-pages上说auto_da_alloc 相对及时把数据写进硬盘. 但是自己测试断电依然会丢数据, 产生零长文件(&lt;code&gt;zero-length&lt;/code&gt;) .&lt;/p&gt;
&lt;p&gt;尝试新的挂载选项为 defaults,noatime …&lt;/p&gt;</summary><content type="html">&lt;p&gt;ext4断电丢失数据(零长文件).&lt;/p&gt;
&lt;p&gt;嵌入式设备, 经常拔掉电源, 以前/data分区有挂载选项 sync.&lt;/p&gt;
&lt;p&gt;后来发现sync方式挂载写入数据速度太慢了(100KB/S), 正常为10MB/S.&lt;/p&gt;
&lt;p&gt;去掉sync断电又会丢数据.&lt;/p&gt;
&lt;p&gt;ext4 man-pages 上说 &lt;code&gt;fd = open("foo", O_TRUNC)/write(fd,...)/close(fd)&lt;/code&gt; 或者好一点的 &lt;code&gt;fd = open("foo.new")/write(fd,...)/close(fd)/ rename("foo.new", "foo")&lt;/code&gt; 这种用法突然断电容易产生零长文件, 在close之前调用fsync好一点. 实际上 auto_da_alloc 挂载选项就是为了解决上面的一些情况的, man-pages上说auto_da_alloc 相对及时把数据写进硬盘. 但是自己测试断电依然会丢数据, 产生零长文件(&lt;code&gt;zero-length&lt;/code&gt;) .&lt;/p&gt;
&lt;p&gt;尝试新的挂载选项为 defaults,noatime,nodelalloc,auto_da_alloc,commit=1,data=journal, 不带sync. 不知道管用不管用.&lt;/p&gt;
&lt;p&gt;有人推荐xfs, 据说断电不容易丢数据, 但xfs用于读写密集的环境会有一些问题, 读写密集环境用ext4.&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="ext4"></category></entry><entry><title>raspberry watchdog</title><link href="/posts/2019/11/22/raspberry-watchdog.html" rel="alternate"></link><published>2019-11-22T20:06:38+08:00</published><updated>2019-11-22T20:06:38+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-11-22:/posts/2019/11/22/raspberry-watchdog.html</id><content type="html">&lt;p&gt;raspberry 4b
Raspbian GNU/Linux 10 (buster)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;ls /dev/watchdog*&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/dev/watchdog  /dev/watchdog0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;grep Watchdog /etc/systemd/system.conf&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;RuntimeWatchdogSec=10
ShutdownWatchdogSec=10min&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;systemctl daemon-reexec&lt;/p&gt;
&lt;p&gt;:(){ :|:&amp;amp; };:&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="linux"></category><category term="linux"></category><category term="raspberry"></category></entry><entry><title>linux pptpd配置</title><link href="/posts/2019/11/14/linux-pptpd.html" rel="alternate"></link><published>2019-11-14T10:44:33+08:00</published><updated>2019-11-14T10:44:33+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-11-14:/posts/2019/11/14/linux-pptpd.html</id><content type="html">&lt;p&gt;yum install pptpd&lt;/p&gt;
&lt;p&gt;echo "user01  pptpd   123456  * " &amp;gt;&amp;gt;  chap-secrets &lt;/p&gt;
&lt;p&gt;echo "net.ipv4.ip_forward=1" &amp;gt; /etc/sysctl.d/ip_forward.conf
sysctl -p&lt;/p&gt;
&lt;p&gt;vim /etc/pptpd.conf&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;localip 192.168.0.1
remoteip        192.168.0.234-238,192.168.0.245
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;systemctl start pptpd.service&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="server"></category></entry><entry><title>dnsmasq DHCP功能和DNS缓存</title><link href="/posts/2019/07/12/dnsmasq.html" rel="alternate"></link><published>2019-07-12T13:59:41+08:00</published><updated>2019-07-12T13:59:41+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-07-12:/posts/2019/07/12/dnsmasq.html</id><summary type="html">&lt;p&gt;NetworkManager 热点默认配置:
dnsmasq --conf-file=/dev/null --no-hosts --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload --strict-order --listen-address=10.42.0.1 --dhcp-range=10.42.0.10,10.42.0.254,60m --dhcp-lease-max=50 --dhcp-leasefile=/var/lib/NetworkManager/dnsmasq-wlp8s0.leases --pid-file=/var/run/nm-dnsmasq-wlp8s0.pid --conf-dir=/etc/NetworkManager/dnsmasq-shared.d&lt;/p&gt;
&lt;p&gt;dnsmasq HDCP+DNS缓存:
dnsmasq …&lt;/p&gt;</summary><content type="html">&lt;p&gt;NetworkManager 热点默认配置:
dnsmasq --conf-file=/dev/null --no-hosts --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload --strict-order --listen-address=10.42.0.1 --dhcp-range=10.42.0.10,10.42.0.254,60m --dhcp-lease-max=50 --dhcp-leasefile=/var/lib/NetworkManager/dnsmasq-wlp8s0.leases --pid-file=/var/run/nm-dnsmasq-wlp8s0.pid --conf-dir=/etc/NetworkManager/dnsmasq-shared.d&lt;/p&gt;
&lt;p&gt;dnsmasq HDCP+DNS缓存:
dnsmasq --conf-file=/dev/null --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload --strict-order --listen-address=127.0.0.1 --dhcp-range=10.42.0.10,10.42.0.254,60m&lt;/p&gt;
&lt;p&gt;只做DNS缓存:
dnsmasq --conf-file=/dev/null --keep-in-foreground --bind-interfaces --except-interface=lo --clear-on-reload  --listen-address=127.0.0.1 --cache-size=1000&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>2019-6-21名单</title><link href="/posts/2019/06/24/list-2019-6-21.html" rel="alternate"></link><published>2019-06-24T00:53:33+08:00</published><updated>2019-06-24T00:53:33+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-06-24:/posts/2019/06/24/list-2019-6-21.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;爱尔眼科
通策医疗
海天味业
中国国旅
片仔癀
宋城演艺
北方华创
安图生物
凯莱英
珀莱雅
正海生物
艾德生物
伊利股份
东方财富
中顺洁柔
苏泊尔
汤臣倍健
万孚生物
先导智能
瑞恒医药
华兰生物
美亚光电
智飞生物
培凌榨菜
欧普康视
泰格医药
贵州茅台
中国平安
视源股份
迈瑞医疗 (黑名单)
药明康德
海康威视
华测检测
顺恒醋业
海大集团
晨光文具
精测电子
&lt;/pre&gt;&lt;/div&gt;</content><category term="stock"></category><category term="stock"></category></entry><entry><title>股票大佬推荐的书</title><link href="/posts/2019/06/01/stock-book.html" rel="alternate"></link><published>2019-06-01T18:40:12+08:00</published><updated>2019-06-01T18:40:12+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2019-06-01:/posts/2019/06/01/stock-book.html</id><content type="html">&lt;ol&gt;
&lt;li&gt;价值投资实战手册&lt;/li&gt;
&lt;li&gt;周期&lt;/li&gt;
&lt;li&gt;穿过迷雾&lt;/li&gt;
&lt;li&gt;奥马哈之雾&lt;/li&gt;
&lt;li&gt;投资中最简单的事&lt;/li&gt;
&lt;li&gt;投资中不简单的事&lt;/li&gt;
&lt;li&gt;投资最重要的事&lt;/li&gt;
&lt;li&gt;股票魔法师 一二卷&lt;/li&gt;
&lt;li&gt;笑傲股市&lt;/li&gt;
&lt;li&gt;以交易为生&lt;/li&gt;
&lt;li&gt;伟大的博弈&lt;/li&gt;
&lt;li&gt;戴维斯王朝&lt;/li&gt;
&lt;li&gt;k线入门 (大跌保命)&lt;/li&gt;
&lt;li&gt;macd入门 (同上)&lt;/li&gt;
&lt;li&gt;中央帝国的财政密码&lt;/li&gt;
&lt;li&gt;中央帝国的哲学密码&lt;/li&gt;
&lt;li&gt;全球通史 上下卷 (非股票类)&lt;/li&gt;
&lt;li&gt;万历十五年&lt;/li&gt;
&lt;/ol&gt;</content><category term="股票"></category><category term="书"></category><category term="股票"></category></entry><entry><title>python3 nltk chapter 1</title><link href="/posts/2018/11/10/python-nltk-chapter1.html" rel="alternate"></link><published>2018-11-10T18:17:07+08:00</published><updated>2018-11-10T18:17:07+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-11-10:/posts/2018/11/10/python-nltk-chapter1.html</id><summary type="html">&lt;h1&gt;语言处理与Python&lt;/h1&gt;
&lt;h3&gt;1.语言计算：文本和单词&lt;/h3&gt;
&lt;h5&gt;1.2 NLTK 入门&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.3 搜索文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;text1.concordance(&amp;quot;monstrous&amp;quot;)  # 搜索文本

text1.similar(&amp;quot;monstrous&amp;quot;)  # 查看相识上下文出现的单词

text2.common_contexts([&amp;quot;monstrous&amp;quot;, &amp;quot;very&amp;quot;])  # 查找两个词的共同上下文

text4.dispersion_plot([&amp;quot;citizens&amp;quot;, &amp;quot;democracy&amp;quot;, &amp;quot;freedom&amp;quot;, &amp;quot;duties&amp;quot;, &amp;quot;America&amp;quot;])  # 词汇分布图

len(set(text3)) / len(text3)  # 文本词汇丰富度
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.3 布朗语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h1&gt;语言处理与Python&lt;/h1&gt;
&lt;h3&gt;1.语言计算：文本和单词&lt;/h3&gt;
&lt;h5&gt;1.2 NLTK 入门&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.3 搜索文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;text1.concordance(&amp;quot;monstrous&amp;quot;)  # 搜索文本

text1.similar(&amp;quot;monstrous&amp;quot;)  # 查看相识上下文出现的单词

text2.common_contexts([&amp;quot;monstrous&amp;quot;, &amp;quot;very&amp;quot;])  # 查找两个词的共同上下文

text4.dispersion_plot([&amp;quot;citizens&amp;quot;, &amp;quot;democracy&amp;quot;, &amp;quot;freedom&amp;quot;, &amp;quot;duties&amp;quot;, &amp;quot;America&amp;quot;])  # 词汇分布图

len(set(text3)) / len(text3)  # 文本词汇丰富度
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.3 布朗语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cg22&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;editorial&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;reviews&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.4 路透社语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;reuters&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;training/9880&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.5 就职演说语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;inaugural&lt;/span&gt;
&lt;span class="n"&gt;inaugural&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.6 标注文本语料库&lt;/h5&gt;
&lt;p&gt;http://nltk.org/data
http://nltk.org/howto&lt;/p&gt;
&lt;h5&gt;1.7 其他语言的语料库&lt;/h5&gt;
&lt;p&gt;nltk.corpus.udhr  # 超过300种语言的世界人权宣言&lt;/p&gt;
&lt;h5&gt;1.8 文本语料库的结构&lt;/h5&gt;
&lt;h6&gt;NLTK 中定义的基本语料库函数, 使用help(nltk.corpus.reader)可以找到更多的文档&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;示例                       描述                          
fileids()                  语料库中的文件                
fileids([categories])      这些分类对应的语料库中的文件  
categories()               语料库中的分类                
categories([fileids])      这些文件对应的语料库中的分类  
raw()                      语料库的原始内容              
raw(fileids=[f1,f2,f3])    指定文件的原始内容            
raw(categories=[c1,c2])    指定分类的原始内容            
words()                    整个语料库中的词汇            
words(fileids=[f1,f2,f3])  指定文件中的词汇              
words(categories=[c1,c2])  指定分类中的词汇              
sents()                    整个语料库中的句子            
sents(fileids=[f1,f2,f3])  指定文件中的句子              
sents(categories=[c1,c2])  指定分类中的句子              
abspath(fileid)            指定文件在磁盘上的位置        
encoding(fileid)           文件的编码（如果知道的话）    
open(fileid)               打开指定语料库文件的文件流    
root                       本地安装的语料库根目录的路径  
readme()                   语料库的README文件的内容
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.9 加载你自己的语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/usr/share/dict&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;C:\corpora\penntreebank\parsed\mrg\wsj&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;file_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.*/wsj_.*\.mrg&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2 条件频率分布&lt;/h3&gt;
&lt;h5&gt;2.1 条件和事件&lt;/h5&gt;
&lt;h5&gt;2.2 按文体计数词汇&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConditionalFreqDist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;genre&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;  &lt;span class="c1"&gt;# &amp;lt;ConditionalFreqDist with 2 conditions&amp;gt;&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# [&amp;#39;news&amp;#39;, &amp;#39;romance&amp;#39;]&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;FreqDist with 14394 samples and 100554 outcomes&amp;gt;&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;FreqDist&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="mi"&gt;8452&lt;/span&gt; &lt;span class="n"&gt;samples&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="mi"&gt;70022&lt;/span&gt; &lt;span class="n"&gt;outcomes&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;most_common&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;could&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# 193&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;2.3 绘制分布图和分布表&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cfd.tabulate(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
             samples=range(10), cumulative=True)

cfd.plot(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
         samples=range(10), cumulative=True)
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;2.4 使用双连词生成随机文本&lt;/h5&gt;
&lt;p&gt;条件频率分布是一个对许多NLP 任务都有用的数据结构。2.1总结了它们常用的方法。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;示例                                 描述
cfdist=ConditionalFreqDist(pairs)    从配对列表中创建条件频率分布                       
cfdist.conditions()                  条件
cfdist[condition]                    此条件下的频率分布
cfdist[condition][sample]            此条件下给定样本的频率
cfdist.tabulate()                    为条件频率分布制表
cfdist.tabulate(samples,conditions)  指定样本和条件限制下制表
cfdist.plot()                        为条件频率分布绘图
cfdist.plot(samples,conditions)      指定样本和条件限制下绘图
cfdist1&amp;lt;cfdist2                      测试样本在cfdist1中出现次数是否小于在cfdist2中出现次数
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3 更多关于Python：代码重用&lt;/h3&gt;
&lt;h3&gt;4 词汇资源&lt;/h3&gt;</content><category term="nltk"></category><category term="python"></category><category term="nltk"></category></entry><entry><title>生成函数调用关系图</title><link href="/posts/2018/10/31/gprof2dot.html" rel="alternate"></link><published>2018-10-31T13:57:01+08:00</published><updated>2018-10-31T13:57:01+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-10-31:/posts/2018/10/31/gprof2dot.html</id><summary type="html">&lt;h4&gt;用gprof生成函数调用关系图&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;CMakeLists.txt&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;SET(CMAKE_BUILD_TYPE &amp;quot;Debug&amp;quot;)
SET(CMAKE_C_FLAGS_DEBUG &amp;quot;$ENV{CXXFLAGS} -O0 -Wall -g2 -pg -ggdb&amp;quot;)  
SET(CMAKE_C_FLAGS_RELEASE &amp;quot;$ENV{CXXFLAGS} -O3 -Wall&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gcc -pg -g source.c -o binary
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;&lt;code&gt;./binary&lt;/code&gt; 生成 gmon.out&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gprof ./binary&amp;gt; gprof_output.txt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;graph2dot.py gprof_output.txt&amp;gt; call_graph.dot&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4&gt;valgrind 生成函数调用图 (推荐)&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;valgrind --tool=callgrind ./a …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h4&gt;用gprof生成函数调用关系图&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;CMakeLists.txt&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;SET(CMAKE_BUILD_TYPE &amp;quot;Debug&amp;quot;)
SET(CMAKE_C_FLAGS_DEBUG &amp;quot;$ENV{CXXFLAGS} -O0 -Wall -g2 -pg -ggdb&amp;quot;)  
SET(CMAKE_C_FLAGS_RELEASE &amp;quot;$ENV{CXXFLAGS} -O3 -Wall&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gcc -pg -g source.c -o binary
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;&lt;code&gt;./binary&lt;/code&gt; 生成 gmon.out&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gprof ./binary&amp;gt; gprof_output.txt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;graph2dot.py gprof_output.txt&amp;gt; call_graph.dot&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4&gt;valgrind 生成函数调用图 (推荐)&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;valgrind --tool=callgrind ./a.out
执行完成后在目录下生成&amp;quot;callgrind.out.XXX&amp;quot;的文件这是分析文件
gprof2dot.py -f callgrind callgrind.out.XXX &amp;gt; xxx.dot
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>python3 nltk chapter 2</title><link href="/posts/2018/10/25/python-nltk-chapter2.html" rel="alternate"></link><published>2018-10-25T22:03:03+08:00</published><updated>2018-10-25T22:03:03+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-10-25:/posts/2018/10/25/python-nltk-chapter2.html</id><summary type="html">&lt;h1&gt;获得文本语料和词汇资源&lt;/h1&gt;
&lt;h3&gt;1.获取文本语料库&lt;/h3&gt;
&lt;h5&gt;1.1 古腾堡语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;emma&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;emma&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concordance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;surprize&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.2 网络和聊天文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webtext …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h1&gt;获得文本语料和词汇资源&lt;/h1&gt;
&lt;h3&gt;1.获取文本语料库&lt;/h3&gt;
&lt;h5&gt;1.1 古腾堡语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;nltk&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;emma&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;emma&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concordance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;surprize&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;raw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corpus&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gutenberg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;austen-emma.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.2 网络和聊天文本&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;webtext&lt;/span&gt;
&lt;span class="n"&gt;webtext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;nps_chat&lt;/span&gt;
&lt;span class="n"&gt;nps_chat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;postsi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;10-19-20s_706posts.xml&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.3 布朗语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cg22&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;editorial&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;reviews&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.4 路透社语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;reuters&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;training/9865&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;training/9880&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reuters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;barley&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.5 就职演说语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;inaugural&lt;/span&gt;
&lt;span class="n"&gt;inaugural&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.6 标注文本语料库&lt;/h5&gt;
&lt;p&gt;http://nltk.org/data
http://nltk.org/howto&lt;/p&gt;
&lt;h5&gt;1.7 其他语言的语料库&lt;/h5&gt;
&lt;p&gt;nltk.corpus.udhr  # 超过300种语言的世界人权宣言&lt;/p&gt;
&lt;h5&gt;1.8 文本语料库的结构&lt;/h5&gt;
&lt;h6&gt;NLTK 中定义的基本语料库函数, 使用help(nltk.corpus.reader)可以找到更多的文档&lt;/h6&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;示例                       描述                          
fileids()                  语料库中的文件                
fileids([categories])      这些分类对应的语料库中的文件  
categories()               语料库中的分类                
categories([fileids])      这些文件对应的语料库中的分类  
raw()                      语料库的原始内容              
raw(fileids=[f1,f2,f3])    指定文件的原始内容            
raw(categories=[c1,c2])    指定分类的原始内容            
words()                    整个语料库中的词汇            
words(fileids=[f1,f2,f3])  指定文件中的词汇              
words(categories=[c1,c2])  指定分类中的词汇              
sents()                    整个语料库中的句子            
sents(fileids=[f1,f2,f3])  指定文件中的句子              
sents(categories=[c1,c2])  指定分类中的句子              
abspath(fileid)            指定文件在磁盘上的位置        
encoding(fileid)           文件的编码（如果知道的话）    
open(fileid)               打开指定语料库文件的文件流    
root                       本地安装的语料库根目录的路径  
readme()                   语料库的README文件的内容
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;1.9 加载你自己的语料库&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/usr/share/dict&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PlaintextCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;wordlists&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;
&lt;span class="n"&gt;corpus_root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;C:\corpora\penntreebank\parsed\mrg\wsj&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;file_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.*/wsj_.*\.mrg&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BracketParseCorpusReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corpus_root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_pattern&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ptb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fileids&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2 条件频率分布&lt;/h3&gt;
&lt;h5&gt;2.1 条件和事件&lt;/h5&gt;
&lt;h5&gt;2.2 按文体计数词汇&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nltk.corpus&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nltk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ConditionalFreqDist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;genre&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;brown&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;words&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;genre&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;  &lt;span class="c1"&gt;# &amp;lt;ConditionalFreqDist with 2 conditions&amp;gt;&lt;/span&gt;
&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conditions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# [&amp;#39;news&amp;#39;, &amp;#39;romance&amp;#39;]&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;FreqDist with 14394 samples and 100554 outcomes&amp;gt;&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;FreqDist&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="mi"&gt;8452&lt;/span&gt; &lt;span class="n"&gt;samples&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="mi"&gt;70022&lt;/span&gt; &lt;span class="n"&gt;outcomes&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;most_common&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cfd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;could&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# 193&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;2.3 绘制分布图和分布表&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cfd.tabulate(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
             samples=range(10), cumulative=True)

cfd.plot(conditions=[&amp;#39;English&amp;#39;, &amp;#39;German_Deutsch&amp;#39;],
         samples=range(10), cumulative=True)
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;2.4 使用双连词生成随机文本&lt;/h5&gt;
&lt;p&gt;条件频率分布是一个对许多NLP 任务都有用的数据结构。2.1总结了它们常用的方法。&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;示例                                 描述
cfdist=ConditionalFreqDist(pairs)    从配对列表中创建条件频率分布                       
cfdist.conditions()                  条件
cfdist[condition]                    此条件下的频率分布
cfdist[condition][sample]            此条件下给定样本的频率
cfdist.tabulate()                    为条件频率分布制表
cfdist.tabulate(samples,conditions)  指定样本和条件限制下制表
cfdist.plot()                        为条件频率分布绘图
cfdist.plot(samples,conditions)      指定样本和条件限制下绘图
cfdist1&amp;lt;cfdist2                      测试样本在cfdist1中出现次数是否小于在cfdist2中出现次数
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3 更多关于Python：代码重用&lt;/h3&gt;
&lt;h3&gt;4 词汇资源&lt;/h3&gt;</content><category term="nltk"></category><category term="python"></category><category term="nltk"></category></entry><entry><title>git如何永久删除文件</title><link href="/posts/2018/08/03/git-delete-file.html" rel="alternate"></link><published>2018-08-03T17:01:42+08:00</published><updated>2018-08-03T17:01:42+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-08-03:/posts/2018/08/03/git-delete-file.html</id><content type="html">&lt;p&gt;&lt;a href="/git/pdfs/git-delete-file.pdf"&gt;git如何永久删除文件.pdf&lt;/a&gt;&lt;/p&gt;</content><category term="git"></category><category term="git"></category></entry><entry><title>websocketd</title><link href="/posts/2018/05/22/websocketd.html" rel="alternate"></link><published>2018-05-22T19:43:51+08:00</published><updated>2018-05-22T19:43:51+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-05-22:/posts/2018/05/22/websocketd.html</id><content type="html">&lt;p&gt;websocketd是一个简单的websocket代理服务。标准输入（stdin）就是 WebSocket 的输入，标准输出（stdout）就是 WebSocket 的输出。&lt;/p&gt;</content><category term="web"></category><category term="web"></category><category term="command"></category></entry><entry><title>shellinabox</title><link href="/posts/2018/05/22/shellinabox.html" rel="alternate"></link><published>2018-05-22T19:37:34+08:00</published><updated>2018-05-22T19:37:34+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-05-22:/posts/2018/05/22/shellinabox.html</id><content type="html">&lt;p&gt;shellinabox 能够通过Web浏览器模拟一个远程系统的Shell. 它和SSH没有任何关系.&lt;/p&gt;
&lt;p&gt;shellinaboxd -t  (开启一个login shell)&lt;/p&gt;
&lt;p&gt;shellinaboxd -t -s '/:root:root:/:/bin/bash' --port=8080  (不需要输入密码,直接登陆)&lt;/p&gt;</content><category term="linux"></category><category term="shell"></category><category term="terminal"></category><category term="web"></category><category term="linux"></category></entry><entry><title>日历并不是连续的</title><link href="/posts/2018/04/30/cal-9-1752.html" rel="alternate"></link><published>2018-04-30T13:27:17+08:00</published><updated>2018-04-30T13:27:17+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-04-30:/posts/2018/04/30/cal-9-1752.html</id><content type="html">&lt;p&gt;一个小知识, 日历并不是连续的&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;zhiliao@zhiliao ~&amp;gt; cal 9 1752
      九月 1752     
日 一 二 三 四 五 六
       1  2 14 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30
&lt;/pre&gt;&lt;/div&gt;</content><category term="other"></category><category term="other"></category></entry><entry><title>linux 使用network manager 开启wifi热点</title><link href="/posts/2018/04/13/networkmanager-wifi-ap.html" rel="alternate"></link><published>2018-04-13T19:42:58+08:00</published><updated>2018-04-13T19:42:58+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-04-13:/posts/2018/04/13/networkmanager-wifi-ap.html</id><content type="html">&lt;p&gt;linux 使用network manager 开启wifi热点&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;开启热点
nmcli device wifi hotspot  ssid zhiliao-test  password 12345678
或者
nmcli device wifi hotspot con-name zhiliao-test-5G ssid zhiliao-test-5G band a password 12345678

删除热点配置
nmcli connection show
nmcli  connection delete zhiliao-test-5G
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="wireless"></category><category term="linux"></category></entry><entry><title>通过浏览器下载 google play app 的方法</title><link href="/posts/2018/01/03/google-play-app.html" rel="alternate"></link><published>2018-01-03T10:39:56+08:00</published><updated>2018-01-03T10:39:56+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-01-03:/posts/2018/01/03/google-play-app.html</id><content type="html">&lt;h4&gt;通过网站&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;https://apkpure.com/cn
https://www.apkmirror.com
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;通过firefox扩展&lt;/h4&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;APK Downloader
Toolbox for Google Play Store
&lt;/pre&gt;&lt;/div&gt;</content><category term="android"></category><category term="android"></category></entry><entry><title>记录一下我在Android上常用的APP</title><link href="/posts/2018/01/03/android-app.html" rel="alternate"></link><published>2018-01-03T10:20:33+08:00</published><updated>2018-01-03T10:20:33+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2018-01-03:/posts/2018/01/03/android-app.html</id><content type="html">&lt;p&gt;一个常用软件列表&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Adobe Acrobat
AirDroid
Chrome
JuiceSSH
Pocket
QQ
Shadowsocks
Solid Explorer
Trello
Yandex Browser
mpv
京东
京东金融
哔哩哔哩
微信x2
支付宝
滴答清单
网易云音乐
网易有道词典
高德地图
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;一个不太常用软件列表&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Cortana
ES文件浏览器
Microsoft Remote Desktop
QQ邮箱
TeamViewer
WPS Office
X浏览器
双开助手多开分身
密罐
悟空遥控器
扫描全能王
招商银行
掌阅
有道云笔记
百词斩
简书
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;未完待续...&lt;/h4&gt;</content><category term="android"></category><category term="software"></category></entry><entry><title>在浏览器中显示gtk+应用</title><link href="/posts/2017/12/29/gtk-broadway.html" rel="alternate"></link><published>2017-12-29T18:14:49+08:00</published><updated>2017-12-29T18:14:49+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-29:/posts/2017/12/29/gtk-broadway.html</id><summary type="html">&lt;h3&gt;在浏览器中显示gtk+应用&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;GDK_BACKEND&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;broadway &lt;span class="nv"&gt;BROADWAY_DISPLAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;:5 gtk3-demo
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;BROADWAY_DISPLAY是可选的, 默认是0&lt;/p&gt;
&lt;p&gt;port = 8080 + display&lt;/p&gt;
&lt;p&gt;所以在浏览器中的访问地址是 &lt;code&gt;http://127.0.0.1:8085&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;参考连接&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developer.gnome.org/gtk3/stable/gtk-broadway.html"&gt;https://developer.gnome.org/gtk3/stable/gtk-broadway.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.gnome.org/gtk3/unstable/gtk-building.html"&gt;https://developer.gnome.org/gtk3/unstable/gtk-building.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.gnome.org/alexl/2011/04/18/broadway-update-3/"&gt;https://blogs.gnome.org/alexl/2011/04/18/broadway-update-3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/symbiose/symbiose/wiki/Broadway"&gt;https://github.com/symbiose/symbiose …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h3&gt;在浏览器中显示gtk+应用&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;GDK_BACKEND&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;broadway &lt;span class="nv"&gt;BROADWAY_DISPLAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;:5 gtk3-demo
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;BROADWAY_DISPLAY是可选的, 默认是0&lt;/p&gt;
&lt;p&gt;port = 8080 + display&lt;/p&gt;
&lt;p&gt;所以在浏览器中的访问地址是 &lt;code&gt;http://127.0.0.1:8085&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;参考连接&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developer.gnome.org/gtk3/stable/gtk-broadway.html"&gt;https://developer.gnome.org/gtk3/stable/gtk-broadway.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.gnome.org/gtk3/unstable/gtk-building.html"&gt;https://developer.gnome.org/gtk3/unstable/gtk-building.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.gnome.org/alexl/2011/04/18/broadway-update-3/"&gt;https://blogs.gnome.org/alexl/2011/04/18/broadway-update-3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/symbiose/symbiose/wiki/Broadway"&gt;https://github.com/symbiose/symbiose/wiki/Broadway&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.tarnyko.net/en/?q=node/8"&gt;Tutorial : using GTK+3 "Broadway" on Windows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="linux"></category><category term="linux"></category><category term="gtk+"></category><category term="gnome"></category></entry><entry><title>SysRq</title><link href="/posts/2017/12/29/linux-sysrq.html" rel="alternate"></link><published>2017-12-29T14:20:16+08:00</published><updated>2017-12-29T14:20:16+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-29:/posts/2017/12/29/linux-sysrq.html</id><summary type="html">&lt;h2&gt;SysRq HELP&lt;/h2&gt;
&lt;h5&gt;开启这个功能&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /proc/sys/kernel/sysrq  &lt;span class="c1"&gt;# 或者在 /etc/sysctl.conf 中设置 kernel.sysrq=1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;用法1:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; b &amp;gt; /proc/sysrq-trigger
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;用法2:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Alt + SysRq + b  &lt;span class="c1"&gt;# SysRq 键在x86上一般为 [print screen] 键&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;命令介绍&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;loglevel(0-9)
reboot(b)
crash(c)
terminate-all-tasks(e)
memory-full-oom-kill(f)
kill-all-tasks(i)
thaw-filesystems(j)
sak(k)
show-backtrace-all-active-cpus(l …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h2&gt;SysRq HELP&lt;/h2&gt;
&lt;h5&gt;开启这个功能&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /proc/sys/kernel/sysrq  &lt;span class="c1"&gt;# 或者在 /etc/sysctl.conf 中设置 kernel.sysrq=1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;用法1:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; b &amp;gt; /proc/sysrq-trigger
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;用法2:&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Alt + SysRq + b  &lt;span class="c1"&gt;# SysRq 键在x86上一般为 [print screen] 键&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;命令介绍&lt;/h5&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;loglevel(0-9)
reboot(b)
crash(c)
terminate-all-tasks(e)
memory-full-oom-kill(f)
kill-all-tasks(i)
thaw-filesystems(j)
sak(k)
show-backtrace-all-active-cpus(l)
show-memory-usage(m)
nice-all-RT-tasks(n)
poweroff(o)
show-registers(p)
show-all-timers(q)
unraw(r)
sync(s)
show-task-states(t)
unmount(u)
force-fb(V)
show-blocked-tasks(w)
dump-ftrace-buffer(z)
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category></entry><entry><title>daemonize</title><link href="/posts/2017/12/11/daemonize.html" rel="alternate"></link><published>2017-12-11T16:43:49+08:00</published><updated>2017-12-11T16:43:49+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-11:/posts/2017/12/11/daemonize.html</id><content type="html">&lt;p&gt;daemonize 能够把命令作为守护进程 (daemon) 运行.
并且支持自动创建pid文件, 自动创建/检查文件锁.&lt;/p&gt;
&lt;p&gt;顺便记录一下几个相关命令, &lt;code&gt;daemonize, nohup, setsid, &amp;amp;, disown&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如何用bash实现daemon
http://blog.n01se.net/blog-n01se-net-p-145.html&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="bash"></category></entry><entry><title>git hooks post-receive 中 git pull 失败</title><link href="/posts/2017/12/11/git-hooks-post-receive.html" rel="alternate"></link><published>2017-12-11T15:35:51+08:00</published><updated>2017-12-11T15:35:51+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-12-11:/posts/2017/12/11/git-hooks-post-receive.html</id><content type="html">&lt;p&gt;git 在运行时会用 $GIT_DIR 这个环境变量&lt;/p&gt;
&lt;p&gt;解决方法是在hooks脚本里面加上 &lt;code&gt;unset $(git rev-parse --local-env-vars)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或者使用 env -i git pull&lt;/p&gt;</content><category term="git"></category><category term="git"></category></entry><entry><title>cpio</title><link href="/posts/2017/08/20/linux-cpio.html" rel="alternate"></link><published>2017-08-20T12:31:36+08:00</published><updated>2017-08-20T12:31:36+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-08-20:/posts/2017/08/20/linux-cpio.html</id><content type="html">&lt;ul&gt;
&lt;li&gt;建立 cpio文件 &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;find ./files | cpio -o -H newc &amp;gt; filename.cpio
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;解开cpio文件&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cd  dir1
cpio -ivd  &amp;lt; filename.cpio  
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;查看cpio文件中的内容&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cpio -ivt &amp;lt; filename.cpio
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;* 如果find显示文件路径是绝对的， 那么解压后可能会覆盖已有文件。 最好使用相对路径压缩。&lt;/code&gt;&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>dd / 复制 文件显示进度</title><link href="/posts/2017/08/13/dd-status.html" rel="alternate"></link><published>2017-08-13T22:00:20+08:00</published><updated>2017-08-13T22:00:20+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-08-13:/posts/2017/08/13/dd-status.html</id><content type="html">&lt;h4&gt;dd&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;dd 使用参数 &lt;code&gt;status=progress&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;killall / pkill -USR1 dd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;使用pv命令. &lt;code&gt;pv src &amp;gt; dest&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;复制文件&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;rsync -a --progress src dest&lt;/li&gt;
&lt;li&gt;scp -v #在不同机器上拷贝显示进度条&lt;/li&gt;
&lt;/ol&gt;</content><category term="linux"></category><category term="linux"></category><category term="command"></category></entry><entry><title>linux开启键盘灯的方法</title><link href="/posts/2017/06/24/linux-keyboard-led.html" rel="alternate"></link><published>2017-06-24T00:13:44+08:00</published><updated>2017-06-24T00:13:44+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-24:/posts/2017/06/24/linux-keyboard-led.html</id><content type="html">&lt;p&gt;现在许多背光键盘的背光灯是通过 Scroll 这个键控制的. 
在windows下这没啥问题, 一按 scroll 这个键 ,背光灯就亮了,再按,就灭了.
但是, 在Linux下, 按这个键 scroll 没反应.
所以记录一下linux开启键盘灯的方法&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# X 中开启键盘灯
xset led on

# X 中关闭键盘灯
xset led off
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="keyboard"></category><category term="command"></category></entry><entry><title>记录一些 firefox 附加组件</title><link href="/posts/2017/06/23/firefox-addons.html" rel="alternate"></link><published>2017-06-23T18:22:59+08:00</published><updated>2017-06-23T18:22:59+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-23:/posts/2017/06/23/firefox-addons.html</id><summary type="html">&lt;h3&gt;记录一些 firefox 附加组件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# Adblock plus
# Stylish
# iMacros for Firefox
Awesome Screenshot
DownThemAll
EPUBReader
FoxyProxy Standard
Ghostery
Greasemonkey
LastPass
MarkDown Here
PDF Mage
QR Code Generator
SimilarWeb
Tree Style Tab
User-Agent Switcher
uBlock Origin
新同文堂
百度广告屏蔽
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;下面是一些 userscripts&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Crack Url Wait Code Login
My163MusicHelper
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;下面是一些 Stylish userstyles (https://userstyles.org)&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Baidu …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h3&gt;记录一些 firefox 附加组件&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# Adblock plus
# Stylish
# iMacros for Firefox
Awesome Screenshot
DownThemAll
EPUBReader
FoxyProxy Standard
Ghostery
Greasemonkey
LastPass
MarkDown Here
PDF Mage
QR Code Generator
SimilarWeb
Tree Style Tab
User-Agent Switcher
uBlock Origin
新同文堂
百度广告屏蔽
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;下面是一些 userscripts&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Crack Url Wait Code Login
My163MusicHelper
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;下面是一些 Stylish userstyles (https://userstyles.org)&lt;/h3&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Baidu&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;NieR&lt;/span&gt;
&lt;span class="n"&gt;NieR&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;Google&lt;/span&gt;
&lt;span class="n"&gt;Taobao&lt;/span&gt; &lt;span class="n"&gt;XX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="firefox"></category><category term="firefox"></category><category term="software"></category></entry><entry><title>记录一下我常装的 Arch Linux package</title><link href="/posts/2017/06/16/archlinux-package.html" rel="alternate"></link><published>2017-06-16T16:52:14+08:00</published><updated>2017-06-16T16:52:14+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-16:/posts/2017/06/16/archlinux-package.html</id><summary type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# dmidecode
# onboard  # 屏幕键盘 
# yay
(xfce4) xfce4-datetime-plugin
(xfce4) xfce4-notes-plugin
(xfce4) xfce4-pulseaudio-plugin
(xfce4) xfce4-screenshooter
(xfce4) xfce4-sensors-plugin
(xfce4) xfce4-terminal
(xfce4) xfce4-weather-plugin
(xfce4) xfce4-whiskermenu-plugin
alsa-utils
avahi
base
base-devel
bash-completion
calibre
cinnamon or xfce4
code  # (vscode)
dconf-editor
deepin-screenshot
deepin.com.qq.im (aur)
devhelp
dnsmasq
dosfstools &amp;amp; mtools # for fat32
electron-netease-cloud-music  # (archlinuxcn)
electronic-wechat
eog or gthumb …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# dmidecode
# onboard  # 屏幕键盘 
# yay
(xfce4) xfce4-datetime-plugin
(xfce4) xfce4-notes-plugin
(xfce4) xfce4-pulseaudio-plugin
(xfce4) xfce4-screenshooter
(xfce4) xfce4-sensors-plugin
(xfce4) xfce4-terminal
(xfce4) xfce4-weather-plugin
(xfce4) xfce4-whiskermenu-plugin
alsa-utils
avahi
base
base-devel
bash-completion
calibre
cinnamon or xfce4
code  # (vscode)
dconf-editor
deepin-screenshot
deepin.com.qq.im (aur)
devhelp
dnsmasq
dosfstools &amp;amp; mtools # for fat32
electron-netease-cloud-music  # (archlinuxcn)
electronic-wechat
eog or gthumb 
evince
fcitx-configtool
fcitx-im
fcitx-libpinyin
feedreader
file-roller
filezilla
firefox &amp;amp; firefox-i18n-zh-cn
firejail
fish
flashplugin
fontconfig-infinality  # (aur) 美化字体 
gedit
git
gnome-terminal
gnome-user-share  # (共享文件, 支持局域网的windows与linux)
gnote
google-chrome
gparted
guake  # 下拉式终端 
gvfs
gvfs-mtp
gvfs-smb
htop
kde connect
lftp
libreoffice-still-zh-CN
lightdm &amp;amp; lightdm-gtk-greeter  # or lxdm
linux-lts &amp;amp; linux-zen
mdadm &amp;amp; lvm2
minicom
moc
mosh
mpv
nautilus
nautilus-open-terminal
nautilus-share
neofetch
network-manager-applet
networkmanager
ntfs-3g
numix-circle-icon-theme-git
numix-gtk-theme
openssh
os-prober
p7zip
papirus-icon-theme  # 赞
pelican &amp;amp; lftp
pepper-flash
pkgfile
poppler-data
pulseaudio
pycharm
qbittorrent-nox  # 远程下载
qt5-doc
qtcreator
remmina or vinagre #  remote desktop client written in GTK+  # vnc  
rhythmbox &amp;amp; osdlyrics  # music player 
scrcpy
sdcv
shadowsocks-libev
slock
smplayer
sshpass
strace
sushi
sushi  # A quick previewer for Nautilus
thunderbird
tmux
transmission-gtk
tsocks (proxychains替代工具)
ttf-wps-fonts
uget2 &amp;amp; aria2 &amp;amp; axel
unrar
v2raya
vim
virtualbox
visual-studio-code-bin
wine-wechat
wireshark
wqy-microhei
xfsprogs
xorg-drivers(xf86-input-synaptics, xf86-video-intel, xf86-video-vesa)
xorg-server
xorg-xinit
xorg-xkill 
yay  # (yaourt 代替品)
ydcv # or sdcv
zip &amp;amp; unzip
zsh # +oh-my-zsh
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ffmpeg
gimp
gnome-subtitles  # 字幕编辑
inkscape  # svg 编辑
shotcut  # 视频剪辑
simplescreenrecorder  # 录屏
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;桌面主题 &lt;code&gt;numix + (discreet flat)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;未完待续...&lt;/p&gt;
&lt;p&gt;本文不定期更新&lt;/p&gt;</content><category term="linux"></category><category term="linux"></category><category term="software"></category><category term="arch"></category></entry><entry><title>遇到的一个python的坑</title><link href="/posts/2017/06/14/python.html" rel="alternate"></link><published>2017-06-14T16:23:03+08:00</published><updated>2017-06-14T16:23:03+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-14:/posts/2017/06/14/python.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fun&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]):&lt;/span&gt;
    &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;fun&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# [&amp;#39;A&amp;#39;]&lt;/span&gt;

&lt;span class="n"&gt;fun&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# [&amp;#39;A&amp;#39;, &amp;#39;A&amp;#39;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;第二个&lt;/p&gt;
&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="python"></category><category term="python"></category></entry><entry><title>linux设置文件只读, 直到关机</title><link href="/posts/2017/06/14/set-file-readonly-until-reboot.html" rel="alternate"></link><published>2017-06-14T09:58:28+08:00</published><updated>2017-06-14T09:58:28+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-14:/posts/2017/06/14/set-file-readonly-until-reboot.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mount -o &lt;span class="nb"&gt;bind&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;
mount -o remount,bind,ro &lt;span class="nv"&gt;$file&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="linux"></category><category term="linux"></category><category term="bash"></category><category term="command"></category></entry><entry><title>记录一下我在windows平台常用的软件</title><link href="/posts/2017/06/07/windows-software.html" rel="alternate"></link><published>2017-06-07T22:45:00+08:00</published><updated>2017-06-07T22:45:00+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/windows-software.html</id><content type="html">&lt;div class="highlight-custom"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ADSafe
Adobe Acrobat Reader DC
LibreOffice
SMPlayer
SumatraPDF
UltraISO
VLC
VMware Workstation
Visual Studio Code
VitrualBox
Xshell
bootice
chrome
firefox
foobar2000
gimp
git-bash
google拼音输入法
grub4dos
haozip
listary
putty
swish
分区助手
有道词典
网易云音乐
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;未完待续...&lt;/h4&gt;</content><category term="windows"></category><category term="windows"></category><category term="software"></category></entry><entry><title>iperf3测试带宽</title><link href="/posts/2017/06/07/iperf3.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2017-06-07T00:00:00+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/iperf3.html</id><content type="html">&lt;h1&gt;TCP&lt;/h1&gt;
&lt;p&gt;服务端&lt;code&gt;iperf3 -s -p 12345&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;客户端测试上传到服务器&lt;code&gt;iperf3 -c server_host -p 12345&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;客户端测试从服务器下载&lt;code&gt;iperf3 -c server_host -p 12345 -R&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;UDP&lt;/h1&gt;
&lt;p&gt;客户端添加 -u 参数即可&lt;/p&gt;
&lt;h1&gt;传输多个流测试(必加参数)&lt;/h1&gt;
&lt;p&gt;加上参数 -P 10 (10个流同步测试)&lt;/p&gt;</content><category term="network"></category><category term="linux"></category><category term="network"></category></entry><entry><title>vim 排序文字</title><link href="/posts/2017/06/07/vim-sort.html" rel="alternate"></link><published>2017-06-07T00:00:00+08:00</published><updated>2017-06-07T00:00:00+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-07:/posts/2017/06/07/vim-sort.html</id><content type="html">&lt;p&gt;可以用 &lt;code&gt;ctrl-V&lt;/code&gt; 选中后输入 &lt;code&gt;:sort&lt;/code&gt; 排序&lt;/p&gt;</content><category term="editor"></category><category term="editor"></category><category term="vim"></category></entry><entry><title>apt install 一直 size mismatch</title><link href="/posts/2017/06/03/apt-size-mismatch.html" rel="alternate"></link><published>2017-06-03T08:32:00+08:00</published><updated>2017-06-03T08:32:00+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-03:/posts/2017/06/03/apt-size-mismatch.html</id><content type="html">&lt;p&gt;raspberry pi 的 debian， apt安装软件是一直提示 size mismatch。
后来发现这是运营商(ISP)缓存的问题， 运营商有些时候是通过文件名作为缓存的， 导致服务器文件更新后，用户依然下载到旧的版本。
解决方法是， apt source 使用https协议就好了。&lt;/p&gt;
&lt;p&gt;后来发现有人和我遇到同样的问题：https://bbs.deepin.org/forum.php?mod=viewthread&amp;amp;tid=138536&lt;/p&gt;</content><category term="linux"></category><category term="debian"></category><category term="linux"></category></entry><entry><title>pelican博客搭建总结</title><link href="/posts/2017/06/03/pelican.html" rel="alternate"></link><published>2017-06-03T06:56:00+08:00</published><updated>2017-06-03T06:56:00+08:00</updated><author><name>zhiliao</name></author><id>tag:None,2017-06-03:/posts/2017/06/03/pelican.html</id><summary type="html">&lt;h4&gt;pelican介绍&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://getpelican.com/" title="pelican"&gt;Pelican&lt;/a&gt; 是用Python实现的一个静态网站生成器. 支持以下功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 Markdown 或 reStructuredText 或 AsciiDoc 来编写内容&lt;/li&gt;
&lt;li&gt;生成静态网页&lt;/li&gt;
&lt;li&gt;支持许多主题与插件&lt;/li&gt;
&lt;li&gt;语法高亮&lt;/li&gt;
&lt;li&gt;支持从很多地方导入&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;使用方法&lt;/h4&gt;
&lt;p&gt;参考 https://getpelican.com/ 和 http://docs.getpelican.com/en/stable/&lt;/p&gt;
&lt;h4&gt;windows遇到的一些坑&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;windows 平台下 &lt;code&gt;ValueError: embedded null byte&lt;/code&gt; 的报错
解决方法：
在 &lt;code&gt;.\lib\site-packages\pelican\utils.py&lt;/code&gt; 文件中， 找到函数 &lt;code&gt;strftime&lt;/code&gt; ，在第一行添加 &lt;code&gt;locale.setlocale(locale.LC_ALL …&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h4&gt;pelican介绍&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://getpelican.com/" title="pelican"&gt;Pelican&lt;/a&gt; 是用Python实现的一个静态网站生成器. 支持以下功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 Markdown 或 reStructuredText 或 AsciiDoc 来编写内容&lt;/li&gt;
&lt;li&gt;生成静态网页&lt;/li&gt;
&lt;li&gt;支持许多主题与插件&lt;/li&gt;
&lt;li&gt;语法高亮&lt;/li&gt;
&lt;li&gt;支持从很多地方导入&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;使用方法&lt;/h4&gt;
&lt;p&gt;参考 https://getpelican.com/ 和 http://docs.getpelican.com/en/stable/&lt;/p&gt;
&lt;h4&gt;windows遇到的一些坑&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;windows 平台下 &lt;code&gt;ValueError: embedded null byte&lt;/code&gt; 的报错
解决方法：
在 &lt;code&gt;.\lib\site-packages\pelican\utils.py&lt;/code&gt; 文件中， 找到函数 &lt;code&gt;strftime&lt;/code&gt; ，在第一行添加 &lt;code&gt;locale.setlocale(locale.LC_ALL, 'en')&lt;/code&gt;
参考 &lt;a href="https://stackoverflow.com/questions/34434190/value-error-embedded-null-byte-when-using-pelican-content-command-to-generate-m" title="stackoverflow"&gt;stackoverflow中的解决方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;windows 平台下 &lt;code&gt;ghp-import&lt;/code&gt; 应该安装pip中的最新版， 并非 pelican3.7.1文档 所说的 &lt;code&gt;https://github.com/chevah/ghp-import/archive/win-support.zip&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;参考连接：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://getpelican.com/" title="pelican"&gt;pelican官方网站&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/stable/" title="pelican文档"&gt;pelican文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/34434190/value-error-embedded-null-byte-when-using-pelican-content-command-to-generate-m" title="stackoverflow"&gt;stackoverflow: How to fix Pelican error&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://xingjian.me/how-to-fix-value-error-embedded-null-byte-error.html" title="How to fix Python error: ValueError: embedded null byte"&gt;Chinese version: How to fix Pelican error&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="blog"></category><category term="pelican"></category><category term="python"></category><category term="blog"></category></entry></feed>